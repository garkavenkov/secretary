"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[144],{8821:(e,t,o)=>{o.d(t,{Z:()=>y});var r=o(8222),a={class:"row mb-3"},n={class:"col"},i=(0,r.createElementVNode)("label",{for:"permissionCode",class:"form-label"},"Код",-1),s={id:"permissionCodeValidation",class:"invalid-feedback"},l={class:"row mb-3"},c={class:"col"},d=(0,r.createElementVNode)("label",{for:"permissionName",class:"form-label"},"Назва",-1),m={id:"permissionNameValidation",class:"invalid-feedback"},p={class:"row mb-3"},u={class:"col"},f=(0,r.createElementVNode)("label",{for:"permissionDescription",class:"form-label"},"Опис",-1),E={id:"permissionDescriptionValidation",class:"invalid-feedback"},V={class:"row mb-3"},N={class:"col"},v=(0,r.createElementVNode)("label",{for:"permissionError",class:"form-label"},"Відмова в доступі",-1),h={id:"permissionDescriptionValidation",class:"invalid-feedback"};var D=o(6036),b=o(2965),g=o(3753);const w={name:"PermissionForm",components:{ModalForm:D.Z},props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},mixins:[b.Z,g.Z],data:function(){return{apiUrl:"/api/v1/permissions"}},methods:{clearFormData:function(){this.formData.code="",this.formData.name="",this.formData.description="",this.formData.error="",this.errors=[]}}};const y=(0,o(3744).Z)(w,[["render",function(e,t,o,D,b,g){var w=(0,r.resolveComponent)("ModalForm");return(0,r.openBlock)(),(0,r.createBlock)(w,{formId:"PermissionForm",onSubmitData:e.submitData,onCloseForm:g.clearFormData},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[i,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"permissionCode","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.code=e})},null,2),[[r.vModelText,o.formData.code]]),(0,r.createElementVNode)("div",s,(0,r.toDisplayString)(e.getError("code")),1)])]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",c,[d,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"permissionName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[r.vModelText,o.formData.name]]),(0,r.createElementVNode)("div",m,(0,r.toDisplayString)(e.getError("name")),1)])]),(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",u,[f,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("description")?"is-invalid":""]),id:"permissionDescription","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.description=e})},null,2),[[r.vModelText,o.formData.description]]),(0,r.createElementVNode)("div",E,(0,r.toDisplayString)(e.getError("description")),1)])]),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",N,[v,(0,r.withDirectives)((0,r.createElementVNode)("textarea",{class:(0,r.normalizeClass)(["form-control",e.hasError("error")?"is-invalid":""]),id:"permissionError",rows:"2","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.error=e})},"\n                ",2),[[r.vModelText,o.formData.error]]),(0,r.createElementVNode)("div",h,(0,r.toDisplayString)(e.getError("error")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},2867:(e,t,o)=>{o.r(t),o.d(t,{default:()=>V});var r=o(8222),a={class:"card"},n={class:"card-header"},i={class:"dictionary-name__wrapper"},s=(0,r.createElementVNode)("span",null,"Довідник 'Дозволи'",-1),l=[(0,r.createElementVNode)("span",{class:"mdi mdi-plus"},null,-1)],c={class:"card-body"},d=(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("th"),(0,r.createElementVNode)("th",null,"Код"),(0,r.createElementVNode)("th",null,"Назва "),(0,r.createElementVNode)("th",null,"Опис")],-1),m=(0,r.createElementVNode)("span",{class:"mdi mdi-eye-outline"},null,-1);var p=o(8877),u=o(6558),f=o(8821);const E={name:"PermissionsMain",components:{DataTable:u.Z,PermissionForm:f.Z},provide:function(){return{modalTitle:"Новий дозвіл"}},data:function(){return{permissions:[],formData:{code:"",name:"",description:"",error:""}}},methods:{fetchData:function(){var e=this;axios.get("/api/v1/permissions").then((function(t){e.permissions=t.data.data}))},openPermissionForm:function(){new p.u_(document.getElementById("PermissionForm")).show()}},created:function(){this.fetchData()}};const V=(0,o(3744).Z)(E,[["render",function(e,t,o,p,u,f){var E=(0,r.resolveComponent)("breadcrumbs"),V=(0,r.resolveComponent)("router-link"),N=(0,r.resolveComponent)("DataTable"),v=(0,r.resolveComponent)("PermissionForm");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(E),(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",i,[s,(0,r.createElementVNode)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=function(){return f.openPermissionForm&&f.openPermissionForm.apply(f,arguments)})},l)])]),(0,r.createElementVNode)("div",c,[(0,r.createVNode)(N,{dataTable:u.permissions,tableHeaderClass:"table-dark"},{header:(0,r.withCtx)((function(){return[d]})),default:(0,r.withCtx)((function(e){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.paginatedData,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:e.id},[(0,r.createElementVNode)("td",null,[(0,r.createVNode)(V,{to:{name:"permissions.show",params:{id:e.id}}},{default:(0,r.withCtx)((function(){return[m]})),_:2},1032,["to"])]),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.code),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.description),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,r.createVNode)(v,{formData:u.formData,action:"create",onRefreshData:f.fetchData},null,8,["formData","onRefreshData"])],64)}]])},5634:(e,t,o)=>{o.r(t),o.d(t,{default:()=>B});var r=o(8222),a={class:"row"},n={class:"col-md-8 mx-auto"},i={key:0,class:"card"},s={class:"card-header"},l=(0,r.createElementVNode)("h5",null,"Інформація",-1),c={class:"dropdown"},d=(0,r.createElementVNode)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,r.createElementVNode)("span",{class:"mdi mdi-cogs"})],-1),m={class:"dropdown-menu"},p=(0,r.createElementVNode)("span",{class:"mdi mdi-pencil text-warning me-1"},null,-1),u=(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("hr",{class:"dropdown-divider"})],-1),f=(0,r.createElementVNode)("span",{class:"mdi mdi-trash-can text-danger me-1"},null,-1),E={class:"card-body"},V={class:"row mb-2"},N=(0,r.createElementVNode)("div",{class:"col-md-3"}," Код ",-1),v={class:"col-md-9"},h={class:"row mb-2"},D=(0,r.createElementVNode)("div",{class:"col-md-3"}," Назва ",-1),b={class:"col-md-9"},g={class:"row mb-2"},w=(0,r.createElementVNode)("div",{class:"col-md-3"}," Опис ",-1),y={class:"col-md-9"},C={class:"row mb-2"},k=(0,r.createElementVNode)("div",{class:"col-md-3"}," Доступ заборонено ",-1),F={class:"col-md-9"};var x=o(8877),P=o(8821);const S={name:"PermissionsShow",props:{id:{type:[String,Number],required:!0}},components:{PermissionForm:P.Z},provide:function(){return{modalTitle:"Редагування дозволу",modalSubmitCaption:"Зберегти"}},data:function(){return{permission:{},formData:{},apiUrl:"/api/v1/permissions"}},methods:{fetchData:function(){var e=this;axios.get("".concat(this.apiUrl,"/").concat(this.id)).then((function(t){e.permission=t.data.data}))},openPermissionForm:function(){this.formData=Object.assign({},this.permission),new x.u_(document.getElementById("PermissionForm")).show()},deletePermission:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити дозвіл").then((function(o){o.isConfirmed&&axios.delete("".concat(t.apiUrl,"/").concat(e)).then((function(e){t.$toast(e.data.message),t.$router.push({name:"permissions"})})).catch((function(e){t.$errorMessage("Неможливо видалити дозвіл",e.response.data.message,"Зрозуміло")}))}))}},created:function(){this.fetchData()}};const B=(0,o(3744).Z)(S,[["render",function(e,t,o,x,P,S){var B=(0,r.resolveComponent)("breadcrumbs"),T=(0,r.resolveComponent)("PermissionForm");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(B),(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[P.permission.code?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",s,[l,(0,r.createElementVNode)("div",c,[d,(0,r.createElementVNode)("ul",m,[(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(){return S.openPermissionForm&&S.openPermissionForm.apply(S,arguments)})},[p,(0,r.createTextVNode)(" Редагувати ")])]),u,(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{class:"dropdown-item",onClick:t[1]||(t[1]=function(e){return S.deletePermission(P.permission.id)})},[f,(0,r.createTextVNode)(" Видалити ")])])])])]),(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("div",V,[N,(0,r.createElementVNode)("div",v,(0,r.toDisplayString)(P.permission.code),1)]),(0,r.createElementVNode)("div",h,[D,(0,r.createElementVNode)("div",b,(0,r.toDisplayString)(P.permission.name),1)]),(0,r.createElementVNode)("div",g,[w,(0,r.createElementVNode)("div",y,(0,r.toDisplayString)(P.permission.description),1)]),(0,r.createElementVNode)("div",C,[k,(0,r.createElementVNode)("div",F,(0,r.toDisplayString)(P.permission.error),1)])])])):(0,r.createCommentVNode)("",!0)])]),(0,r.createVNode)(T,{formData:P.formData,action:"update",onRefreshData:S.fetchData},null,8,["formData","onRefreshData"])],64)}]])}}]);