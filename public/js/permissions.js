"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[144],{8821:(r,a,o)=>{o.d(a,{Z:()=>k});var i=o(8222),s={class:"row mb-3"},e={class:"col"},n=(0,i._)("label",{for:"permissionCode",class:"form-label"},"Код",-1),t={id:"permissionCodeValidation",class:"invalid-feedback"},l={class:"row mb-3"},d={class:"col"},m=(0,i._)("label",{for:"permissionName",class:"form-label"},"Назва",-1),c={id:"permissionNameValidation",class:"invalid-feedback"},u={class:"row mb-3"},p={class:"col"},f=(0,i._)("label",{for:"permissionDescription",class:"form-label"},"Опис",-1),_={id:"permissionDescriptionValidation",class:"invalid-feedback"},v={class:"row mb-3"},h={class:"col"},b=(0,i._)("label",{for:"permissionError",class:"form-label"},"Відмова в доступі",-1),w={id:"permissionDescriptionValidation",class:"invalid-feedback"};var D=o(6036),g=o(2965),y=o(3753);const F={name:"PermissionForm",components:{ModalForm:D.Z},props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},mixins:[g.Z,y.Z],data:function(){return{apiUrl:"/api/v1/permissions"}},methods:{clearFormData:function(){this.formData.code="",this.formData.name="",this.formData.description="",this.formData.error="",this.errors=[]}}};const k=(0,o(3744).Z)(F,[["render",function(r,a,o,D,g,y){var F=(0,i.up)("ModalForm");return(0,i.wg)(),(0,i.j4)(F,{formId:"PermissionForm",onSubmitData:r.submitData,onCloseForm:y.clearFormData},{default:(0,i.w5)((function(){return[(0,i._)("div",s,[(0,i._)("div",e,[n,(0,i.wy)((0,i._)("input",{type:"text",class:(0,i.C_)(["form-control",r.hasError("code")?"is-invalid":""]),id:"permissionCode","onUpdate:modelValue":a[0]||(a[0]=function(r){return o.formData.code=r})},null,2),[[i.nr,o.formData.code]]),(0,i._)("div",t,(0,i.zw)(r.getError("code")),1)])]),(0,i._)("div",l,[(0,i._)("div",d,[m,(0,i.wy)((0,i._)("input",{type:"text",class:(0,i.C_)(["form-control",r.hasError("name")?"is-invalid":""]),id:"permissionName","onUpdate:modelValue":a[1]||(a[1]=function(r){return o.formData.name=r})},null,2),[[i.nr,o.formData.name]]),(0,i._)("div",c,(0,i.zw)(r.getError("name")),1)])]),(0,i._)("div",u,[(0,i._)("div",p,[f,(0,i.wy)((0,i._)("input",{type:"text",class:(0,i.C_)(["form-control",r.hasError("description")?"is-invalid":""]),id:"permissionDescription","onUpdate:modelValue":a[2]||(a[2]=function(r){return o.formData.description=r})},null,2),[[i.nr,o.formData.description]]),(0,i._)("div",_,(0,i.zw)(r.getError("description")),1)])]),(0,i._)("div",v,[(0,i._)("div",h,[b,(0,i.wy)((0,i._)("textarea",{class:(0,i.C_)(["form-control",r.hasError("error")?"is-invalid":""]),id:"permissionError",rows:"2","onUpdate:modelValue":a[3]||(a[3]=function(r){return o.formData.error=r})},"\n                ",2),[[i.nr,o.formData.error]]),(0,i._)("div",w,(0,i.zw)(r.getError("error")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},2867:(r,a,o)=>{o.r(a),o.d(a,{default:()=>v});var i=o(8222),s={class:"card"},e={class:"card-header"},n={class:"dictionary-name__wrapper"},t=(0,i._)("span",null,"Довідник 'Дозволи'",-1),l=[(0,i._)("span",{class:"mdi mdi-plus"},null,-1)],d={class:"card-body"},m=(0,i._)("tr",null,[(0,i._)("th"),(0,i._)("th",null,"Код"),(0,i._)("th",null,"Назва "),(0,i._)("th",null,"Опис")],-1),c=(0,i._)("span",{class:"mdi mdi-eye-outline"},null,-1);var u=o(8877),p=o(366),f=o(8821);const _={name:"PermissionsMain",components:{DataTable:p.Z,PermissionForm:f.Z},provide:function(){return{modalTitle:"Новий дозвіл"}},data:function(){return{permissions:[],formData:{code:"",name:"",description:"",error:""}}},methods:{fetchData:function(){var r=this;axios.get("/api/v1/permissions").then((function(a){r.permissions=a.data.data}))},openPermissionForm:function(){new u.u_(document.getElementById("PermissionForm")).show()}},created:function(){this.fetchData()}};const v=(0,o(3744).Z)(_,[["render",function(r,a,o,u,p,f){var _=(0,i.up)("breadcrumbs"),v=(0,i.up)("router-link"),h=(0,i.up)("DataTable"),b=(0,i.up)("PermissionForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(_),(0,i._)("div",s,[(0,i._)("div",e,[(0,i._)("div",n,[t,(0,i._)("button",{class:"btn btn-sm btn-primary",onClick:a[0]||(a[0]=function(){return f.openPermissionForm&&f.openPermissionForm.apply(f,arguments)})},l)])]),(0,i._)("div",d,[(0,i.Wm)(h,{dataTable:p.permissions,tableHeaderClass:"table-dark"},{header:(0,i.w5)((function(){return[m]})),default:(0,i.w5)((function(r){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.paginatedData,(function(r){return(0,i.wg)(),(0,i.iD)("tr",{key:r.id},[(0,i._)("td",null,[(0,i.Wm)(v,{to:{name:"permissions.show",params:{id:r.id}}},{default:(0,i.w5)((function(){return[c]})),_:2},1032,["to"])]),(0,i._)("td",null,(0,i.zw)(r.code),1),(0,i._)("td",null,(0,i.zw)(r.name),1),(0,i._)("td",null,(0,i.zw)(r.description),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,i.Wm)(b,{formData:p.formData,action:"create",onRefreshData:f.fetchData},null,8,["formData","onRefreshData"])],64)}]])},5634:(r,a,o)=>{o.r(a),o.d(a,{default:()=>Z});var i=o(8222),s={class:"row"},e={class:"col-md-8 mx-auto"},n={key:0,class:"card"},t={class:"card-header"},l=(0,i._)("h5",null,"Інформація",-1),d={class:"dropdown"},m=(0,i._)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,i._)("span",{class:"mdi mdi-cogs"})],-1),c={class:"dropdown-menu"},u=(0,i._)("span",{class:"mdi mdi-pencil text-warning me-1"},null,-1),p=(0,i._)("li",null,[(0,i._)("hr",{class:"dropdown-divider"})],-1),f=(0,i._)("span",{class:"mdi mdi-trash-can text-danger me-1"},null,-1),_={class:"card-body"},v={class:"row mb-2"},h=(0,i._)("div",{class:"col-md-3"}," Код ",-1),b={class:"col-md-9"},w={class:"row mb-2"},D=(0,i._)("div",{class:"col-md-3"}," Назва ",-1),g={class:"col-md-9"},y={class:"row mb-2"},F=(0,i._)("div",{class:"col-md-3"}," Опис ",-1),k={class:"col-md-9"},P={class:"row mb-2"},C=(0,i._)("div",{class:"col-md-3"}," Доступ заборонено ",-1),x={class:"col-md-9"};var E=o(8877),z=o(8821);const U={name:"PermissionsShow",props:{id:{type:[String,Number],required:!0}},components:{PermissionForm:z.Z},provide:function(){return{modalTitle:"Редагування дозволу",modalSubmitCaption:"Зберегти"}},data:function(){return{permission:{},formData:{},apiUrl:"/api/v1/permissions"}},methods:{fetchData:function(){var r=this;axios.get("".concat(this.apiUrl,"/").concat(this.id)).then((function(a){r.permission=a.data.data}))},openPermissionForm:function(){this.formData=Object.assign({},this.permission),new E.u_(document.getElementById("PermissionForm")).show()},deletePermission:function(r){var a=this;this.$confirmDelete("Ви дійсно бажаєти видалити дозвіл").then((function(o){o.isConfirmed&&axios.delete("".concat(a.apiUrl,"/").concat(r)).then((function(r){a.$toast(r.data.message),a.$router.push({name:"permissions"})})).catch((function(r){a.$errorMessage("Неможливо видалити дозвіл",r.response.data.message,"Зрозуміло")}))}))}},created:function(){this.fetchData()}};const Z=(0,o(3744).Z)(U,[["render",function(r,a,o,E,z,U){var Z=(0,i.up)("breadcrumbs"),V=(0,i.up)("PermissionForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Z),(0,i._)("div",s,[(0,i._)("div",e,[z.permission.code?((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",t,[l,(0,i._)("div",d,[m,(0,i._)("ul",c,[(0,i._)("li",null,[(0,i._)("a",{class:"dropdown-item",onClick:a[0]||(a[0]=function(){return U.openPermissionForm&&U.openPermissionForm.apply(U,arguments)})},[u,(0,i.Uk)(" Редагувати ")])]),p,(0,i._)("li",null,[(0,i._)("a",{class:"dropdown-item",onClick:a[1]||(a[1]=function(r){return U.deletePermission(z.permission.id)})},[f,(0,i.Uk)(" Видалити ")])])])])]),(0,i._)("div",_,[(0,i._)("div",v,[h,(0,i._)("div",b,(0,i.zw)(z.permission.code),1)]),(0,i._)("div",w,[D,(0,i._)("div",g,(0,i.zw)(z.permission.name),1)]),(0,i._)("div",y,[F,(0,i._)("div",k,(0,i.zw)(z.permission.description),1)]),(0,i._)("div",P,[C,(0,i._)("div",x,(0,i.zw)(z.permission.error),1)])])])):(0,i.kq)("",!0)])]),(0,i.Wm)(V,{formData:z.formData,action:"update",onRefreshData:U.fetchData},null,8,["formData","onRefreshData"])],64)}]])}}]);