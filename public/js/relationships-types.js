"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[338],{4322:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(8222),a=r(8877);const o={data:function(){return{formData:{name:""},action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var t=this;return{modalTitle:(0,n.Fl)((function(){return t.modalTitle})),modalSubmitCaption:(0,n.Fl)((function(){return t.modalSubmitCaption}))}},methods:{openFormForAdd:function(){var t=new a.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleCreate,this.modalSubmitCaption="Додати",this.action="create",t.show()},openFormForEdit:function(t){var e=new a.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleUpdate,this.modalSubmitCaption="Зберегти",this.formData.id=t.id,this.formData.name=t.name,this.action="update",e.show()}}}},5463:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(3645),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"table tr td[data-v-03a25192]:last-of-type{text-align:center;width:5rem}",""]);const o=a},577:(t,e,r)=>{r.d(e,{Z:()=>d});var n=r(8222),a={class:"row mb-3"},o={class:"col"},i=["for"],l=["id"],s=["id"];var c=r(6036);const u={name:"SystemDictionaryForm",mixins:[r(2965).Z],props:{formId:{type:String,required:!0},fieldId:{type:String,required:!0},url:{type:String,required:!0},formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{}},methods:{submitData:function(){var t=this;"create"==this.action?axios.post(this.url,this.formData).then((function(e){t.clearFormData(),t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors})):"update"==this.action&&axios.patch("".concat(this.url,"/").concat(this.formData.id),this.formData).then((function(e){t.errors=[],t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors}))},clearFormData:function(){this.formData.name="",this.errors=[]}},components:{ModalForm:c.Z}};const d=(0,r(3744).Z)(u,[["render",function(t,e,r,c,u,d){var m=(0,n.up)("ModalForm");return(0,n.wg)(),(0,n.j4)(m,{formId:r.formId,onSubmitData:d.submitData,onCloseForm:d.clearFormData},{default:(0,n.w5)((function(){return[(0,n._)("div",a,[(0,n._)("div",o,[(0,n._)("label",{for:r.fieldId,class:"form-label"},"Назва",8,i),(0,n.wy)((0,n._)("textarea",{row:"2",class:(0,n.C_)(["form-control",t.hasError("name")?"is-invalid":""]),id:r.fieldId,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.formData.name=t})},"\n                ",10,l),[[n.nr,r.formData.name]]),(0,n._)("div",{id:"".concat(r.fieldId,"Validation"),class:"invalid-feedback"},(0,n.zw)(t.getError("name")),9,s)])])]})),_:1},8,["formId","onSubmitData","onCloseForm"])}]])},4302:(t,e,r)=>{r.d(e,{Z:()=>v});var n=r(8222),a=function(t){return(0,n.dD)("data-v-03a25192"),t=t(),(0,n.Cn)(),t},o={class:"card"},i={class:"card-header"},l={class:"dictionary-name__wrapper"},s=[a((function(){return(0,n._)("span",{class:"mdi mdi-plus"},null,-1)}))],c={class:"card-body"},u=a((function(){return(0,n._)("th",null,null,-1)})),d=["onClick"],m=[a((function(){return(0,n._)("span",{class:"mdi mdi-pencil"},null,-1)}))];var f=r(366);const p={name:"SystemDictionaryTable",props:{title:{type:String,required:!0},dataTable:{type:Array,required:!0},fieldsTitle:{type:Array,required:!1,default:function(){return["Назва"]}},fieldsName:{type:Array,required:!1,default:function(){return["name"]}}},data:function(){return{}},components:{DataTable:f.Z}};var y=r(3379),b=r.n(y),h=r(5463),D={insert:"head",singleton:!1};b()(h.Z,D);h.Z.locals;const v=(0,r(3744).Z)(p,[["render",function(t,e,r,a,f,p){var y=(0,n.up)("DataTable");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n._)("span",null,(0,n.zw)(r.title),1),(0,n._)("button",{class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=function(e){return t.$emit("newRecord")})},s)])]),(0,n._)("div",c,[(0,n.Wm)(y,{dataTable:r.dataTable,tableHeaderClass:"table-dark"},{header:(0,n.w5)((function(){return[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.fieldsTitle,(function(t,e){return(0,n.wg)(),(0,n.iD)("th",{key:e},(0,n.zw)(t),1)})),128)),u])]})),default:(0,n.w5)((function(e){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.paginatedData,(function(e){return(0,n.wg)(),(0,n.iD)("tr",{key:e.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.fieldsName,(function(t,r){return(0,n.wg)(),(0,n.iD)("td",{key:r},(0,n.zw)(e[t]),1)})),128)),(0,n._)("td",null,[(0,n._)("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(r){return t.$emit("editRecord",e)},title:"Редагувати інформацію"},m,8,d)])])})),128))]})),_:1},8,["dataTable"])])])}],["__scopeId","data-v-03a25192"]])},4286:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var n=r(8222),a={class:"row"},o={class:"col-md-10 col-lg-8 mx-auto"};var i=r(3907),l=r(4322),s=r(1648),c=r(4302),u=r(577);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const p={name:"FamilyRelationshipTypesMain",mixins:[l.Z],components:{Breadcrumbs:s.Z,SystemDictionaryTable:c.Z,SystemDictionaryForm:u.Z},data:function(){return{formId:"FamilyRelationshipTypeForm",modalTitleCreate:"Новий тип родинних відносин",modalTitleUpdate:"Редагування типу",formData:{name:"",sex:""}}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,i.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"}))};const y=(0,r(3744).Z)(p,[["render",function(t,e,r,i,l,s){var c=(0,n.up)("breadcrumbs"),u=(0,n.up)("SystemDictionaryTable"),d=(0,n.up)("SystemDictionaryForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c),(0,n._)("div",a,[(0,n._)("div",o,[(0,n.Wm)(u,{dataTable:t.relationshipTypes,title:"Довідник 'Родинні стосунки'",fieldsTitle:["Назва","Стать"],fieldsName:["name","sex"],onNewRecord:t.openFormForAdd,onEditRecord:t.openFormForEdit},null,8,["dataTable","onNewRecord","onEditRecord"])])]),(0,n.Wm)(d,{formData:l.formData,action:t.action,formId:l.formId,fieldId:"familyRelationshipTypeName",url:"/api/v1/family-relationship-types",onRefreshData:e[0]||(e[0]=function(e){return t.$store.dispatch("FamilyRelationshipTypes/fetchRecords")})},null,8,["formData","action","formId"])],64)}]])}}]);