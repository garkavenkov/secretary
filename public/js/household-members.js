"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[250],{4726:(e,t,a)=>{a.d(t,{Z:()=>r});const r={data:function(){return{params:[]}},methods:{fetchAdditionalParamsForFilter:function(e,t){var a=this;axios.get("/api/v1/additional-params?value_type_code=".concat(t,"&category_code=").concat(e)).then((function(e){a.params=e.data.data}))}}}},2965:(e,t,a)=>{a.d(t,{Z:()=>r});const r={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,a=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(a=a.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),a.forEach((function(e){var a="formData.".concat(e);t.$watch(a,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},3753:(e,t,a)=>{a.d(t,{Z:()=>r});const r={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors}))}}}},9181:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(8877);const n={methods:{newYearData:function(e){this.modalTitle="Додати дані",this.modalSubmitCaption="Додати",this.action="create",this.yearData[this.owner]=this.owner_id;var t=new r.u_(document.getElementById(this.yearFormId));e.ctrlKey&&(this.years.length>0&&(this.yearData=Object.assign({},this.years[this.years.length-1]),this.yearData.year=parseInt(this.yearData.year)+1),this.modalTitle="Додати дані на <b>".concat(this.yearData.year,"</b> рік")),t.show()},deleteYear:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити дані за ".concat(e.year," рік")).then((function(a){a.isConfirmed&&axios.delete("".concat(t.apiUrl,"/").concat(e.id)).then((function(e){t.fetchYears(),t.$toast(e.data.message)})).catch((function(e){t.$errorMessage("Неможливо видалити дані",e.response.data.message,"Зрозуміло")}))}))},editYear:function(e){Object.assign(this.yearData,e),this.modalSubmitCaption="Зберегти",this.modalTitle="Редагувати дані за ".concat(e.year," рік"),this.action="update",new r.u_(document.getElementById(this.yearFormId)).show()}}}},4702:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,'.additional-param-title span[data-v-d20842ac]{cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.additional-param-title span[data-v-d20842ac]:before{right:-17px;transform:rotate(40deg)}.additional-param-title span[data-v-d20842ac]:after,.additional-param-title span[data-v-d20842ac]:before{background:#888;content:"";height:3px;position:absolute;top:9px;transition:.35s;width:10px;z-index:10}.additional-param-title span[data-v-d20842ac]:after{right:-23px;transform:rotate(-40deg)}.additional-param-title span.filtered[data-v-d20842ac]{font-weight:600}.additional-param-title.show span[data-v-d20842ac]:before{transform:rotate(-40deg)}.additional-param-title.show span[data-v-d20842ac]:after{transform:rotate(40deg)}.additional-param-title.show+.additional-param-wrapper[data-v-d20842ac]{height:100%;margin-top:.5rem}.additional-param-wrapper[data-v-d20842ac]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;height:0;overflow:hidden}.additional-param[data-v-d20842ac]{background:hsla(0,0%,89%,.5);border:1px solid #e3e3e3;border-radius:.2rem;display:flex;flex-direction:row;padding:.25rem .75rem;transition:.3s}.additional-param input[data-v-d20842ac]{display:none}.additional-param[data-v-d20842ac]:has(input:checked){background:rgba(44,80,179,.827);border:1px solid #2c50b3;color:#fff}',""]);const i=n},377:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".per-page[data-v-a10be31e],.search[data-v-a10be31e]{border:1px solid #ced4da;border-radius:.25rem;color:#495057;font-size:.9rem;font-weight:400;line-height:1.6}.per-page[data-v-a10be31e]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0 0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") right .75rem center/8px 10px no-repeat;padding:.3rem 1.5rem .3rem .5rem;vertical-align:middle}.search__wrapper label[data-v-a10be31e]{margin-right:.5rem}.search__wrapper .search[data-v-a10be31e]{background-clip:padding-box;background-color:#fff;display:inline-block;height:calc(1.6em + .75rem);padding:.375rem .75rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:200px}.per-page[data-v-a10be31e]:focus,.search[data-v-a10be31e]:focus{border-color:#7db8fb;box-shadow:0 0 0 .2rem rgba(7,117,242,.25);outline:0}.per-page__wrapper span[data-v-a10be31e]{margin-right:.5rem}tbody tr[data-v-a10be31e]:last-of-type{border-bottom:2px solid #343a40}.sort-field-number[data-v-a10be31e]{background:#f8f9fa;border-color:#000;border-radius:999px;color:#000;display:inline-block;font-size:.6rem;line-height:1rem;position:absolute;right:1.5rem;text-align:center;top:calc(50% - .5rem);width:1rem}",""]);const i=n},3944:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"tr td[data-v-30004396]:not(:first-child),tr th[data-v-30004396]:not(:first-child){text-align:center}td.table-cell-bordered[data-v-30004396]{border-left:1px solid #dee2e6;border-right:1px solid #dee2e6}",""]);const i=n},3308:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"a.router-link-exact-active[data-v-a0096cca]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}",""]);const i=n},6829:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(8222),n={class:"row mb-3"},i={class:"col h-100"},o={class:"additional-param-wrapper"},s=["for"],l=["name","id","onUpdate:modelValue"];const d={name:"AdditionalParamsFormFilter",props:{params:{type:Array,requiered:!0},filter:{type:Object,requiered:!0}},data:function(){return{paramsAreShown:!1}},methods:{toggleAdditionalParams:function(){this.paramsAreShown=!this.paramsAreShown}},computed:{selectedParams:function(){var e=this;return Object.keys(this.filter.additionalParams).some((function(t){return e.filter.additionalParams[t]}))}}};var c=a(3379),m=a.n(c),u=a(4702),f={insert:"head",singleton:!1};m()(u.Z,f);u.Z.locals;const p=(0,a(3744).Z)(d,[["render",function(e,t,a,d,c,m){return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",i,[(0,r._)("div",{class:(0,r.C_)(["additional-param-title",{show:c.paramsAreShown}])},[(0,r._)("span",{onClick:t[0]||(t[0]=function(){return m.toggleAdditionalParams&&m.toggleAdditionalParams.apply(m,arguments)}),class:(0,r.C_)({filtered:m.selectedParams})}," Додаткові параметри ",2)],2),(0,r._)("div",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.params,(function(e){return(0,r.wg)(),(0,r.iD)("label",{key:e.id,for:e.code,class:"additional-param"},[(0,r.Uk)((0,r.zw)(e.name)+" ",1),(0,r.wy)((0,r._)("input",{type:"checkbox",name:e.code,id:e.code,"onUpdate:modelValue":function(t){return a.filter.additionalParams[e.code]=t}},null,8,l),[[r.e8,a.filter.additionalParams[e.code]]])],8,s)})),128))])])])}],["__scopeId","data-v-d20842ac"]])},366:(e,t,a)=>{a.d(t,{Z:()=>x});var r=a(8222),n=function(e){return(0,r.dD)("data-v-a10be31e"),e=e(),(0,r.Cn)(),e},i={class:"data-table--wrapper"},o={key:0,class:"data-table_ d-flex justify-content-between pb-2"},s={class:"per-page__wrapper"},l=n((function(){return(0,r._)("span",null,"Відображати",-1)})),d=["disabled"],c=["value"],m={class:"search__wrapper"},u={autocomplete:"off"},f=n((function(){return(0,r._)("label",{for:"search"},"Поіск",-1)})),p={class:"table__wrapper"},h={class:"table-responsive"},b={key:0},v=["data-sort-field","data-field-type"],y={key:1,class:"data-table__pagination--wrapper d-flex justify-content-between align-items-center py-2"},_={class:"pagination mb-0"},g=["innerHTML","onClick"],w=["onClick"];const D={name:"DataTable",props:{perPageItems:{type:Array,required:!1,default:function(){return[10,20,50]}},dataTable:{type:Array},dataFields:{type:Array,required:!1},tableHeaderClass:{type:String,required:!1},tableClass:{type:String,required:!1},searchable:{type:String,required:!1,default:""},showActionsPanel:{type:Boolean,required:!1,default:function(){return!0}},showPaginationPanel:{type:Boolean,required:!1,default:function(){return!0}},externalPagination:{type:Object,required:!1},searchableFields:{type:Array,required:!1},sortByDefaultField:{type:String,required:!1,default:""}},data:function(){return{currentPage:1,perPage:this.perPageItems[0],searchData:"",sortedBy:{},fieldsType:{},sortedByLength:0,dataShouldBeSorted:!1}},emits:["pageChanged","perPageChanged"],methods:{changePerPage:function(e){var t;null!==(t=this.externalPagination)&&void 0!==t&&t.per_page?this.$emit("perPageChanged",e):(this.perPage=parseInt(e),this.currentPage=1)},nextPage:function(){this.currentPage++},prevPage:function(){this.currentPage--},changePage:function(e){var t;null!==(t=this.externalPagination)&&void 0!==t&&t.current_page&&this.$emit("pageChanged",e),this.currentPage=e},sortDataByField:function(e){var t=e.target.dataset.sortField,a=e.target.dataset.sortOrder;e.ctrlKey||(this.sortedBy={},document.querySelectorAll("[data-sort-order]").forEach((function(e){e.removeAttribute("data-sort-order"),e.removeAttribute("data-sort-position"),e.classList.remove("ascending","descending")})));"descending"==a?(e.target.classList.remove("descending"),e.target.removeAttribute("data-sort-order"),e.target.removeAttribute("data-sort-position"),delete this.sortedBy[t],document.querySelectorAll("[data-sort-position]").forEach((function(e){var t=e.dataset.sortPosition;e.dataset.sortPosition=t>1?t-1:1}))):(null==a?a="ascending":(e.target.classList.remove("ascending"),a="descending"),e.target.dataset.sortOrder=a,e.target.classList.add(a),this.sortedBy[t]=a);Object.keys(this.sortedBy).indexOf(t)>=0&&(e.target.dataset.sortPosition=Object.keys(this.sortedBy).indexOf(t)+1)},sortDataHandler:function(e,t){return function(a,r){var n=[];return Object.keys(e).forEach((function(i){var o=e[i],s=t[i];if("ascending"==o.toLowerCase())"string"==s?n.push(a[i].localeCompare(r[i])):"number"==s&&n.push(a[i]-r[i]);else{if("descending"!=o.toLowerCase())return;"string"==s?n.push(r[i].localeCompare(a[i])):"number"==s&&n.push(r[i]-a[i])}})),n.reduce((function(e,t){return e||t}))}}},computed:{pagesCount:function(){var e;return null!==(e=this.externalPagination)&&void 0!==e&&e.last_page?this.externalPagination.last_page:""==this.searchData?Math.ceil(this.dataTable.length/this.perPage):Math.ceil(this.paginatedData.length/this.perPage)},paginatedData:function(){var e,t,a=this;if(null!==(e=this.externalPagination)&&void 0!==e&&e.total)t=""!==this.searchData?this.dataTable.filter((function(e){return a.$parent.searchData(e,a.searchData)})):this.dataTable;else{var r=(this.currentPage-1)*this.perPage,n=r+this.perPage;t=""!==this.searchData?this.dataTable.filter((function(e){return a.$parent.searchData(e,a.searchData)})).slice(r,n):this.dataTable.slice(r,n)}return this.sortedByLength>0?t.sort(this.sortDataHandler(this.sortedBy,this.fieldsType)):""!==this.sortByDefaultField&&1==this.dataShouldBeSorted&&(t.sort((function(e,t){return e[a.sortByDefaultField]-t[a.sortByDefaultField]})),this.dataShouldBeSorted=!1),t},shownFrom:function(){var e;return null!==(e=this.externalPagination)&&void 0!==e&&e.from?this.externalPagination.from:(this.currentPage-1)*this.perPage+1},shownTo:function(){var e;if(null!==(e=this.externalPagination)&&void 0!==e&&e.to)return this.externalPagination.to;var t=this.shownFrom+this.perPage;return t<this.dataTable.length?t:this.dataTable.length},shownTotal:function(){var e;return null!==(e=this.externalPagination)&&void 0!==e&&e.total?this.externalPagination.total:this.dataTable.length},isLastPage:function(){return this.currentPage==this.pagesCount},isFirstPage:function(){return 1==this.currentPage}},mounted:function(){var e=this,t=document.querySelectorAll("[data-sort-field]");t&&t.forEach((function(t){""!==t.dataset.sortField&&(t.addEventListener("click",e.sortDataByField),t.dataset.fieldType?e.fieldsType[t.dataset.sortField]=t.dataset.fieldType:e.fieldsType[t.dataset.sortField]="string")}))},watch:{sortedBy:{handler:function(e,t){this.sortedByLength=Object.keys(this.sortedBy).length},deep:!0,immidiate:!0},sortedByLength:function(e,t){1==t&&0==e&&(this.dataShouldBeSorted=!0)}}};var k=a(3379),P=a.n(k),C=a(377),E={insert:"head",singleton:!1};P()(C.Z,E);C.Z.locals;const x=(0,a(3744).Z)(D,[["render",function(e,t,a,n,D,k){var P;return(0,r.wg)(),(0,r.iD)("div",i,[a.showActionsPanel?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",s,[l,(0,r._)("select",{name:"per_Page",id:"per_page",class:"per-page",disabled:0==k.paginatedData.length,onChange:t[0]||(t[0]=function(e){return k.changePerPage(e.target.value)})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.perPageItems,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,r.zw)(e),9,c)})),128))],40,d)]),(0,r._)("div",m,[(0,r._)("form",u,[f,(0,r.wy)((0,r._)("input",{type:"search",id:"search",class:"search",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=function(e){return D.searchData=e})},null,512),[[r.nr,D.searchData]])])])])):(0,r.kq)("",!0),(0,r._)("div",p,[(0,r._)("div",h,[(0,r._)("table",{class:(0,r.C_)(["table table-striped",a.tableClass])},[(0,r._)("thead",{class:(0,r.C_)(a.tableHeaderClass)},[(0,r.WI)(e.$slots,"header",{},(function(){return[a.dataFields.length>0?((0,r.wg)(),(0,r.iD)("tr",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.dataFields,(function(e){return(0,r.wg)(),(0,r.iD)("th",{key:e.name,class:(0,r.C_)(e.class),"data-sort-field":e.sortable?e.name:"","data-field-type":e.dataType},(0,r.zw)(e.caption),11,v)})),128))])):(0,r.kq)("",!0)]}),!0)],2),(0,r._)("tbody",null,[(0,r.WI)(e.$slots,"default",{paginatedData:k.paginatedData},void 0,!0)]),(0,r._)("tfoot",null,[(0,r.WI)(e.$slots,"footer",{},void 0,!0)])],2)])]),k.paginatedData.length>0&&a.showPaginationPanel?((0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",null,"Відображено з "+(0,r.zw)(k.shownFrom)+" по "+(0,r.zw)(k.shownTo)+" із "+(0,r.zw)(k.shownTotal),1),(0,r._)("ul",_,[null!==(P=a.externalPagination)&&void 0!==P&&P.links?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(a.externalPagination.links,(function(e,t){return(0,r.wg)(),(0,r.iD)("li",{class:"page-item",key:t},[(0,r._)("a",{class:(0,r.C_)(["page-link",[e.active?"active":"",e.url?"":"disabled"]]),innerHTML:e.label,onClick:function(t){return k.changePage(e.url)}},null,10,g)])})),128)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:k.isFirstPage}])},[(0,r._)("a",{class:"page-link",onClick:t[2]||(t[2]=function(){return k.prevPage&&k.prevPage.apply(k,arguments)})}," Previous ")],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(k.pagesCount,(function(e){return(0,r.wg)(),(0,r.iD)("li",{class:(0,r.C_)(["page-item",[D.currentPage==e?"active":""]]),key:e},[(0,r._)("a",{class:"page-link",onClick:function(t){return k.changePage(e)}},(0,r.zw)(e),9,w)],2)})),128)),(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:k.isLastPage}])},[(0,r._)("a",{class:"page-link",onClick:t[3]||(t[3]=function(){return k.nextPage&&k.nextPage.apply(k,arguments)})}," Next ")],2)],64))])])):(0,r.kq)("",!0)])}],["__scopeId","data-v-a10be31e"]])},6036:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(8222),n=["id"],i={class:"modal-header"},o={class:"d-flex align-items-center"},s=["innerHTML"],l={class:"modal-body"},d={key:0,class:"modal-footer justify-content-between"},c=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,a(3744).Z)(m,[["render",function(e,t,a,m,u,f){return(0,r.wg)(),(0,r.iD)("div",{class:"modal fade",id:a.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,r._)("div",{class:(0,r.C_)(["modal-dialog",a.modalClass])},[(0,r._)("div",{class:(0,r.C_)(["modal-content",a.modalContentClass])},[(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("h1",{class:"modal-title fs-5",innerHTML:f.modalFormTitle},null,8,s),(0,r.WI)(e.$slots,"modalHeader")]),(0,r._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,r._)("div",l,[(0,r.WI)(e.$slots,"default")]),a.showFooter?((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",null,[(0,r.WI)(e.$slots,"footer")]),(0,r._)("div",null,[(0,r._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})},"Відмінити"),(0,r._)("button",{type:"button",class:"btn btn-primary ms-4",onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:a.sumbitIsDisabled},(0,r.zw)(f.modalFormSubmitCaption),9,c)])])):(0,r.kq)("",!0)],2)],2)],8,n)}]])},9499:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(8222),n=["innerHTML"];const i={name:"TableRow",props:{rowTitle:{type:String,required:!0},rowTitleClass:{type:String,required:!1,default:""},field:{type:String,required:!0},fieldValue:{type:Boolean,required:!1,default:function(){return!1}},years:{type:Array,required:!0}},data:function(){return{}}};var o=a(3379),s=a.n(o),l=a(3944),d={insert:"head",singleton:!1};s()(l.Z,d);l.Z.locals;const c=(0,a(3744).Z)(i,[["render",function(e,t,a,i,o,s){return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",{class:(0,r.C_)(a.rowTitleClass),innerHTML:a.rowTitle},null,10,n),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.years,(function(e){return(0,r.wg)(),(0,r.iD)("td",{key:e.year+"-"+e[a.field],class:"table-cell-bordered"},[a.fieldValue?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[e[a.field]?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)(" так ")],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)(" ні ")],64))],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)((0,r.zw)(e[a.field]),1)],64))])})),128))])}],["__scopeId","data-v-30004396"]])},8680:(e,t,a)=>{a.d(t,{Z:()=>f});var r=a(8222),n={class:"d-flex justify-content-between align-items-center"},i={class:"d-flex align-items-center"},o={class:"d-flex align-items-center"},s=(0,r._)("span",{class:"me-1"},"Відображати",-1),l=["selected","value"],d={class:"text-muted ms-3"},c={class:"pagination mb-0"},m=["innerHTML","onClick"];const u={name:"YearsPaginator",props:{modelValue:{type:[Number,String],default:!1},perPageItems:{type:Array,required:!1,default:function(){return[1,2,3,5]}},meta:{type:Object,required:!0}},data:function(){return{}}};const f=(0,a(3744).Z)(u,[["render",function(e,t,a,u,f,p){return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",i,[(0,r._)("div",o,[s,(0,r._)("select",{name:"per_Page",id:"per_page",class:"form-select form-select-sm",onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.perPageItems,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{selected:a.modelValue==e,key:t,value:e},(0,r.zw)(e),9,l)})),128))],32)]),(0,r._)("div",d," Відображено з "+(0,r.zw)(a.meta.from)+" по "+(0,r.zw)(a.meta.to)+" із "+(0,r.zw)(a.meta.total),1)]),(0,r._)("ul",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.meta.links,(function(t,a){return(0,r.wg)(),(0,r.iD)("li",{class:"page-item",key:a},[(0,r._)("a",{class:(0,r.C_)(["page-link",[t.active?"active":"",t.url?"":"disabled"]]),innerHTML:t.label,onClick:function(a){return e.$emit("fetchYears",t.url)}},null,10,m)])})),128))])])}]])},3082:(e,t,a)=>{a.d(t,{Z:()=>v});var r=a(8222),n={class:"row"},i={class:"col-md-10 mx-auto"},o={class:"table table-sm"},s=["for"],l={key:0,class:"form-check form-switch"},d=["id","disabled","onUpdate:modelValue"],c=["id","disabled","onUpdate:modelValue"],m={class:"row"},u={class:"d-flex justify-content-end"},f=(0,r._)("span",{class:"mdi mdi-pencil"},null,-1),p=["disabled"],h=(0,r._)("span",{class:"mdi mdi-check-all"},null,-1);const b={name:"AdditionalParamsList",props:{ownerId:{type:[String,Number],required:!0},owner:{type:String,required:!0},additionalParams:{type:Array,required:!0}},data:function(){return{_additionalParams:[],isInEditMode:!1}},methods:{editData:function(){this.isInEditMode=!0,this._additionalParams=JSON.parse(JSON.stringify(this.additionalParams))},cancelEdit:function(){this.isInEditMode=!1,this._additionalParams=[],this.$emit("refreshData")},updateAdditionalParams:function(){var e=this,t=this,a=this.additionalParams.filter((function(e,a){return e.value!==t._additionalParams[a].value}));if(a.length>0){var r={};a.forEach((function(e){r[e.code]=e.value})),r.owner=this.owner,r.owner_id=this.ownerId,axios.post("/api/v1/set-additional-params",r).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.isInEditMode=!1,e._additionalParams=[]}))}}},computed:{additionalParamsWereChanged:function(){return JSON.stringify(this.additionalParams)!==JSON.stringify(this._additionalParams)}},watch:{}};const v=(0,a(3744).Z)(b,[["render",function(e,t,a,b,v,y){return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",i,[(0,r._)("table",o,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.additionalParams,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.id,class:"align-middle"},[(0,r._)("td",null,[(0,r._)("label",{for:e.code,style:{cursor:"pointer"}},(0,r.zw)(e.name),9,s)]),(0,r._)("td",null,["boolean"==e.value_type_code?((0,r.wg)(),(0,r.iD)("div",l,[(0,r.wy)((0,r._)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.code,disabled:!v.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,d),[[r.e8,e.value]])])):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:1,type:"text",class:"form-control form-control-sm",id:e.code,disabled:!v.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,c)),[[r.nr,e.value]])])])})),128))])]),(0,r._)("div",m,[(0,r._)("div",u,[v.isInEditMode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-sm btn-outline-secondary",title:"Редагувати дані",onClick:t[0]||(t[0]=function(){return y.editData&&y.editData.apply(y,arguments)})},[f,(0,r.Uk)(" Редагувати ")])),v.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn btn-sm btn-outline-secondary",title:"Відмінити редагування",onClick:t[1]||(t[1]=function(){return y.cancelEdit&&y.cancelEdit.apply(y,arguments)})}," Відмінити ")):(0,r.kq)("",!0),v.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:2,class:"btn btn-sm btn-outline-primary ms-3",title:"Встановити додаткові параметри",onClick:t[2]||(t[2]=function(){return y.updateAdditionalParams&&y.updateAdditionalParams.apply(y,arguments)}),disabled:!y.additionalParamsWereChanged},[h,(0,r.Uk)(" Встановити ")],8,p)):(0,r.kq)("",!0)])])])])}]])},8971:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var r=a(8222),n={class:"card"},i={class:"card-header"},o={class:"dictionary-name__wrapper"},s=(0,r._)("span",null,"Члени домогосподарств",-1),l=[(0,r._)("span",{class:"mdi mdi-refresh"},null,-1)],d=[(0,r._)("span",{class:"mdi mdi-filter-outline"},null,-1)],c={class:"card-body"},m={class:"text-center"},u=(0,r._)("span",{class:"mdi mdi-eye-outline"},null,-1),f={class:"text-center"},p={class:"text-center"},h={key:1,class:"text-muted text-center p-3"};var b=a(3907),v=a(8877),y=a(366),_={class:"row mb-3"},g={class:"col"},w=(0,r._)("option",{value:"0"},"Усі населені пункти",-1),D=["value"],k={class:"row mb-3"},P={class:"col"},C=[(0,r._)("option",{value:"all"},"Всі",-1),(0,r._)("option",{value:"чоловіча"},"Чоловіча",-1),(0,r._)("option",{value:"жіноча"},"Жіноча",-1)],E=["disabled"];var x=a(4726),S=a(6036),F=a(6829);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const T={name:"MembersFilterForm",mixins:[x.Z],data:function(){return{}},methods:{submitData:function(){this.filter.isFiltered=!0,this.$store.dispatch("HouseholdMembers/applyFilter",this.filter)},clearFormData:function(){}},computed:j(j(j({},(0,b.Se)("HouseholdMembers",["filter"])),(0,b.Se)("Settlements",["settlements"])),{},{filterIsNotReady:function(){return 0==this.filter.settlement_id}}),created:function(){this.fetchAdditionalParamsForFilter("App\\Models\\HouseholdMember","boolean")},components:{ModalForm:S.Z,AdditionalParamsFormFilter:F.Z}};var U=a(3744);const H=(0,U.Z)(T,[["render",function(e,t,a,n,i,o){var s=(0,r.up)("AdditionalParamsFormFilter"),l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"MembersFilterForm",onSubmitData:o.submitData,onCloseForm:o.clearFormData,modalClass:""},{footer:(0,r.w5)((function(){return[(0,r._)("button",{class:"btn btn-outline-secondary",onClick:t[2]||(t[2]=function(t){return e.$emit("resetFilter")}),title:"Скинути фильтр",disabled:!e.filter.isFiltered}," Скинути ",8,E)]})),default:(0,r.w5)((function(){return[(0,r._)("div",_,[(0,r._)("div",g,[(0,r._)("label",{for:"memberSettlement",class:(0,r.C_)(["form-label",{filtered:0!==e.filter.settlement_id}])},"Населений пункт",2),(0,r.wy)((0,r._)("select",{class:"form-control",id:"memberSettlement","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filter.settlement_id=t})},[w,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.settlements,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,D)})),128))],512),[[r.bM,e.filter.settlement_id]])])]),(0,r._)("div",k,[(0,r._)("div",P,[(0,r._)("label",{for:"memberSex",class:(0,r.C_)(["form-label",{filtered:"all"!==e.filter.sex}])},"Стать",2),(0,r.wy)((0,r._)("select",{class:"form-control",id:"memberSex","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.sex=t})},C,512),[[r.bM,e.filter.sex]])])]),(0,r.Wm)(s,{params:e.params,filter:e.filter},null,8,["params","filter"])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const V={name:"HouseholdMembersMain",data:function(){return{perPageItems:[10,15,20],dataFields:[{name:"link",caption:""},{name:"full_name",caption:"Призвіще ім'я по батькові",class:"sortable",sortable:!0},{name:"birthdate_formatted",caption:"Дата народження",class:"text-center"},{name:"address",caption:"Адреса"},{name:"household_number",caption:"Домогосподарство",class:"sortable",sortable:!0}]}},provide:function(){return{modalTitle:"Фільтр членів домогосподарств",modalSubmitCaption:"Застосувати"}},methods:{openFilterForm:function(){new v.u_(document.getElementById("MembersFilterForm")).show()},resetFilter:function(){this.filter.settlement_id=0,this.filter.isFiltered=!1,this.filter.additionalParams={},this.$store.dispatch("HouseholdMembers/applyFilter",this.filter)},perPageChanged:function(e){this.$store.dispatch("HouseholdMembers/changePerPage",e)},pageChanged:function(e){this.$store.dispatch("HouseholdMembers/changePage",e)},searchData:function(e,t){return e.full_name.includes(t)||e.household_number.includes(t)}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,b.Se)("HouseholdMembers",["members","filter","pagination"])),components:{DataTable:y.Z,MembersFilterForm:H}},q=(0,U.Z)(V,[["render",function(e,t,a,b,v,y){var _=(0,r.up)("breadcrumbs"),g=(0,r.up)("router-link"),w=(0,r.up)("DataTable"),D=(0,r.up)("MembersFilterForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(_),(0,r._)("div",n,[(0,r._)("div",i,[(0,r._)("div",o,[s,(0,r._)("button",{class:"btn btn-sm btn-outline-primary ms-2",onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("HouseholdMembers/fetchRecords")}),title:"Оновити дані"},l)]),(0,r._)("div",null,[(0,r._)("button",{class:(0,r.C_)(["btn btn-sm btn-outline-secondary",e.filter.isFiltered?"active":""]),onClick:[t[1]||(t[1]=(0,r.iM)((function(){return y.openFilterForm&&y.openFilterForm.apply(y,arguments)}),["exact"])),t[2]||(t[2]=(0,r.iM)((function(){return y.resetFilter&&y.resetFilter.apply(y,arguments)}),["ctrl"]))],title:"Фільтр членів домогосподарств"},d,2)])]),(0,r._)("div",c,[e.members.length>0?((0,r.wg)(),(0,r.j4)(w,{key:0,dataTable:e.members,perPageItems:v.perPageItems,externalPagination:e.pagination,dataFields:v.dataFields,tableHeaderClass:"table-dark",tableClass:"table-bordered",sortByDefaultField:"id",onPageChanged:y.pageChanged,onPerPageChanged:y.perPageChanged},{default:(0,r.w5)((function(e){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.paginatedData,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",m,[(0,r.Wm)(g,{to:{name:"household.members.show",params:{id:e.id}}},{default:(0,r.w5)((function(){return[u]})),_:2},1032,["to"])]),(0,r._)("td",null,(0,r.zw)(e.full_name),1),(0,r._)("td",f,(0,r.zw)(e.birthdate_formatted),1),(0,r._)("td",null,(0,r.zw)(e.address),1),(0,r._)("td",p,[(0,r.Wm)(g,{to:{name:"households.show.info",params:{id:e.household_id}},style:{"text-decoration":"none"}},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.household_number),1)]})),_:2},1032,["to"])])])})),128))]})),_:1},8,["dataTable","perPageItems","externalPagination","dataFields","onPageChanged","onPerPageChanged"])):((0,r.wg)(),(0,r.iD)("div",h," Немає даних для відображення. "))])]),(0,r.Wm)(D,{onResetFilter:y.resetFilter},null,8,["onResetFilter"])],64)}]])},2604:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var r=a(8222),n=function(e){return(0,r.dD)("data-v-a0096cca"),e=e(),(0,r.Cn)(),e},i={class:"card"},o={class:"card-header"},s={class:"card-body"},l={class:"px-3 pt-3"},d={class:"nav nav-tabs px-3"},c={class:"nav-item"},m=n((function(){return(0,r._)("span",{class:"mdi mdi-account-details-outline me-1"},null,-1)})),u={class:"nav-item"},f=n((function(){return(0,r._)("span",{class:"mdi mdi-land-fields me-1"},null,-1)})),p={class:"nav-item"},h=n((function(){return(0,r._)("span",{class:"mdi mdi-transit-transfer me-1"},null,-1)})),b={class:"nav-item"},v=n((function(){return(0,r._)("span",{class:"mdi mdi-tag-multiple me-1"},null,-1)})),y={class:"pt-2"};var _=a(3907);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const k={name:"HouseholdMemebrsShow",props:{id:{type:[String,Number],required:!0}},data:function(){return{}},methods:{fetchMember:function(){var e=this;this.$route.params.memberId;axios.get("/api/v1/household-members/".concat(this.id)).then((function(t){e.member=t.data.data}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,_.Se)("HouseholdMembers",["member"])),created:function(){this.$store.dispatch("HouseholdMembers/fetchRecord",this.id)},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.$store.dispatch("HouseholdMembers/fetchRecord",e.params.id)}}};var P=a(3379),C=a.n(P),E=a(3308),x={insert:"head",singleton:!1};C()(E.Z,x);E.Z.locals;const S=(0,a(3744).Z)(k,[["render",function(e,t,a,n,_,g){var w=(0,r.up)("breadcrumbs"),D=(0,r.up)("router-link"),k=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(w),(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("div",null,[(0,r._)("h5",null,(0,r.zw)(e.member.full_name),1),(0,r._)("h6",null,[(0,r.Uk)((0,r.zw)(e.member.address)+" | ",1),e.member.household_id?((0,r.wg)(),(0,r.j4)(D,{key:0,to:{name:"households.show.info",params:{id:e.member.household_id}}},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.member.household_number),1)]})),_:1},8,["to"])):(0,r.kq)("",!0)])])]),(0,r._)("div",s,[(0,r._)("div",l,[(0,r._)("ul",d,[(0,r._)("li",c,[(0,r.Wm)(D,{to:{name:"household.members.show.info"},class:"nav-link"},{default:(0,r.w5)((function(){return[m,(0,r.Uk)(" Головна інформація ")]})),_:1},8,["to"])]),(0,r._)("li",u,[(0,r.Wm)(D,{to:{name:"household.members.show.lands"},class:"nav-link"},{default:(0,r.w5)((function(){return[f,(0,r.Uk)(" Земля ")]})),_:1},8,["to"])]),(0,r._)("li",p,[(0,r.Wm)(D,{to:{name:"household.members.show.movements"},class:"nav-link"},{default:(0,r.w5)((function(){return[h,(0,r.Uk)(" Реєстрація / Переміщення ")]})),_:1},8,["to"])]),(0,r._)("li",b,[(0,r.Wm)(D,{to:{name:"household.members.show.additional-data"},class:"nav-link"},{default:(0,r.w5)((function(){return[v,(0,r.Uk)(" Додаткові дані ")]})),_:1},8,["to"])])]),(0,r._)("div",y,[(0,r.Wm)(k)])])])])],64)}],["__scopeId","data-v-a0096cca"]])},9706:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(8222);const n={name:"HouseholdMemberAdditionalParams",data:function(){return{params:[]}},methods:{refreshData:function(){},fetchAdditionalParams:function(){var e=this;axios.get("/api/v1/household-members/".concat(this.$route.params.id,"/additional-data")).then((function(t){e.params=t.data.data}))}},created:function(){this.fetchAdditionalParams()},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchAdditionalParams()}},components:{AdditionalParamsList:a(3082).Z}};const i=(0,a(3744).Z)(n,[["render",function(e,t,a,n,i,o){var s=(0,r.up)("AdditionalParamsList");return(0,r.wg)(),(0,r.j4)(s,{owner:"App\\Models\\HouseholdMember",ownerId:e.$route.params.id,additionalParams:i.params,onRefreshData:o.refreshData},null,8,["ownerId","additionalParams","onRefreshData"])}]])},6897:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(8222),n={class:"table table-sm table-bordered table-years"},i={class:"bg-body-secondary"},o=(0,r._)("span",{class:"mdi mdi-plus-thick"},null,-1),s={class:"dropdown"},l=(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Операції з даними за рік"},[(0,r._)("span",{class:"mdi mdi-cog"})],-1),d={class:"dropdown-menu dropdown-menu-end"},c=["onClick"],m=(0,r._)("span",{class:"mdi mdi-land-fields me-2",style:{color:"green"}},null,-1),u=(0,r._)("li",null,[(0,r._)("hr",{class:"dropdown-divider"})],-1),f=["onClick"],p=(0,r._)("span",{class:"mdi mdi-pencil text-warning me-2"},null,-1),h=["onClick"],b=(0,r._)("span",{class:"mdi mdi-trash-can text-danger me-2"},null,-1),v={class:"table-group-divider"};a(8877);var y=a(3907),_=a(9499),g={class:"row mb-3"},w=(0,r._)("label",{for:"landYear",class:"col-form-label col-md-9"}," Рік ",-1),D={id:"landYearValidation",class:"invalid-feedback col-md-12"},k={class:"row mb-3"},P=(0,r._)("label",{for:"landMaintenance",class:"col-form-label col-md-9"}," під забудовою ",-1),C={id:"landMaintenanceValidation",class:"invalid-feedback col-md-12"},E={class:"row mb-3"},x=(0,r._)("label",{for:"landPersonalAgriculture",class:"col-form-label col-md-9"},[(0,r.Uk)(" для ведення "),(0,r._)("abbr",{title:"особистого селянського господарства"},"ОСГ")],-1),S={id:"landPersonalAgricultureValidation",class:"invalid-feedback col-md-12"},F=(0,r._)("label",{for:"landHayCatting",class:"col-form-label col-md-9"}," сінокосіння ",-1),O={id:"landHayCutting",class:"invalid-feedback col-md-12"},M=(0,r._)("label",{for:"landPastures",class:"col-form-label col-md-9"}," пасовища ",-1),j={id:"landPastures",class:"invalid-feedback col-md-12"},I=(0,r._)("label",{for:"landShare",class:"col-form-label col-md-9"}," земельний пай ",-1),T={id:"landShare",class:"invalid-feedback col-md-12"},U=(0,r._)("label",{for:"landPropertyShare",class:"col-form-label col-md-9"}," майновий пай ",-1),H={id:"landShare",class:"invalid-feedback col-md-12"};var Y=a(6036),$=a(2965),z=a(3753);const V={name:"LandYearForm",mixins:[$.Z,z.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0}},emits:["refreshData"],data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{closeForm:function(){}},components:{ModalForm:Y.Z}};var q=a(3744);const Z=(0,q.Z)(V,[["render",function(e,t,a,n,i,o){var s=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(s,{formId:"LandYearForm",submitCaption:a.submitCaption,title:a.title,onCloseForm:o.closeForm,onSubmitData:e.submitData,modalContentClass:"second-modal"},{default:(0,r.w5)((function(){return[(0,r._)("div",g,[w,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("year")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("year")?"is-invalid":""]),id:"landYear",name:"landYear","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.year=e})},null,2),[[r.nr,a.formData.year]])],2),(0,r._)("div",D,(0,r.zw)(e.getError("year")),1)]),(0,r._)("div",k,[P,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("maintenance")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control col-md-3",e.hasError("maintenance")?"is-invalid":""]),id:"landMaintenance","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.maintenance=e})},null,2),[[r.nr,a.formData.maintenance]])],2),(0,r._)("div",C,(0,r.zw)(e.getError("maintenance")),1)]),(0,r._)("div",E,[x,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("personal_agriculture")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("personal_agriculture")?"is-invalid":""]),id:"landPersonalAgriculture","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.personal_agriculture=e})},null,2),[[r.nr,a.formData.personal_agriculture]])],2),(0,r._)("div",S,(0,r.zw)(e.getError("personal_agriculture")),1)]),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("hay_cutting")?"is-invalid":""])},[F,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("hay_cutting")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("hay_cutting")?"is-invalid":""]),id:"landHayCatting","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.hay_cutting=e})},null,2),[[r.nr,a.formData.hay_cutting]])],2),(0,r._)("div",O,(0,r.zw)(e.getError("hay_cutting")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("pastures")?"is-invalid":""])},[M,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("pastures")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("pastures")?"is-invalid":""]),id:"landPastures","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.pastures=e})},null,2),[[r.nr,a.formData.pastures]])],2),(0,r._)("div",j,(0,r.zw)(e.getError("pastures")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("land_share")?"is-invalid":""])},[I,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("land_share")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("land_share")?"is-invalid":""]),id:"landShare","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.land_share=e})},null,2),[[r.nr,a.formData.land_share]])],2),(0,r._)("div",T,(0,r.zw)(e.getError("land_share")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("property_share")?"is-invalid":""])},[U,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("property_share")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("property_share")?"is-invalid":""]),id:"landPropertyShare","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.property_share=e})},null,2),[[r.nr,a.formData.property_share]])],2),(0,r._)("div",H,(0,r.zw)(e.getError("property_share")),1)],2)]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]]);var A=a(8680);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function W(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const R={name:"MemberLandYearsTab",mixins:[a(9181).Z],components:{TableRow:_.Z,LandYearForm:Z,YearsPaginator:A.Z},data:function(){return{yearData:{id:null,member_id:null,year:(new Date).getFullYear(),maintenance:0,personal_agriculture:0,hay_cutting:0,pastures:0,land_share:0,property_share:0},action:"",title:"",submitCaption:"",owner:"member_id",yearFormId:"LandYearForm",apiUrl:"/api/v1/household-member-lands",years:[],meta:[],perPage:5}},methods:{closeYearForm:function(){this.yearData.id=null,this.yearData.year=(new Date).getFullYear(),this.yearData.maintenance=0,this.yearData.personal_agriculture=0,this.yearData.hay_cutting=0,this.yearData.pastures=0,this.yearData.land_share=0,this.yearData.property_shar=0},landOwnedReport:function(e){var t=this,a={report:"landOwned",year:e,member_id:this.$route.params.id};axios.post("/api/v1/generate-report",a,{responseType:"arraybuffer"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a;var n="".concat(t.member.surname," ").concat(t.member.name," ").concat(t.member.patronymic,". Довідка про склад земельної ділянки.docx");r.setAttribute("download",n),document.body.appendChild(r),r.click()}))},fetchYears:function(e){var t=this;null==e&&(e="/api/v1/household-members/".concat(this.$route.params.id,"/land?per_page=").concat(this.perPage)),axios.get(e).then((function(e){t.years=e.data.data.reverse(),t.meta=e.data.meta}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,y.Se)("HouseholdMembers",{owner_id:"memberId",member:"member"})),created:function(){this.fetchYears()},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchYears()},perPage:function(e,t){e&&this.fetchYears()}}},N=(0,q.Z)(R,[["render",function(e,t,a,y,_,g){var w=(0,r.up)("TableRow"),D=(0,r.up)("YearsPaginator"),k=(0,r.up)("LandYearForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("table",n,[(0,r._)("thead",i,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[0]||(t[0]=function(t){return e.newYearData(t)})},[o,(0,r.Uk)(" Додати рік ")])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(_.years,(function(t){return(0,r.wg)(),(0,r.iD)("th",{key:t.year},[(0,r.Uk)((0,r.zw)(t.year)+" ",1),(0,r._)("div",s,[l,(0,r._)("ul",d,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(e){return g.landOwnedReport(t.year)}},[m,(0,r.Uk)(" Звіт про склад земельної ділянки ")],8,c)]),u,(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.editYear(t)}},[p,(0,r.Uk)(" Редагувати дані ")],8,f)]),(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.deleteYear(t)}},[b,(0,r.Uk)(" Видалити дані ")],8,h)])])])])})),128))])]),(0,r._)("tbody",v,[(0,r.Wm)(w,{years:_.years,field:"total",rowTitle:"<b>Площа земельних ділянок - усього</b>"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"maintenance",rowTitle:"під забудовою",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"personal_agriculture",rowTitle:"для ведення  <abbr title='особистого селянського господарства'>ОСГ</abbr>",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"hay_cutting",rowTitle:"сінокосіння",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"pastures",rowTitle:"пасовища",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"land_share",rowTitle:"земельний пай",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(w,{years:_.years,field:"property_share",rowTitle:"майновий пай",rowTitleClass:"ps-3"},null,8,["years"])])]),_.years.length>0?((0,r.wg)(),(0,r.j4)(D,{key:0,modelValue:_.perPage,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.perPage=e}),meta:_.meta,onFetchYears:g.fetchYears},null,8,["modelValue","meta","onFetchYears"])):(0,r.kq)("",!0),((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(k,{formData:_.yearData,title:_.title,submitCaption:_.submitCaption,action:_.action,onCloseYearForm:g.closeYearForm,onRefreshData:g.fetchYears},null,8,["formData","title","submitCaption","action","onCloseYearForm","onRefreshData"])]))],64)}]])},6652:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Me});var r=a(8222),n={class:"row"},i={class:"col-md-5 border-end"},o={class:"row mb-3"},s={class:"col"},l=(0,r._)("label",{for:"memberSurname",class:"form-label"},"Прізвище",-1),d=["disabled"],c={id:"memberSurnameValidation",class:"invalid-feedback"},m={class:"row mb-3"},u={class:"col"},f=(0,r._)("label",{for:"memberName",class:"form-label"},"Ім'я",-1),p=["disabled"],h={id:"memberNameValidation",class:"invalid-feedback"},b={class:"col"},v=(0,r._)("label",{for:"memberPatronymic",class:"form-label"},"По батькові",-1),y=["disabled"],_={id:"memberPatronymicValidation",class:"invalid-feedback"},g={class:"row mb-3"},w={class:"col"},D=(0,r._)("label",{for:"memberBirthdate",class:"form-label"},"Дата народження",-1),k=["disabled"],P={id:"memberBirthdayValidation",class:"invalid-feedback"},C={class:"col"},E=(0,r._)("label",{for:"memberSex",class:"form-label"},"Стать",-1),x=["disabled"],S=(0,r._)("datalist",{id:"sex"},[(0,r._)("option",{value:"чоловіча"}),(0,r._)("option",{value:"жіноча"})],-1),F={id:"memberSexValidation",class:"invalid-feedback"},O={class:"row mb-3"},M={class:"col"},j=(0,r._)("label",{for:"familyRelationshipType",class:"form-label"},"Родинні стосунки",-1),I=["disabled"],T=(0,r._)("option",{disabled:"",value:"0"},"Оберить тип родинних стосунків",-1),U=["value"],H={id:"familyRelationshipTypeValidation",class:"invalid-feedback"},Y={class:"row mb-3"},$={class:"col"},z=(0,r._)("label",{for:"memberDeathDate",class:"form-label"},"Дата смерті",-1),V=["disabled"],q={id:"memberDeathDateValidation",class:"invalid-feedback"},Z={class:"col"},A=(0,r._)("label",{for:"memberDeathNumber",class:"form-label"},"Номер свідоцтва",-1),B=["disabled"],L={id:"memberDeathNumberValidation",class:"invalid-feedback"},W={class:"row mb-3"},R={class:"col"},N=(0,r._)("label",{for:"memberDeathRegisterOffice",class:"form-label"},"Орган",-1),K=["disabled"],J={id:"memberDeathPlaceValidation",class:"invalid-feedback"},G={class:"col-md-7"},Q={class:"row mb-3"},X={class:"col"},ee=(0,r._)("label",{for:"workPlace",class:"form-label"},"Місце роботи залежно від територіального розташування",-1),te=["disabled"],ae=(0,r._)("option",{disabled:"",value:"0"},"Оберить місце роботи",-1),re=["value"],ne={id:"workPlaceValidation",class:"invalid-feedback"},ie={class:"row mb-3"},oe={class:"col"},se=(0,r._)("label",{for:"employmentInformation",class:"form-label"},"Відомості про зайнятість / незайнятість",-1),le=["disabled"],de={id:"employmentInformationValidation",class:"invalid-feedback"},ce={class:"row mb-3"},me={class:"col"},ue=(0,r._)("label",{for:"socialInformation",class:"form-label"},"Відомості про пенсію, інвалідність, отримання соціальної допомоги",-1),fe=["disabled"],pe={id:"socialInformationValidation",class:"invalid-feedback"},he={class:"row mb-3"},be={class:"col"},ve=(0,r._)("label",{for:"additionalInformation",class:"form-label"},"Додаткова інформація",-1),ye=["disabled"],_e={id:"additionalInformationValidation",class:"invalid-feedback"},ge={class:"row"},we={class:"d-flex justify-content-between"},De=(0,r._)("span",{class:"mdi mdi-trash-can-outline"},null,-1),ke=(0,r._)("span",{class:"mdi mdi-pencil"},null,-1),Pe=(0,r._)("span",{class:"mdi mdi-check-all"},null,-1);var Ce=a(3907);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){Fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Ee(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Oe={name:"MemberMainInfoTab",mixins:[a(2965).Z],emits:["refreshData"],data:function(){return{isInEditMode:!1,_formData:{}}},methods:{editData:function(){this.isInEditMode=!0,this._formData=JSON.parse(JSON.stringify(this.formData))},cancelEdit:function(){this.isInEditMode=!1,this.errors=[],this._formData={},this.$store.dispatch("HouseholdMembers/fetchRecord",this.memberId)},saveData:function(){var e=this,t=Object.assign({},this.formData);0==t.work_place_id&&delete t.work_place_id,axios.patch("/api/v1/household-members/".concat(this.formData.id),t).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.$store.dispatch("Households/fetchRecord",e.formData.household_id)})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors}))},deleteData:function(){var e=this;this.$confirmDelete("Ви дійсно бажаєти видалити інформацію о члені домогосподарства").then((function(t){t.isConfirmed&&axios.delete("/api/v1/household-members/".concat(e.formData.id)).then((function(t){e.$toast(t.data.message),e.$router.push({name:"households.show.members",params:{id:e.formData.household_id}})})).catch((function(t){e.$errorMessage("Неможливо видалити члена домогосподарства",t.response.data.message,"Зрозуміло")}))}))}},computed:Se(Se(Se(Se({},(0,Ce.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),(0,Ce.Se)("WorkPlaces",["places"])),(0,Ce.Se)("HouseholdMembers",{formData:"member",memberId:"memberId"})),{},{isEmploymentInformationDisabled:function(){return!(this.isInEditMode&&this.formData.work_place_id>0)},readyForSave:function(){return JSON.stringify(this.formData)!==JSON.stringify(this._formData)}}),created:function(){},watch:{"formData.death_date":function(e){""==e&&(this.formData.death_date=null,this.formData.death_register_number="",this.errors.death_register_number&&delete this.errors.death_register_number,this.formData.death_register_office="",this.errors.death_register_office&&delete this.errors.death_register_office)},"formData.work_place_id":function(e){e&&console.log("WorkPlace  has been changed")}}};const Me=(0,a(3744).Z)(Oe,[["render",function(e,t,a,Ce,Ee,xe){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",n,[(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("div",s,[l,(0,r.wy)((0,r._)("input",{type:"text",id:"memberSurname",class:(0,r.C_)(["form-control",e.hasError("surname")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.surname=t}),disabled:!Ee.isInEditMode},null,10,d),[[r.nr,e.formData.surname]]),(0,r._)("div",c,(0,r.zw)(e.getError("surname")),1)])]),(0,r._)("div",m,[(0,r._)("div",u,[f,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:"memberName","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.name=t}),disabled:!Ee.isInEditMode},null,10,p),[[r.nr,e.formData.name]]),(0,r._)("div",h,(0,r.zw)(e.getError("name")),1)]),(0,r._)("div",b,[v,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("patronymic")?"is-invalid":""]),id:"memberPatronymic","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.patronymic=t}),disabled:!Ee.isInEditMode},null,10,y),[[r.nr,e.formData.patronymic]]),(0,r._)("div",_,(0,r.zw)(e.getError("patronymic")),1)])]),(0,r._)("div",g,[(0,r._)("div",w,[D,(0,r.wy)((0,r._)("input",{type:"date",class:(0,r.C_)(["form-control",e.hasError("birthdate")?"is-invalid":""]),id:"memberBirthdate","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.birthdate=t}),disabled:!Ee.isInEditMode},null,10,k),[[r.nr,e.formData.birthdate]]),(0,r._)("div",P,(0,r.zw)(e.getError("birthdate")),1)]),(0,r._)("div",C,[E,(0,r.wy)((0,r._)("input",{list:"sex",id:"memberSex",placeholder:"Type to search...",class:(0,r.C_)(["form-control",e.hasError("sex")?"is-invalid":""]),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.sex=t}),disabled:!Ee.isInEditMode},null,10,x),[[r.nr,e.formData.sex]]),S,(0,r._)("div",F,(0,r.zw)(e.getError("sex")),1)])]),(0,r._)("div",O,[(0,r._)("div",M,[j,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("family_relationship_type_id")?"is-invalid":""]),"aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.family_relationship_type_id=t}),id:"familyRelationshipType",disabled:!Ee.isInEditMode},[T,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.relationshipTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,U)})),128))],10,I),[[r.bM,e.formData.family_relationship_type_id]]),(0,r._)("div",H,(0,r.zw)(e.getError("family_relationship_type_id")),1)])]),(0,r._)("div",Y,[(0,r._)("div",$,[z,(0,r.wy)((0,r._)("input",{type:"date",id:"memberDeathDate",class:(0,r.C_)(["form-control",e.hasError("death_date")?"is-invalid":""]),"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formData.death_date=t}),disabled:!Ee.isInEditMode},null,10,V),[[r.nr,e.formData.death_date]]),(0,r._)("div",q,(0,r.zw)(e.getError("death_date")),1)]),(0,r._)("div",Z,[A,(0,r.wy)((0,r._)("input",{type:"text",id:"memberDeathNumber",class:(0,r.C_)(["form-control",e.hasError("death_register_number")?"is-invalid":""]),"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formData.death_register_number=t}),disabled:!Ee.isInEditMode},null,10,B),[[r.nr,e.formData.death_register_number]]),(0,r._)("div",L,(0,r.zw)(e.getError("death_register_number")),1)])]),(0,r._)("div",W,[(0,r._)("div",R,[N,(0,r.wy)((0,r._)("input",{type:"text",id:"memberDeathRegisterOffice",class:(0,r.C_)(["form-control",e.hasError("death_register_office")?"is-invalid":""]),"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.death_register_office=t}),disabled:!Ee.isInEditMode},null,10,K),[[r.nr,e.formData.death_register_office]]),(0,r._)("div",J,(0,r.zw)(e.getError("death_register_office")),1)])])]),(0,r._)("div",G,[(0,r._)("div",Q,[(0,r._)("div",X,[ee,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-select",e.hasError("work_place_id")?"is-invalid":""]),"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formData.work_place_id=t}),disabled:!Ee.isInEditMode,id:"workPlace"},[ae,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.places,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,re)})),128))],10,te),[[r.bM,e.formData.work_place_id]]),(0,r._)("div",ne,(0,r.zw)(e.getError("work_place_id")),1)])]),(0,r._)("div",ie,[(0,r._)("div",oe,[se,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("employment_information")?"is-invalid":""]),id:"employmentInformation",rows:"2","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formData.employment_information=t}),disabled:xe.isEmploymentInformationDisabled},"\n                ",10,le),[[r.nr,e.formData.employment_information]]),(0,r._)("div",de,(0,r.zw)(e.getError("employment_information")),1)])]),(0,r._)("div",ce,[(0,r._)("div",me,[ue,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("social_information")?"is-invalid":""]),id:"socialInformation",rows:"2","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formData.social_information=t}),disabled:!Ee.isInEditMode},"\n                ",10,fe),[[r.nr,e.formData.social_information]]),(0,r._)("div",pe,(0,r.zw)(e.getError("social_information")),1)])]),(0,r._)("div",he,[(0,r._)("div",be,[ve,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("additional_information")?"is-invalid":""]),id:"additionalInformation",rows:"2","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.formData.additional_information=t}),disabled:!Ee.isInEditMode},"\n                ",10,ye),[[r.nr,e.formData.additional_information]]),(0,r._)("div",_e,(0,r.zw)(e.getError("additional_information")),1)])])])]),(0,r._)("div",ge,[(0,r._)("div",we,[(0,r._)("div",null,[Ee.isInEditMode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-sm btn-outline-danger",title:"Видалити члена домогосподарства",onClick:t[13]||(t[13]=function(){return xe.deleteData&&xe.deleteData.apply(xe,arguments)})},[De,(0,r.Uk)(" Видалити ")]))]),(0,r._)("div",null,[Ee.isInEditMode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-sm btn-outline-secondary",title:"Редагувати дані",onClick:t[14]||(t[14]=function(){return xe.editData&&xe.editData.apply(xe,arguments)})},[ke,(0,r.Uk)(" Редагувати ")])),Ee.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn btn-sm btn-outline-secondary",title:"Відмінити редагування",onClick:t[15]||(t[15]=function(){return xe.cancelEdit&&xe.cancelEdit.apply(xe,arguments)})}," Відмінити ")):(0,r.kq)("",!0),Ee.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:2,class:"btn btn-sm btn-outline-primary ms-3",title:"Зберегти дані",onClick:t[16]||(t[16]=function(){return xe.saveData&&xe.saveData.apply(xe,arguments)})},[Pe,(0,r.Uk)(" Зберегти ")])):(0,r.kq)("",!0)])])])],64)}]])},1472:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(8222),n={class:"mb-3"},i=(0,r._)("span",{class:"mdi mdi-calendar me-1"},null,-1),o={key:0,class:"table table-sm table-bordered"},s=(0,r._)("thead",{class:"bg-body-secondary"},[(0,r._)("tr",null,[(0,r._)("th",{style:{width:"150px"}},"Дата"),(0,r._)("th",null,"Подія"),(0,r._)("th",null,"Коментар"),(0,r._)("th",{style:{width:"100px"}})])],-1),l={class:"text-center"},d=["onClick"],c=[(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)],m=["onClick"],u=[(0,r._)("span",{class:"mdi mdi-trash-can-outline"},null,-1)],f={key:1,class:"text-center text-muted"};var p=a(8877),h={class:"row mb-3"},b={class:"col-md-8"},v=(0,r._)("label",{for:"movementEventType",class:"form-label"},"Подія",-1),y=(0,r._)("option",{disabled:"",value:"0"},"Оберить подію",-1),_=["value"],g={id:"movementEventValidation",class:"invalid-feedback"},w={class:"col-md-4"},D=(0,r._)("label",{for:"movementEventDate",class:"form-label"},"Дата",-1),k={id:"movementEventValidation",class:"invalid-feedback"},P=(0,r._)("div",{class:"row mb-3"},null,-1),C={class:"row mb-3"},E={class:"col"},x=(0,r._)("label",{for:"movementEventComment",class:"form-label"},"Примітка",-1),S={id:"movementEventCommentValidation",class:"invalid-feedback"};var F=a(6036);const O={name:"MovementForm",mixins:[a(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0},movementTypes:{type:Array,required:!0}},emits:["refreshData"],data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post("/api/v1/household-member-movements",this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData"),e.clearForm()}))})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/household-member-movements/".concat(this.formData.id),this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData")}))})).catch((function(t){e.errors=t.response.data.errors}))},clearForm:function(){this.formData.date=null,this.formData.movement_type_id=0,this.formData.comment="",this.errors=[]},closeForm:function(){this.clearForm()}},components:{ModalForm:F.Z}};var M=a(3744);const j={name:"MemberMovementsTab",components:{MovementForm:(0,M.Z)(O,[["render",function(e,t,a,n,i,o){var s=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(s,{formId:"MovementForm",submitCaption:a.submitCaption,title:a.title,onCloseForm:o.closeForm,onSubmitData:o.submitData,modalContentClass:"second-modal"},{default:(0,r.w5)((function(){return[(0,r._)("div",h,[(0,r._)("div",b,[v,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("movement_type_id")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.movement_type_id=e}),id:"movementEventType"},[y,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.movementTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,_)})),128))],2),[[r.bM,a.formData.movement_type_id]]),(0,r._)("div",g,(0,r.zw)(e.getError("movement_type_id")),1)]),(0,r._)("div",w,[D,(0,r.wy)((0,r._)("input",{type:"date",class:(0,r.C_)(["form-control",e.hasError("date")?"is-invalid":""]),id:"movementEventDate","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.date=e})},null,2),[[r.nr,a.formData.date]]),(0,r._)("div",k,(0,r.zw)(e.getError("date")),1)])]),P,(0,r._)("div",C,[(0,r._)("div",E,[x,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("comment")?"is-invalid":""]),id:"movementEventComment",rows:"2","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.comment=e})},"\n                    ",2),[[r.nr,a.formData.comment]]),(0,r._)("div",S,(0,r.zw)(e.getError("comment")),1)])])]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]])},data:function(){return{movementTypes:[],eventForm:{member_id:null,date:null,movement_type_id:0,comment:""},title:"",movementAction:"",submitCaption:"",movements:[]}},methods:{showMovementEventForm:function(){this.title="Додати подію",this.submitCaption="Додати",this.movementAction="create",this.eventForm.member_id=this.$route.params.id,new p.u_(document.getElementById("MovementForm")).show()},editMovementEvent:function(e){Object.assign(this.eventForm,e),this.title="Редагувати подію",this.submitCaption="Зберегти",this.movementAction="update",new p.u_(document.getElementById("MovementForm")).show()},closeForm:function(){this.clearMovementEventForm()},deleteMovementEvent:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити інформацію о реєстрації / переміщенні").then((function(a){a.isConfirmed&&axios.delete("/api/v1/household-member-movements/".concat(e)).then((function(e){t.$toast(e.data.message),t.$emit("refreshData")}))}))},fetchMovementEvents:function(){var e=this;axios.get("/api/v1/household-members/".concat(this.$route.params.id,"/movements")).then((function(t){e.movements=t.data.data}))}},created:function(){var e=this;this.fetchMovementEvents(),axios.get("/api/v1/movement-types").then((function(t){e.movementTypes=t.data.data}))},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchMovementEvents()}}},I=(0,M.Z)(j,[["render",function(e,t,a,p,h,b){var v,y=(0,r.up)("MovementForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",n,[(0,r._)("button",{class:"btn btn-sm btn-outline-secondary",title:"Додати подію",onClick:t[0]||(t[0]=function(){return b.showMovementEventForm&&b.showMovementEventForm.apply(b,arguments)})},[i,(0,r.Uk)(" Додати подію ")])]),null!==(v=h.movements)&&void 0!==v&&v.length?((0,r.wg)(),(0,r.iD)("table",o,[s,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(h.movements,(function(e,t){return(0,r.wg)(),(0,r.iD)("tr",{key:t,class:"align-middle"},[(0,r._)("td",null,(0,r.zw)(e.date_formatted),1),(0,r._)("td",null,(0,r.zw)(e.movement_type),1),(0,r._)("td",null,(0,r.zw)(e.comment),1),(0,r._)("td",l,[(0,r._)("button",{class:"btn btn-sm btn-outline-warning btn-transparent me-3",title:"Редагувати подію",onClick:function(t){return b.editMovementEvent(e)}},c,8,d),(0,r._)("button",{class:"btn btn-sm btn-outline-danger btn-transparent",title:"Видалити подію",onClick:function(t){return b.deleteMovementEvent(e.id)}},u,8,m)])])})),128))])])):((0,r.wg)(),(0,r.iD)("div",f," Інформація відсутня ")),((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(y,{formData:h.eventForm,title:h.title,submitCaption:h.submitCaption,action:h.movementAction,movementTypes:h.movementTypes,onRefreshData:b.fetchMovementEvents},null,8,["formData","title","submitCaption","action","movementTypes","onRefreshData"])]))],64)}]])}}]);