"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[250],{8370:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(3645),n=r.n(a)()((function(e){return e[1]}));n.push([e.id,"a.router-link-exact-active[data-v-3f0049f7]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}",""]);const o=n},4082:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var a=r(8222),n={class:"card"},o={class:"card-header"},i={class:"dictionary-name__wrapper"},l=(0,a._)("span",null,"Члени домогосподарств",-1),s=[(0,a._)("span",{class:"mdi mdi-refresh"},null,-1)],d=[(0,a._)("span",{class:"mdi mdi-filter-outline"},null,-1)],m={class:"card-body"},c={class:"text-center"},u=(0,a._)("span",{class:"mdi mdi-eye-outline"},null,-1),f={class:"text-center"},b={class:"text-center"},p={key:1,class:"text-muted text-center p-3"};var h=r(3907),_=r(8877),v=r(366),y={class:"row mb-3"},w={class:"col"},g=(0,a._)("option",{value:"0"},"Усі населені пункти",-1),D=["value"],E={class:"row mb-3"},k={class:"col"},C=[(0,a._)("option",{value:"all"},"Всі",-1),(0,a._)("option",{value:"чоловіча"},"Чоловіча",-1),(0,a._)("option",{value:"жіноча"},"Жіноча",-1)],P=["disabled"];var O=r(4726),M=r(6036),S=r(6829);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==F(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const U={name:"MembersFilterForm",mixins:[O.Z],data:function(){return{}},methods:{submitData:function(){this.filter.isFiltered=!0,this.$store.dispatch("HouseholdMembers/applyFilter",this.filter)},clearFormData:function(){}},computed:x(x(x({},(0,h.Se)("HouseholdMembers",["filter"])),(0,h.Se)("Settlements",["settlements"])),{},{filterIsNotReady:function(){return 0==this.filter.settlement_id}}),created:function(){this.fetchAdditionalParamsForFilter("App\\Models\\HouseholdMember","boolean")},components:{ModalForm:M.Z,AdditionalParamsFormFilter:S.Z}};var V=r(3744);const T=(0,V.Z)(U,[["render",function(e,t,r,n,o,i){var l=(0,a.up)("AdditionalParamsFormFilter"),s=(0,a.up)("ModalForm");return(0,a.wg)(),(0,a.j4)(s,{formId:"MembersFilterForm",onSubmitData:i.submitData,onCloseForm:i.clearFormData,modalClass:""},{footer:(0,a.w5)((function(){return[(0,a._)("button",{class:"btn btn-outline-secondary",onClick:t[2]||(t[2]=function(t){return e.$emit("resetFilter")}),title:"Скинути фильтр",disabled:!e.filter.isFiltered}," Скинути ",8,P)]})),default:(0,a.w5)((function(){return[(0,a._)("div",y,[(0,a._)("div",w,[(0,a._)("label",{for:"memberSettlement",class:(0,a.C_)(["form-label",{filtered:0!==e.filter.settlement_id}])},"Населений пункт",2),(0,a.wy)((0,a._)("select",{class:"form-control",id:"memberSettlement","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filter.settlement_id=t})},[g,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.settlements,(function(e){return(0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.name),9,D)})),128))],512),[[a.bM,e.filter.settlement_id]])])]),(0,a._)("div",E,[(0,a._)("div",k,[(0,a._)("label",{for:"memberSex",class:(0,a.C_)(["form-label",{filtered:"all"!==e.filter.sex}])},"Стать",2),(0,a.wy)((0,a._)("select",{class:"form-control",id:"memberSex","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.sex=t})},C,512),[[a.bM,e.filter.sex]])])]),(0,a.Wm)(l,{params:e.params,filter:e.filter},null,8,["params","filter"])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==H(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $={name:"HouseholdMembersMain",data:function(){return{perPageItems:[10,15,20],dataFields:[{name:"link",caption:""},{name:"full_name",caption:"Призвіще ім'я по батькові",class:"sortable",sortable:!0},{name:"birthdate_formatted",caption:"Дата народження",class:"text-center"},{name:"address",caption:"Адреса"},{name:"household_number",caption:"Домогосподарство",class:"sortable",sortable:!0}]}},provide:function(){return{modalTitle:"Фільтр членів домогосподарств",modalSubmitCaption:"Застосувати"}},methods:{openFilterForm:function(){new _.u_(document.getElementById("MembersFilterForm")).show()},resetFilter:function(){this.filter.settlement_id=0,this.filter.isFiltered=!1,this.filter.additionalParams={},this.$store.dispatch("HouseholdMembers/applyFilter",this.filter)},perPageChanged:function(e){this.$store.dispatch("HouseholdMembers/changePerPage",e)},pageChanged:function(e){console.log("HouseholdMemberMain pageChanged: page: ".concat(e)),this.$store.dispatch("HouseholdMembers/changePage",e)},searchData:function(e,t){return e.full_name.includes(t)||e.household_number.includes(t)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,h.Se)("HouseholdMembers",["members","filter","pagination"])),components:{DataTable:v.Z,MembersFilterForm:T}},R=(0,V.Z)($,[["render",function(e,t,r,h,_,v){var y=(0,a.up)("breadcrumbs"),w=(0,a.up)("router-link"),g=(0,a.up)("DataTable"),D=(0,a.up)("MembersFilterForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(y),(0,a._)("div",n,[(0,a._)("div",o,[(0,a._)("div",i,[l,(0,a._)("button",{class:"btn btn-sm btn-outline-primary ms-2",onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("HouseholdMembers/fetchRecords")}),title:"Оновити дані"},s)]),(0,a._)("div",null,[(0,a._)("button",{class:(0,a.C_)(["btn btn-sm btn-outline-secondary",e.filter.isFiltered?"active":""]),onClick:[t[1]||(t[1]=(0,a.iM)((function(){return v.openFilterForm&&v.openFilterForm.apply(v,arguments)}),["exact"])),t[2]||(t[2]=(0,a.iM)((function(){return v.resetFilter&&v.resetFilter.apply(v,arguments)}),["ctrl"]))],title:"Фільтр членів домогосподарств"},d,2)])]),(0,a._)("div",m,[e.members.length>0?((0,a.wg)(),(0,a.j4)(g,{key:0,dataTable:e.members,perPageItems:_.perPageItems,externalPagination:e.pagination,dataFields:_.dataFields,tableHeaderClass:"table-dark",tableClass:"table-bordered",sortByDefaultField:"id",onPageChanged:v.pageChanged,onPerPageChanged:v.perPageChanged},{default:(0,a.w5)((function(e){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.paginatedData,(function(e){return(0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",c,[(0,a.Wm)(w,{to:{name:"HouseholdMember",params:{id:e.id}}},{default:(0,a.w5)((function(){return[u]})),_:2},1032,["to"])]),(0,a._)("td",null,(0,a.zw)(e.full_name),1),(0,a._)("td",f,(0,a.zw)(e.birthdate_formatted),1),(0,a._)("td",null,(0,a.zw)(e.address),1),(0,a._)("td",b,[(0,a.Wm)(w,{to:{name:"households.show.info",params:{id:e.household_id}},style:{"text-decoration":"none"}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(e.household_number),1)]})),_:2},1032,["to"])])])})),128))]})),_:1},8,["dataTable","perPageItems","externalPagination","dataFields","onPageChanged","onPerPageChanged"])):((0,a.wg)(),(0,a.iD)("div",p," Немає даних для відображення. "))])]),(0,a.Wm)(D,{onResetFilter:v.resetFilter},null,8,["onResetFilter"])],64)}]])},5878:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var a=r(8222),n=function(e){return(0,a.dD)("data-v-3f0049f7"),e=e(),(0,a.Cn)(),e},o={class:"card"},i={class:"card-header"},l={class:"card-body"},s={class:"px-3 pt-3"},d={class:"nav nav-tabs px-3"},m={class:"nav-item"},c=n((function(){return(0,a._)("span",{class:"mdi mdi-account-details-outline me-1"},null,-1)})),u={class:"nav-item"},f=n((function(){return(0,a._)("span",{class:"mdi mdi-land-fields me-1"},null,-1)})),b={class:"nav-item"},p=n((function(){return(0,a._)("span",{class:"mdi mdi-transit-transfer me-1"},null,-1)})),h={class:"nav-item"},_=n((function(){return(0,a._)("span",{class:"mdi mdi-tag-multiple me-1"},null,-1)})),v={class:"pt-2"};var y=r(3907);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==w(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E={name:"HouseholdMemebrsShow",props:{id:{type:[String,Number],required:!0}},data:function(){return{}},methods:{fetchMember:function(){var e=this;this.$route.params.memberId;axios.get("/api/v1/household-members/".concat(this.id)).then((function(t){e.member=t.data.data}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,y.Se)("HouseholdMembers",["member"])),created:function(){this.$store.dispatch("HouseholdMembers/fetchRecord",this.id)},watch:{$route:function(e,t){e.params.id!==t.params.id&&e.name==t.name&&this.$store.dispatch("HouseholdMembers/fetchRecord",e.params.id)}}};var k=r(3379),C=r.n(k),P=r(8370),O={insert:"head",singleton:!1};C()(P.Z,O);P.Z.locals;const M=(0,r(3744).Z)(E,[["render",function(e,t,r,n,y,w){var g=(0,a.up)("breadcrumbs"),D=(0,a.up)("router-link"),E=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(g),(0,a._)("div",o,[(0,a._)("div",i,[(0,a._)("div",null,[(0,a._)("h5",null,(0,a.zw)(e.member.full_name),1),(0,a._)("h6",null,[(0,a.Uk)((0,a.zw)(e.member.address)+" | ",1),e.member.household_id?((0,a.wg)(),(0,a.j4)(D,{key:0,to:{name:"households.show.info",params:{id:e.member.household_id}},onClick:t[0]||(t[0]=(0,a.iM)((function(t){return e.$router.push({name:"households.show.members",params:{id:e.member.household_id}})}),["ctrl","prevent"]))},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(e.member.household_number),1)]})),_:1},8,["to"])):(0,a.kq)("",!0)])])]),(0,a._)("div",l,[(0,a._)("div",s,[(0,a._)("ul",d,[(0,a._)("li",m,[(0,a.Wm)(D,{to:{name:"HouseholdMember.info"},class:"nav-link"},{default:(0,a.w5)((function(){return[c,(0,a.Uk)(" Головна інформація ")]})),_:1},8,["to"])]),(0,a._)("li",u,[(0,a.Wm)(D,{to:{name:"HouseholdMember.lands"},class:"nav-link"},{default:(0,a.w5)((function(){return[f,(0,a.Uk)(" Земля ")]})),_:1},8,["to"])]),(0,a._)("li",b,[(0,a.Wm)(D,{to:{name:"HouseholdMember.movements"},class:"nav-link"},{default:(0,a.w5)((function(){return[p,(0,a.Uk)(" Реєстрація / Переміщення ")]})),_:1},8,["to"])]),(0,a._)("li",h,[(0,a.Wm)(D,{to:{name:"HouseholdMember.additional-data"},class:"nav-link"},{default:(0,a.w5)((function(){return[_,(0,a.Uk)(" Додаткові дані ")]})),_:1},8,["to"])])]),(0,a._)("div",v,[(0,a.Wm)(E)])])])])],64)}],["__scopeId","data-v-3f0049f7"]])},9706:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(8222);const n={name:"HouseholdMemberAdditionalParams",data:function(){return{params:[]}},methods:{refreshData:function(){},fetchAdditionalParams:function(){var e=this;axios.get("/api/v1/household-members/".concat(this.$route.params.id,"/additional-data")).then((function(t){e.params=t.data.data}))}},created:function(){this.fetchAdditionalParams()},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchAdditionalParams()}},components:{AdditionalParamsList:r(3082).Z}};const o=(0,r(3744).Z)(n,[["render",function(e,t,r,n,o,i){var l=(0,a.up)("AdditionalParamsList");return(0,a.wg)(),(0,a.j4)(l,{owner:"App\\Models\\HouseholdMember",ownerId:e.$route.params.id,additionalParams:o.params,onRefreshData:i.refreshData},null,8,["ownerId","additionalParams","onRefreshData"])}]])},6897:(e,t,r)=>{r.r(t),r.d(t,{default:()=>B});var a=r(8222),n={class:"table table-sm table-bordered table-years"},o={class:"bg-body-secondary"},i=(0,a._)("span",{class:"mdi mdi-plus-thick"},null,-1),l={class:"dropdown"},s=(0,a._)("button",{class:"btn btn-sm btn-light btn-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Операції з даними за рік"},[(0,a._)("span",{class:"mdi mdi-cog"})],-1),d={class:"dropdown-menu dropdown-menu-end"},m=["onClick"],c=(0,a._)("span",{class:"mdi mdi-land-fields me-2",style:{color:"green"}},null,-1),u=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),f=["onClick"],b=(0,a._)("span",{class:"mdi mdi-pencil text-warning me-2"},null,-1),p=["onClick"],h=(0,a._)("span",{class:"mdi mdi-trash-can text-danger me-2"},null,-1),_={class:"table-group-divider"};r(8877);var v=r(3907),y=r(9499),w={class:"row mb-3"},g=(0,a._)("label",{for:"landYear",class:"col-form-label col-md-9"}," Рік ",-1),D={id:"landYearValidation",class:"invalid-feedback col-md-12"},E={class:"row mb-3"},k=(0,a._)("label",{for:"landMaintenance",class:"col-form-label col-md-9"}," під забудовою ",-1),C={id:"landMaintenanceValidation",class:"invalid-feedback col-md-12"},P={class:"row mb-3"},O=(0,a._)("label",{for:"landPersonalAgriculture",class:"col-form-label col-md-9"},[(0,a.Uk)(" для ведення "),(0,a._)("abbr",{title:"особистого селянського господарства"},"ОСГ")],-1),M={id:"landPersonalAgricultureValidation",class:"invalid-feedback col-md-12"},S=(0,a._)("label",{for:"landHayCatting",class:"col-form-label col-md-9"}," сінокосіння ",-1),F={id:"landHayCutting",class:"invalid-feedback col-md-12"},j=(0,a._)("label",{for:"landPastures",class:"col-form-label col-md-9"}," пасовища ",-1),x={id:"landPastures",class:"invalid-feedback col-md-12"},I=(0,a._)("label",{for:"landShare",class:"col-form-label col-md-9"}," земельний пай ",-1),U={id:"landShare",class:"invalid-feedback col-md-12"},V=(0,a._)("label",{for:"landPropertyShare",class:"col-form-label col-md-9"}," майновий пай ",-1),T={id:"landShare",class:"invalid-feedback col-md-12"};var H=r(6036),Y=r(2965),z=r(3753);const $={name:"LandYearForm",mixins:[Y.Z,z.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0}},emits:["refreshData"],data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{closeForm:function(){}},components:{ModalForm:H.Z}};var R=r(3744);const Z=(0,R.Z)($,[["render",function(e,t,r,n,o,i){var l=(0,a.up)("ModalForm");return(0,a.wg)(),(0,a.j4)(l,{formId:"LandYearForm",submitCaption:r.submitCaption,title:r.title,onCloseForm:i.closeForm,onSubmitData:e.submitData,modalContentClass:"second-modal"},{default:(0,a.w5)((function(){return[(0,a._)("div",w,[g,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("year")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("year")?"is-invalid":""]),id:"landYear",name:"landYear","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.formData.year=e})},null,2),[[a.nr,r.formData.year]])],2),(0,a._)("div",D,(0,a.zw)(e.getError("year")),1)]),(0,a._)("div",E,[k,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("maintenance")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control col-md-3",e.hasError("maintenance")?"is-invalid":""]),id:"landMaintenance","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.formData.maintenance=e})},null,2),[[a.nr,r.formData.maintenance]])],2),(0,a._)("div",C,(0,a.zw)(e.getError("maintenance")),1)]),(0,a._)("div",P,[O,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("personal_agriculture")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("personal_agriculture")?"is-invalid":""]),id:"landPersonalAgriculture","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.formData.personal_agriculture=e})},null,2),[[a.nr,r.formData.personal_agriculture]])],2),(0,a._)("div",M,(0,a.zw)(e.getError("personal_agriculture")),1)]),(0,a._)("div",{class:(0,a.C_)(["row mb-3",e.hasError("hay_cutting")?"is-invalid":""])},[S,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("hay_cutting")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("hay_cutting")?"is-invalid":""]),id:"landHayCatting","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.formData.hay_cutting=e})},null,2),[[a.nr,r.formData.hay_cutting]])],2),(0,a._)("div",F,(0,a.zw)(e.getError("hay_cutting")),1)],2),(0,a._)("div",{class:(0,a.C_)(["row mb-3",e.hasError("pastures")?"is-invalid":""])},[j,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("pastures")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("pastures")?"is-invalid":""]),id:"landPastures","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.formData.pastures=e})},null,2),[[a.nr,r.formData.pastures]])],2),(0,a._)("div",x,(0,a.zw)(e.getError("pastures")),1)],2),(0,a._)("div",{class:(0,a.C_)(["row mb-3",e.hasError("land_share")?"is-invalid":""])},[I,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("land_share")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("land_share")?"is-invalid":""]),id:"landShare","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.formData.land_share=e})},null,2),[[a.nr,r.formData.land_share]])],2),(0,a._)("div",U,(0,a.zw)(e.getError("land_share")),1)],2),(0,a._)("div",{class:(0,a.C_)(["row mb-3",e.hasError("property_share")?"is-invalid":""])},[V,(0,a._)("div",{class:(0,a.C_)(["col-md-3",e.hasError("property_share")?"is-invalid":""])},[(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("property_share")?"is-invalid":""]),id:"landPropertyShare","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.formData.property_share=e})},null,2),[[a.nr,r.formData.property_share]])],2),(0,a._)("div",T,(0,a.zw)(e.getError("property_share")),1)],2)]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]]);var W=r(8680);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==A(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const L={name:"MemberLandYearsTab",mixins:[r(9181).Z],components:{TableRow:y.Z,LandYearForm:Z,YearsPaginator:W.Z},data:function(){return{yearData:{id:null,member_id:null,year:(new Date).getFullYear(),maintenance:0,personal_agriculture:0,hay_cutting:0,pastures:0,land_share:0,property_share:0},action:"",title:"",submitCaption:"",owner:"member_id",yearFormId:"LandYearForm",apiUrl:"/api/v1/household-member-lands",years:[],meta:[],perPage:5}},methods:{closeYearForm:function(){this.yearData.id=null,this.yearData.year=(new Date).getFullYear(),this.yearData.maintenance=0,this.yearData.personal_agriculture=0,this.yearData.hay_cutting=0,this.yearData.pastures=0,this.yearData.land_share=0,this.yearData.property_shar=0},landOwnedReport:function(e){var t=this,r={report:"landOwned",year:e,member_id:this.$route.params.id};axios.post("/api/v1/generate-report",r,{responseType:"arraybuffer"}).then((function(e){var r=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=r;var n="".concat(t.member.surname," ").concat(t.member.name," ").concat(t.member.patronymic,". Довідка про склад земельної ділянки.docx");a.setAttribute("download",n),document.body.appendChild(a),a.click()}))},fetchYears:function(e){var t=this;null==e&&(e="/api/v1/household-members/".concat(this.$route.params.id,"/land?per_page=").concat(this.perPage)),axios.get(e).then((function(e){t.years=e.data.data.reverse(),t.meta=e.data.meta}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,v.Se)("HouseholdMembers",{owner_id:"memberId",member:"member"})),created:function(){this.fetchYears()},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchYears()},perPage:function(e,t){e&&this.fetchYears()}}},B=(0,R.Z)(L,[["render",function(e,t,r,v,y,w){var g=(0,a.up)("TableRow"),D=(0,a.up)("YearsPaginator"),E=(0,a.up)("LandYearForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("table",n,[(0,a._)("thead",o,[(0,a._)("tr",null,[(0,a._)("th",null,[(0,a._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[0]||(t[0]=function(t){return e.newYearData(t)})},[i,(0,a.Uk)(" Додати рік ")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.years,(function(t){return(0,a.wg)(),(0,a.iD)("th",{key:t.year},[(0,a.Uk)((0,a.zw)(t.year)+" ",1),(0,a._)("div",l,[s,(0,a._)("ul",d,[(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item",onClick:function(e){return w.landOwnedReport(t.year)}},[c,(0,a.Uk)(" Звіт про склад земельної ділянки ")],8,m)]),u,(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item",onClick:function(r){return e.editYear(t)}},[b,(0,a.Uk)(" Редагувати дані ")],8,f)]),(0,a._)("li",null,[(0,a._)("a",{class:"dropdown-item",onClick:function(r){return e.deleteYear(t)}},[h,(0,a.Uk)(" Видалити дані ")],8,p)])])])])})),128))])]),(0,a._)("tbody",_,[(0,a.Wm)(g,{years:y.years,field:"total",rowTitle:"<b>Площа земельних ділянок - усього</b>"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"maintenance",rowTitle:"під забудовою",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"personal_agriculture",rowTitle:"для ведення  <abbr title='особистого селянського господарства'>ОСГ</abbr>",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"hay_cutting",rowTitle:"сінокосіння",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"pastures",rowTitle:"пасовища",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"land_share",rowTitle:"земельний пай",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.Wm)(g,{years:y.years,field:"property_share",rowTitle:"майновий пай",rowTitleClass:"ps-3"},null,8,["years"])])]),y.years.length>0?((0,a.wg)(),(0,a.j4)(D,{key:0,modelValue:y.perPage,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y.perPage=e}),meta:y.meta,onFetchYears:w.fetchYears},null,8,["modelValue","meta","onFetchYears"])):(0,a.kq)("",!0),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(E,{formData:y.yearData,title:y.title,submitCaption:y.submitCaption,action:y.action,onCloseYearForm:w.closeYearForm,onRefreshData:w.fetchYears},null,8,["formData","title","submitCaption","action","onCloseYearForm","onRefreshData"])]))],64)}]])},6652:(e,t,r)=>{r.r(t),r.d(t,{default:()=>je});var a=r(8222),n={class:"row"},o={class:"col-md-5 border-end"},i={class:"row mb-3"},l={class:"col"},s=(0,a._)("label",{for:"memberSurname",class:"form-label"},"Прізвище",-1),d=["disabled"],m={id:"memberSurnameValidation",class:"invalid-feedback"},c={class:"row mb-3"},u={class:"col"},f=(0,a._)("label",{for:"memberName",class:"form-label"},"Ім'я",-1),b=["disabled"],p={id:"memberNameValidation",class:"invalid-feedback"},h={class:"col"},_=(0,a._)("label",{for:"memberPatronymic",class:"form-label"},"По батькові",-1),v=["disabled"],y={id:"memberPatronymicValidation",class:"invalid-feedback"},w={class:"row mb-3"},g={class:"col"},D=(0,a._)("label",{for:"memberBirthdate",class:"form-label"},"Дата народження",-1),E=["disabled"],k={id:"memberBirthdayValidation",class:"invalid-feedback"},C={class:"col"},P=(0,a._)("label",{for:"memberSex",class:"form-label"},"Стать",-1),O=["disabled"],M=(0,a._)("datalist",{id:"sex"},[(0,a._)("option",{value:"чоловіча"}),(0,a._)("option",{value:"жіноча"})],-1),S={id:"memberSexValidation",class:"invalid-feedback"},F={class:"row mb-3"},j={class:"col"},x=(0,a._)("label",{for:"familyRelationshipType",class:"form-label"},"Родинні стосунки",-1),I=["disabled"],U=(0,a._)("option",{disabled:"",value:"0"},"Оберить тип родинних стосунків",-1),V=["value"],T={id:"familyRelationshipTypeValidation",class:"invalid-feedback"},H={class:"row mb-3"},Y={class:"col"},z=(0,a._)("label",{for:"memberDeathDate",class:"form-label"},"Дата смерті",-1),$=["disabled"],R={id:"memberDeathDateValidation",class:"invalid-feedback"},Z={class:"col"},W=(0,a._)("label",{for:"memberDeathNumber",class:"form-label"},"Номер свідоцтва",-1),A=["disabled"],N={id:"memberDeathNumberValidation",class:"invalid-feedback"},q={class:"row mb-3"},L={class:"col"},B=(0,a._)("label",{for:"memberDeathRegisterOffice",class:"form-label"},"Орган",-1),K=["disabled"],J={id:"memberDeathPlaceValidation",class:"invalid-feedback"},G={class:"col-md-7"},Q={class:"row mb-3"},X={class:"col"},ee=(0,a._)("label",{for:"workPlace",class:"form-label"},"Місце роботи залежно від територіального розташування",-1),te=["disabled"],re=(0,a._)("option",{disabled:"",value:"0"},"Оберить місце роботи",-1),ae=["value"],ne={id:"workPlaceValidation",class:"invalid-feedback"},oe={class:"row mb-3"},ie={class:"col"},le=(0,a._)("label",{for:"employmentInformation",class:"form-label"},"Відомості про зайнятість / незайнятість",-1),se=["disabled"],de={id:"employmentInformationValidation",class:"invalid-feedback"},me={class:"row mb-3"},ce={class:"col"},ue=(0,a._)("label",{for:"socialInformation",class:"form-label"},"Відомості про пенсію, інвалідність, отримання соціальної допомоги",-1),fe=["disabled"],be={id:"socialInformationValidation",class:"invalid-feedback"},pe={class:"row mb-3"},he={class:"col"},_e=(0,a._)("label",{for:"additionalInformation",class:"form-label"},"Додаткова інформація",-1),ve=["disabled"],ye={id:"additionalInformationValidation",class:"invalid-feedback"},we={class:"row"},ge={class:"d-flex justify-content-between"},De=(0,a._)("span",{class:"mdi mdi-trash-can-outline"},null,-1),Ee=(0,a._)("span",{class:"mdi mdi-pencil"},null,-1),ke=(0,a._)("span",{class:"mdi mdi-check-all"},null,-1);var Ce=r(3907);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==Pe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fe={name:"MemberMainInfoTab",mixins:[r(2965).Z],emits:["refreshData"],data:function(){return{isInEditMode:!1,_formData:{}}},methods:{editData:function(){this.isInEditMode=!0,this._formData=JSON.parse(JSON.stringify(this.formData))},cancelEdit:function(){this.isInEditMode=!1,this.errors=[],this._formData={},this.$store.dispatch("HouseholdMembers/fetchRecord",this.memberId)},saveData:function(){var e=this,t=Object.assign({},this.formData);0==t.work_place_id&&delete t.work_place_id,axios.patch("/api/v1/household-members/".concat(this.formData.id),t).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.$store.dispatch("Households/fetchRecord",e.formData.household_id)})).catch((function(t){var r;e.errors=null===(r=t.response)||void 0===r?void 0:r.data.errors}))},deleteData:function(){var e=this;this.$confirmDelete("Ви дійсно бажаєти видалити інформацію о члені домогосподарства").then((function(t){t.isConfirmed&&axios.delete("/api/v1/household-members/".concat(e.formData.id)).then((function(t){e.$toast(t.data.message),e.$router.push({name:"households.show.members",params:{id:e.formData.household_id}})})).catch((function(t){e.$errorMessage("Неможливо видалити члена домогосподарства",t.response.data.message,"Зрозуміло")}))}))}},computed:Me(Me(Me(Me({},(0,Ce.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),(0,Ce.Se)("WorkPlaces",["places"])),(0,Ce.Se)("HouseholdMembers",{formData:"member",memberId:"memberId"})),{},{isEmploymentInformationDisabled:function(){return!(this.isInEditMode&&this.formData.work_place_id>0)},readyForSave:function(){return JSON.stringify(this.formData)!==JSON.stringify(this._formData)}}),created:function(){},watch:{"formData.death_date":function(e){""==e&&(this.formData.death_date=null,this.formData.death_register_number="",this.errors.death_register_number&&delete this.errors.death_register_number,this.formData.death_register_office="",this.errors.death_register_office&&delete this.errors.death_register_office)},"formData.work_place_id":function(e){e&&console.log("WorkPlace  has been changed")}}};const je=(0,r(3744).Z)(Fe,[["render",function(e,t,r,Ce,Pe,Oe){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a._)("div",i,[(0,a._)("div",l,[s,(0,a.wy)((0,a._)("input",{type:"text",id:"memberSurname",class:(0,a.C_)(["form-control",e.hasError("surname")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.surname=t}),disabled:!Pe.isInEditMode},null,10,d),[[a.nr,e.formData.surname]]),(0,a._)("div",m,(0,a.zw)(e.getError("surname")),1)])]),(0,a._)("div",c,[(0,a._)("div",u,[f,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:"memberName","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.name=t}),disabled:!Pe.isInEditMode},null,10,b),[[a.nr,e.formData.name]]),(0,a._)("div",p,(0,a.zw)(e.getError("name")),1)]),(0,a._)("div",h,[_,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",e.hasError("patronymic")?"is-invalid":""]),id:"memberPatronymic","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.patronymic=t}),disabled:!Pe.isInEditMode},null,10,v),[[a.nr,e.formData.patronymic]]),(0,a._)("div",y,(0,a.zw)(e.getError("patronymic")),1)])]),(0,a._)("div",w,[(0,a._)("div",g,[D,(0,a.wy)((0,a._)("input",{type:"date",class:(0,a.C_)(["form-control",e.hasError("birthdate")?"is-invalid":""]),id:"memberBirthdate","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.birthdate=t}),disabled:!Pe.isInEditMode},null,10,E),[[a.nr,e.formData.birthdate]]),(0,a._)("div",k,(0,a.zw)(e.getError("birthdate")),1)]),(0,a._)("div",C,[P,(0,a.wy)((0,a._)("input",{list:"sex",id:"memberSex",placeholder:"Type to search...",class:(0,a.C_)(["form-control",e.hasError("sex")?"is-invalid":""]),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.sex=t}),disabled:!Pe.isInEditMode},null,10,O),[[a.nr,e.formData.sex]]),M,(0,a._)("div",S,(0,a.zw)(e.getError("sex")),1)])]),(0,a._)("div",F,[(0,a._)("div",j,[x,(0,a.wy)((0,a._)("select",{class:(0,a.C_)(["form-control",e.hasError("family_relationship_type_id")?"is-invalid":""]),"aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.family_relationship_type_id=t}),id:"familyRelationshipType",disabled:!Pe.isInEditMode},[U,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.relationshipTypes,(function(e){return(0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.name),9,V)})),128))],10,I),[[a.bM,e.formData.family_relationship_type_id]]),(0,a._)("div",T,(0,a.zw)(e.getError("family_relationship_type_id")),1)])]),(0,a._)("div",H,[(0,a._)("div",Y,[z,(0,a.wy)((0,a._)("input",{type:"date",id:"memberDeathDate",class:(0,a.C_)(["form-control",e.hasError("death_date")?"is-invalid":""]),"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formData.death_date=t}),disabled:!Pe.isInEditMode},null,10,$),[[a.nr,e.formData.death_date]]),(0,a._)("div",R,(0,a.zw)(e.getError("death_date")),1)]),(0,a._)("div",Z,[W,(0,a.wy)((0,a._)("input",{type:"text",id:"memberDeathNumber",class:(0,a.C_)(["form-control",e.hasError("death_register_number")?"is-invalid":""]),"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formData.death_register_number=t}),disabled:!Pe.isInEditMode},null,10,A),[[a.nr,e.formData.death_register_number]]),(0,a._)("div",N,(0,a.zw)(e.getError("death_register_number")),1)])]),(0,a._)("div",q,[(0,a._)("div",L,[B,(0,a.wy)((0,a._)("input",{type:"text",id:"memberDeathRegisterOffice",class:(0,a.C_)(["form-control",e.hasError("death_register_office")?"is-invalid":""]),"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.death_register_office=t}),disabled:!Pe.isInEditMode},null,10,K),[[a.nr,e.formData.death_register_office]]),(0,a._)("div",J,(0,a.zw)(e.getError("death_register_office")),1)])])]),(0,a._)("div",G,[(0,a._)("div",Q,[(0,a._)("div",X,[ee,(0,a.wy)((0,a._)("select",{class:(0,a.C_)(["form-select",e.hasError("work_place_id")?"is-invalid":""]),"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formData.work_place_id=t}),disabled:!Pe.isInEditMode,id:"workPlace"},[re,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.places,(function(e){return(0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.name),9,ae)})),128))],10,te),[[a.bM,e.formData.work_place_id]]),(0,a._)("div",ne,(0,a.zw)(e.getError("work_place_id")),1)])]),(0,a._)("div",oe,[(0,a._)("div",ie,[le,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",e.hasError("employment_information")?"is-invalid":""]),id:"employmentInformation",rows:"2","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formData.employment_information=t}),disabled:Oe.isEmploymentInformationDisabled},"\n                ",10,se),[[a.nr,e.formData.employment_information]]),(0,a._)("div",de,(0,a.zw)(e.getError("employment_information")),1)])]),(0,a._)("div",me,[(0,a._)("div",ce,[ue,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",e.hasError("social_information")?"is-invalid":""]),id:"socialInformation",rows:"2","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formData.social_information=t}),disabled:!Pe.isInEditMode},"\n                ",10,fe),[[a.nr,e.formData.social_information]]),(0,a._)("div",be,(0,a.zw)(e.getError("social_information")),1)])]),(0,a._)("div",pe,[(0,a._)("div",he,[_e,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",e.hasError("additional_information")?"is-invalid":""]),id:"additionalInformation",rows:"2","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.formData.additional_information=t}),disabled:!Pe.isInEditMode},"\n                ",10,ve),[[a.nr,e.formData.additional_information]]),(0,a._)("div",ye,(0,a.zw)(e.getError("additional_information")),1)])])])]),(0,a._)("div",we,[(0,a._)("div",ge,[(0,a._)("div",null,[Pe.isInEditMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-sm btn-outline-danger",title:"Видалити члена домогосподарства",onClick:t[13]||(t[13]=function(){return Oe.deleteData&&Oe.deleteData.apply(Oe,arguments)})},[De,(0,a.Uk)(" Видалити ")]))]),(0,a._)("div",null,[Pe.isInEditMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-sm btn-outline-secondary",title:"Редагувати дані",onClick:t[14]||(t[14]=function(){return Oe.editData&&Oe.editData.apply(Oe,arguments)})},[Ee,(0,a.Uk)(" Редагувати ")])),Pe.isInEditMode?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-sm btn-outline-secondary",title:"Відмінити редагування",onClick:t[15]||(t[15]=function(){return Oe.cancelEdit&&Oe.cancelEdit.apply(Oe,arguments)})}," Відмінити ")):(0,a.kq)("",!0),Pe.isInEditMode?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"btn btn-sm btn-outline-primary ms-3",title:"Зберегти дані",onClick:t[16]||(t[16]=function(){return Oe.saveData&&Oe.saveData.apply(Oe,arguments)})},[ke,(0,a.Uk)(" Зберегти ")])):(0,a.kq)("",!0)])])])],64)}]])},1472:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var a=r(8222),n={class:"mb-3"},o=(0,a._)("span",{class:"mdi mdi-calendar me-1"},null,-1),i={key:0,class:"table table-sm table-bordered"},l=(0,a._)("thead",{class:"bg-body-secondary"},[(0,a._)("tr",null,[(0,a._)("th",{style:{width:"150px"}},"Дата"),(0,a._)("th",null,"Подія"),(0,a._)("th",null,"Коментар"),(0,a._)("th",{style:{width:"100px"}})])],-1),s={class:"text-center"},d=["onClick"],m=[(0,a._)("span",{class:"mdi mdi-pencil"},null,-1)],c=["onClick"],u=[(0,a._)("span",{class:"mdi mdi-trash-can-outline"},null,-1)],f={key:1,class:"text-center text-muted"};var b=r(8877),p={class:"row mb-3"},h={class:"col-md-8"},_=(0,a._)("label",{for:"movementEventType",class:"form-label"},"Подія",-1),v=(0,a._)("option",{disabled:"",value:"0"},"Оберить подію",-1),y=["value"],w={id:"movementEventValidation",class:"invalid-feedback"},g={class:"col-md-4"},D=(0,a._)("label",{for:"movementEventDate",class:"form-label"},"Дата",-1),E={id:"movementEventValidation",class:"invalid-feedback"},k=(0,a._)("div",{class:"row mb-3"},null,-1),C={class:"row mb-3"},P={class:"col"},O=(0,a._)("label",{for:"movementEventComment",class:"form-label"},"Примітка",-1),M={id:"movementEventCommentValidation",class:"invalid-feedback"};var S=r(6036);const F={name:"MovementForm",mixins:[r(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0},movementTypes:{type:Array,required:!0}},emits:["refreshData"],data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post("/api/v1/household-member-movements",this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData"),e.clearForm()}))})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/household-member-movements/".concat(this.formData.id),this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData")}))})).catch((function(t){e.errors=t.response.data.errors}))},clearForm:function(){this.formData.date=null,this.formData.movement_type_id=0,this.formData.comment="",this.errors=[]},closeForm:function(){this.clearForm()}},components:{ModalForm:S.Z}};var j=r(3744);const x={name:"MemberMovementsTab",components:{MovementForm:(0,j.Z)(F,[["render",function(e,t,r,n,o,i){var l=(0,a.up)("ModalForm");return(0,a.wg)(),(0,a.j4)(l,{formId:"MovementForm",submitCaption:r.submitCaption,title:r.title,onCloseForm:i.closeForm,onSubmitData:i.submitData,modalContentClass:"second-modal"},{default:(0,a.w5)((function(){return[(0,a._)("div",p,[(0,a._)("div",h,[_,(0,a.wy)((0,a._)("select",{class:(0,a.C_)(["form-control",e.hasError("movement_type_id")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.formData.movement_type_id=e}),id:"movementEventType"},[v,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.movementTypes,(function(e){return(0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.name),9,y)})),128))],2),[[a.bM,r.formData.movement_type_id]]),(0,a._)("div",w,(0,a.zw)(e.getError("movement_type_id")),1)]),(0,a._)("div",g,[D,(0,a.wy)((0,a._)("input",{type:"date",class:(0,a.C_)(["form-control",e.hasError("date")?"is-invalid":""]),id:"movementEventDate","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.formData.date=e})},null,2),[[a.nr,r.formData.date]]),(0,a._)("div",E,(0,a.zw)(e.getError("date")),1)])]),k,(0,a._)("div",C,[(0,a._)("div",P,[O,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",e.hasError("comment")?"is-invalid":""]),id:"movementEventComment",rows:"2","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.formData.comment=e})},"\n                    ",2),[[a.nr,r.formData.comment]]),(0,a._)("div",M,(0,a.zw)(e.getError("comment")),1)])])]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]])},data:function(){return{movementTypes:[],eventForm:{member_id:null,date:null,movement_type_id:0,comment:""},title:"",movementAction:"",submitCaption:"",movements:[]}},methods:{showMovementEventForm:function(){this.title="Додати подію",this.submitCaption="Додати",this.movementAction="create",this.eventForm.member_id=this.$route.params.id,new b.u_(document.getElementById("MovementForm")).show()},editMovementEvent:function(e){Object.assign(this.eventForm,e),this.title="Редагувати подію",this.submitCaption="Зберегти",this.movementAction="update",new b.u_(document.getElementById("MovementForm")).show()},closeForm:function(){this.clearMovementEventForm()},deleteMovementEvent:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити інформацію о реєстрації / переміщенні").then((function(r){r.isConfirmed&&axios.delete("/api/v1/household-member-movements/".concat(e)).then((function(e){t.$toast(e.data.message),t.$emit("refreshData")}))}))},fetchMovementEvents:function(){var e=this;axios.get("/api/v1/household-members/".concat(this.$route.params.id,"/movements")).then((function(t){e.movements=t.data.data}))}},created:function(){var e=this;this.fetchMovementEvents(),axios.get("/api/v1/movement-types").then((function(t){e.movementTypes=t.data.data}))},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchMovementEvents()}}},I=(0,j.Z)(x,[["render",function(e,t,r,b,p,h){var _,v=(0,a.up)("MovementForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a._)("button",{class:"btn btn-sm btn-outline-secondary",title:"Додати подію",onClick:t[0]||(t[0]=function(){return h.showMovementEventForm&&h.showMovementEventForm.apply(h,arguments)})},[o,(0,a.Uk)(" Додати подію ")])]),null!==(_=p.movements)&&void 0!==_&&_.length?((0,a.wg)(),(0,a.iD)("table",i,[l,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.movements,(function(e,t){return(0,a.wg)(),(0,a.iD)("tr",{key:t,class:"align-middle"},[(0,a._)("td",null,(0,a.zw)(e.date_formatted),1),(0,a._)("td",null,(0,a.zw)(e.movement_type),1),(0,a._)("td",null,(0,a.zw)(e.comment),1),(0,a._)("td",s,[(0,a._)("button",{class:"btn btn-sm btn-outline-warning btn-transparent me-3",title:"Редагувати подію",onClick:function(t){return h.editMovementEvent(e)}},m,8,d),(0,a._)("button",{class:"btn btn-sm btn-outline-danger btn-transparent",title:"Видалити подію",onClick:function(t){return h.deleteMovementEvent(e.id)}},u,8,c)])])})),128))])])):((0,a.wg)(),(0,a.iD)("div",f," Інформація відсутня ")),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(v,{formData:p.eventForm,title:p.title,submitCaption:p.submitCaption,action:p.movementAction,movementTypes:p.movementTypes,onRefreshData:h.fetchMovementEvents},null,8,["formData","title","submitCaption","action","movementTypes","onRefreshData"])]))],64)}]])}}]);