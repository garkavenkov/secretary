"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[346],{4322:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(8222),o=r(8877);const a={data:function(){return{formData:{name:""},action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,n.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,n.computed)((function(){return e.modalSubmitCaption}))}},methods:{openFormForAdd:function(){var e=new o.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleCreate,this.modalSubmitCaption="Додати",this.action="create",e.show()},openFormForEdit:function(e){var t=new o.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleUpdate,this.modalSubmitCaption="Зберегти",this.formData.id=e.id,this.formData.name=e.name,this.action="update",t.show()}}}},5463:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(3645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"table tr td[data-v-03a25192]:last-of-type{text-align:center;width:5rem}",""]);const a=o},577:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(8222),o={class:"row mb-3"},a={class:"col"},i=["for"],l=["id"],c=["id"];var d=r(6036);const m={name:"SystemDictionaryForm",mixins:[r(2965).Z],props:{formId:{type:String,required:!0},fieldId:{type:String,required:!0},url:{type:String,required:!0},formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.url,this.formData).then((function(t){e.clearFormData(),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("".concat(this.url,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors}))},clearFormData:function(){this.formData.name="",this.errors=[]}},components:{ModalForm:d.Z}};const s=(0,r(3744).Z)(m,[["render",function(e,t,r,d,m,s){var u=(0,n.resolveComponent)("ModalForm");return(0,n.openBlock)(),(0,n.createBlock)(u,{formId:r.formId,onSubmitData:s.submitData,onCloseForm:s.clearFormData},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("label",{for:r.fieldId,class:"form-label"},"Назва",8,i),(0,n.withDirectives)((0,n.createElementVNode)("textarea",{row:"2",class:(0,n.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:r.fieldId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.formData.name=e})},"\n                ",10,l),[[n.vModelText,r.formData.name]]),(0,n.createElementVNode)("div",{id:"".concat(r.fieldId,"Validation"),class:"invalid-feedback"},(0,n.toDisplayString)(e.getError("name")),9,c)])])]})),_:1},8,["formId","onSubmitData","onCloseForm"])}]])},4302:(e,t,r)=>{r.d(t,{Z:()=>D});var n=r(8222),o=function(e){return(0,n.pushScopeId)("data-v-03a25192"),e=e(),(0,n.popScopeId)(),e},a={class:"card"},i={class:"card-header"},l={class:"dictionary-name__wrapper"},c=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-plus"},null,-1)}))],d={class:"card-body"},m=o((function(){return(0,n.createElementVNode)("th",null,null,-1)})),s=["onClick"],u=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-pencil"},null,-1)}))];var f=r(6558);const p={name:"SystemDictionaryTable",props:{title:{type:String,required:!0},dataTable:{type:Array,required:!0},fieldsTitle:{type:Array,required:!1,default:function(){return["Назва"]}},fieldsName:{type:Array,required:!1,default:function(){return["name"]}}},data:function(){return{}},components:{DataTable:f.Z}};var y=r(3379),b=r.n(y),h=r(5463),v={insert:"head",singleton:!1};b()(h.Z,v);h.Z.locals;const D=(0,r(3744).Z)(p,[["render",function(e,t,r,o,f,p){var y=(0,n.resolveComponent)("DataTable");return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(r.title),1),(0,n.createElementVNode)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=function(t){return e.$emit("newRecord")})},c)])]),(0,n.createElementVNode)("div",d,[(0,n.createVNode)(y,{dataTable:r.dataTable,tableHeaderClass:"table-dark"},{header:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("tr",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.fieldsTitle,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("th",{key:t},(0,n.toDisplayString)(e),1)})),128)),m])]})),default:(0,n.withCtx)((function(t){return[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t.paginatedData,(function(t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t.id},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.fieldsName,(function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("td",{key:r},(0,n.toDisplayString)(t[e]),1)})),128)),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(r){return e.$emit("editRecord",t)},title:"Редагувати інформацію"},u,8,s)])])})),128))]})),_:1},8,["dataTable"])])])}],["__scopeId","data-v-03a25192"]])},5983:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(8222),o={class:"row"},a={class:"col-md-8 col-lg-6 mx-auto"};var i=r(894),l=r(4322),c=r(577),d=r(4302);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f={name:"SettlementTypesMain",mixins:[l.Z],components:{SystemDictionaryForm:c.Z,SystemDictionaryTable:d.Z},data:function(){return{formId:"SettlementTypeForm",modalTitleCreate:"Новий тип населеного пункту",modalTitleUpdate:"Редагування типу"}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,i.Se)("SettlementTypes",["settlementTypes"]))};const p=(0,r(3744).Z)(f,[["render",function(e,t,r,i,l,c){var d=(0,n.resolveComponent)("breadcrumbs"),m=(0,n.resolveComponent)("SystemDictionaryTable"),s=(0,n.resolveComponent)("SystemDictionaryForm");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(d),(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",a,[(0,n.createVNode)(m,{dataTable:e.settlementTypes,title:"Довідник 'Тип населеного пункту'",onNewRecord:e.openFormForAdd,onEditRecord:e.openFormForEdit},null,8,["dataTable","onNewRecord","onEditRecord"])])]),(0,n.createVNode)(s,{formData:e.formData,action:e.action,formId:l.formId,fieldId:"settlementTypeName",url:"/api/v1/settlement-types",onRefreshData:t[0]||(t[0]=function(t){return e.$store.dispatch("SettlementTypes/fetchRecords")})},null,8,["formData","action","formId"])],64)}]])}}]);