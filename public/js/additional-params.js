"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[123],{6287:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(3645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,"tr[data-v-4cf46395]{vertical-align:middle}tr.selected[data-v-4cf46395]{background:hsla(220,4%,85%,.22)}.actions[data-v-4cf46395]{display:flex}.actions>div[data-v-4cf46395]{flex:1 0 0;text-align:center}",""]);const r=o},1126:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(3645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,".category-name[data-v-33274355]{font-size:1rem}",""]);const r=o},6850:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ke});var n=a(8222),o=function(e){return(0,n.pushScopeId)("data-v-4cf46395"),e=e(),(0,n.popScopeId)(),e},r={class:"row"},l={class:"col"},i={class:"card"},c={class:"card-header"},d=o((function(){return(0,n.createElementVNode)("div",{class:"dictionary-name__wrapper"},[(0,n.createElementVNode)("span",null,"Категорії додаткових параметрів")],-1)})),s=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-refresh"},null,-1)}))],m=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-plus-thick"},null,-1)}))],u={class:"card-body"},p={class:"table table-sm table-bordered"},f=o((function(){return(0,n.createElementVNode)("thead",{class:"table-secondary"},[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",null,"Модель"),(0,n.createElementVNode)("th",null,"Назва"),(0,n.createElementVNode)("th")])],-1)})),y=["onClick"],v={class:"text-center"},h=["onClick"],E=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-pencil"},null,-1)}))],g={class:"col"},V={class:"card"},b={class:"card-header"},N={class:"dictionary-name__wrapper"},C=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-refresh"},null,-1)}))],k=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-plus-thick"},null,-1)}))],D={class:"card-body"},_={key:0,class:"table table-sm table-bordered"},B=o((function(){return(0,n.createElementVNode)("thead",{class:"table-secondary"},[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",null,"Код"),(0,n.createElementVNode)("th",null,"Назва"),(0,n.createElementVNode)("th",null,"Значення"),(0,n.createElementVNode)("th",{class:"text-center",title:"Системний параметр або параметр користувача"},"Тип"),(0,n.createElementVNode)("th")])],-1)})),F={class:"text-center"},w={key:0,class:"mdi mdi-cog-outline text-danger",title:"Системний параметр"},S={key:1,class:"mdi mdi-account-outline text-primary",title:"Параментр користувача"},P={class:"actions"},x=["onClick"],T=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-pencil"},null,-1)}))],A=["onClick"],Z=[o((function(){return(0,n.createElementVNode)("span",{class:"mdi mdi-trash-can"},null,-1)}))],I={key:1,class:"text-center text-muted p-3"};var M=a(8877),z={class:"row mb-3"},U={class:"col"},q=(0,n.createElementVNode)("label",{for:"categoryCode",class:"form-label"},"Код",-1),j={id:"categoryCodeValidation",class:"invalid-feedback"},L={class:"row mb-3"},O={class:"col"},R=(0,n.createElementVNode)("label",{for:"categoryName",class:"form-label"},"Назва",-1),$={id:"categoryNameValidation",class:"invalid-feedback"};var G=a(4170),H=a(3753),J=a(2965);const K={name:"AdditionalParamCategoryForm",mixins:[H.Z,J.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/additional-param-categories"}},methods:{clearFormData:function(){this.formData.code="",this.formData.name="",this.errors=[]},closeForm:function(){this.clearFormData()}},components:{ModalForm:G.Z}};var Q=a(3744);const W=(0,Q.Z)(K,[["render",function(e,t,a,o,r,l){var i=(0,n.resolveComponent)("ModalForm");return(0,n.openBlock)(),(0,n.createBlock)(i,{formId:"CategoryForm",onSubmitData:e.submitData,onCloseForm:l.closeForm},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",z,[(0,n.createElementVNode)("div",U,[q,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:(0,n.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"categoryCode","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.code=e})},null,2),[[n.vModelText,a.formData.code]]),(0,n.createElementVNode)("div",j,(0,n.toDisplayString)(e.getError("code")),1)])]),(0,n.createElementVNode)("div",L,[(0,n.createElementVNode)("div",O,[R,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:(0,n.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"categoryName","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.name=e})},null,2),[[n.vModelText,a.formData.name]]),(0,n.createElementVNode)("div",$,(0,n.toDisplayString)(e.getError("name")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var X=function(e){return(0,n.pushScopeId)("data-v-33274355"),e=e(),(0,n.popScopeId)(),e},Y={class:"row mb-3"},ee={class:"col"},te={class:"category-name"},ae={class:"row mb-3"},ne={class:"col"},oe=X((function(){return(0,n.createElementVNode)("label",{for:"paramValueType",class:"form-label"},"Тип значення",-1)})),re=X((function(){return(0,n.createElementVNode)("option",{disabled:"",value:"0"},"Оберіть тип значення",-1)})),le=["value"],ie={id:"paramValueTypeValidation",class:"invalid-feedback"},ce={class:"row mb-3"},de={class:"col"},se=X((function(){return(0,n.createElementVNode)("label",{for:"paramCode",class:"form-label"},"Код",-1)})),me={id:"paramCodeValidation",class:"invalid-feedback"},ue={class:"row mb-3"},pe={class:"col"},fe=X((function(){return(0,n.createElementVNode)("label",{for:"paramName",class:"form-label"},"Назва",-1)})),ye={id:"paramNameValidation",class:"invalid-feedback"};const ve={name:"AdditionalParamForm",mixins:[H.Z,J.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},category:{type:Object,required:!0},valueTypes:{type:Array,required:!0}},data:function(){return{apiUrl:"/api/v1/additional-params"}},methods:{clearFormData:function(){this.formData.code="",this.formData.name="",this.formData.value_type_id=0,this.errors=[]},closeForm:function(){this.clearFormData()}},computed:{readyFodSubmit:function(){return""!==this.formData.name&&""!==this.formData.code}},components:{ModalForm:G.Z}};var he=a(3379),Ee=a.n(he),ge=a(1126),Ve={insert:"head",singleton:!1};Ee()(ge.Z,Ve);ge.Z.locals;const be={name:"AdditionalParams",data:function(){return{categories:[],params:[],valueTypes:[],categoryData:{code:"",name:""},selectedCategory:{},paramData:{category_id:null,code:"",name:"",value_type_id:0},action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,n.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,n.computed)((function(){return e.modalSubmitCaption}))}},methods:{fetchAdditionalParamCategories:function(){var e=this;axios.get("/api/v1/additional-param-categories").then((function(t){e.categories=t.data.data}))},fetchAdditionalParams:function(e){var t=this;axios.get("/api/v1/additional-params?category_id=".concat(e)).then((function(e){t.params=e.data.data}))},fetchAdditionalParamValueTypes:function(){var e=this;axios.get("/api/v1/additional-param-value-types").then((function(t){e.valueTypes=t.data.data}))},getCategoryParams:function(e){this.selectedCategory=e,this.paramData.category_id=e.id,this.fetchAdditionalParams(e.id)},newCategory:function(){this.modalTitle="Нова категорія",this.modalSubmitCaption="Додати",this.action="create",new M.u_(document.getElementById("CategoryForm")).show()},newParam:function(){this.modalTitle="Новий параметр",this.modalSubmitCaption="Додати",this.action="create",this.paramData.category_id=this.selectedCategory.id,new M.u_(document.getElementById("ParamForm")).show()},editCategory:function(e){this.modalTitle="Редагування категорії",this.modalSubmitCaption="Зберегти",this.action="update",this.categoryData.id=e.id,this.categoryData.code=e.code,this.categoryData.name=e.name,new M.u_(document.getElementById("CategoryForm")).show()},editParam:function(e){this.modalTitle="Редагування параметру",this.modalSubmitCaption="Зберегти",this.action="update",this.paramData.id=e.id,this.paramData.category_id=e.category_id,this.paramData.code=e.code,this.paramData.name=e.name,this.paramData.value_type_id=e.value_type_id,new M.u_(document.getElementById("ParamForm")).show()},deleteParam:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити додатковий параметр","Видалення параметру може призвести до неочікуваних результатів в звітах.").then((function(a){a.isConfirmed&&axios.delete("/api/v1/additional-params/".concat(e.id)).then((function(a){t.$toast(a.data.message),t.fetchAdditionalParams(e.category_id)}))}))}},computed:{selectedCategoryName:function(){var e;return null!==(e=this.selectedCategory)&&void 0!==e&&e.name?'. Категорія: "'.concat(this.selectedCategory.name,'"'):""}},components:{CategoryForm:W,ParamForm:(0,Q.Z)(ve,[["render",function(e,t,a,o,r,l){var i=(0,n.resolveComponent)("ModalForm");return(0,n.openBlock)(),(0,n.createBlock)(i,{formId:"ParamForm",onSubmitData:e.submitData,onCloseForm:l.closeForm,sumbitIsDisabled:!l.readyFodSubmit},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",Y,[(0,n.createElementVNode)("div",ee,[(0,n.createElementVNode)("span",te,"Категорія: "+(0,n.toDisplayString)(a.category.name),1)])]),(0,n.createElementVNode)("div",ae,[(0,n.createElementVNode)("div",ne,[oe,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:(0,n.normalizeClass)(["form-control",e.hasError("value_type_id")?"is-invalid":""]),id:"paramValueType","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.value_type_id=e})},[re,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.valueTypes,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.id,key:e.id},(0,n.toDisplayString)(e.description),9,le)})),128))],2),[[n.vModelSelect,a.formData.value_type_id]]),(0,n.createElementVNode)("div",ie,(0,n.toDisplayString)(e.getError("value_type_id")),1)])]),(0,n.createElementVNode)("div",ce,[(0,n.createElementVNode)("div",de,[se,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:(0,n.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"paramCode","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.code=e})},null,2),[[n.vModelText,a.formData.code]]),(0,n.createElementVNode)("div",me,(0,n.toDisplayString)(e.getError("code")),1)])]),(0,n.createElementVNode)("div",ue,[(0,n.createElementVNode)("div",pe,[fe,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",class:(0,n.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"paramName","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.name=e})},null,2),[[n.vModelText,a.formData.name]]),(0,n.createElementVNode)("div",ye,(0,n.toDisplayString)(e.getError("name")),1)])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}],["__scopeId","data-v-33274355"]])},created:function(){this.fetchAdditionalParamCategories(),this.fetchAdditionalParamValueTypes()}};var Ne=a(6287),Ce={insert:"head",singleton:!1};Ee()(Ne.Z,Ce);Ne.Z.locals;const ke=(0,Q.Z)(be,[["render",function(e,t,a,o,M,z){var U=(0,n.resolveComponent)("breadcrumbs"),q=(0,n.resolveComponent)("CategoryForm"),j=(0,n.resolveComponent)("ParamForm");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(U),(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",c,[d,(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent me-2",onClick:t[0]||(t[0]=function(){return z.fetchAdditionalParamCategories&&z.fetchAdditionalParamCategories.apply(z,arguments)}),title:"Оновити дані"},s),(0,n.createElementVNode)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[1]||(t[1]=function(){return z.newCategory&&z.newCategory.apply(z,arguments)}),title:"Додати категорію"},m)])]),(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("table",p,[f,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(M.categories,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id,class:(0,n.normalizeClass)({selected:M.selectedCategory.id==e.id})},[(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{onClick:function(t){return z.getCategoryParams(e)},style:{cursor:"pointer"}},(0,n.toDisplayString)(e.code),9,y)]),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("td",v,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-outline-warning btn-transparent",title:"Редагувати категорію",onClick:function(t){return z.editCategory(e)}},E,8,h)])],2)})),128))])])])])]),(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("span",null,"Додаткові параметри"+(0,n.toDisplayString)(z.selectedCategoryName),1)]),(0,n.createElementVNode)("div",null,[""!==z.selectedCategoryName?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn btn-sm btn-outline-secondary btn-transparent me-2",onClick:t[2]||(t[2]=function(e){return z.fetchAdditionalParams(M.selectedCategory.id)}),title:"Оновити дані"},C)):(0,n.createCommentVNode)("",!0),""!==z.selectedCategoryName?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[3]||(t[3]=function(){return z.newParam&&z.newParam.apply(z,arguments)}),title:"Додати параметр"},k)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",D,[M.params.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("table",_,[B,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(M.params,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id},[(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.code),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.value_type.name),1),(0,n.createElementVNode)("td",F,[e.is_system?((0,n.openBlock)(),(0,n.createElementBlock)("span",w)):((0,n.openBlock)(),(0,n.createElementBlock)("span",S))]),(0,n.createElementVNode)("td",P,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-outline-warning btn-transparent",title:"Редагувати параметр",onClick:function(t){return z.editParam(e)}},T,8,x)]),(0,n.createElementVNode)("div",null,[e.is_system?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn btn-sm btn-outline-danger btn-transparent",title:"Видалити параметр",onClick:function(t){return z.deleteParam(e)}},Z,8,A))])])])})),128))])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",I,[M.selectedCategory.id?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)(" Параметри в даній категорії відсутні ")],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)(" Оберіть категорію для відображення параметрів ")],64))]))])])])]),(0,n.createVNode)(q,{formData:M.categoryData,action:M.action,onRefreshData:z.fetchAdditionalParamCategories},null,8,["formData","action","onRefreshData"]),(0,n.createVNode)(j,{formData:M.paramData,category:M.selectedCategory,action:M.action,valueTypes:M.valueTypes,onRefreshData:t[4]||(t[4]=function(e){return z.fetchAdditionalParams(M.paramData.category_id)})},null,8,["formData","category","action","valueTypes"])],64)}],["__scopeId","data-v-4cf46395"]])}}]);