"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[37],{7954:(e,t,a)=>{a.d(t,{Z:()=>r});const r={methods:{formatedDate:function(e){return new Date(e).toISOString().slice(0,10).split("-").reverse().join(".")}}}},3425:(e,t,a)=>{a.d(t,{Z:()=>r});const r={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,a=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(a=a.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),a.forEach((function(e){var a="formData.".concat(e);t.$watch(a,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},7781:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(8877);const n={methods:{newYearData:function(e){this.modalTitle="Додати дані",this.modalSubmitCaption="Додати",this.action="create",this.yearData.household_id=this.household_id;var t=new r.u_(document.getElementById(this.yearFormId));e.ctrlKey&&(this.years.length>0&&(this.yearData=Object.assign({},this.years[this.years.length-1]),this.yearData.year=parseInt(this.yearData.year)+1),this.modalTitle="Додати дані на <b>".concat(this.yearData.year,"</b> рік")),t.show()},deleteYear:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити дані за ".concat(e.year," рік")).then((function(a){a.isConfirmed&&axios.delete("".concat(t.apiUrl,"/").concat(e.id)).then((function(e){t.$store.dispatch("Households/fetchRecord",t.household_id),t.$toast(e.data.message)})).catch((function(e){t.$errorMessage("Неможливо видалити дані",e.response.data.message,"Зрозуміло")}))}))},editYear:function(e){Object.assign(this.yearData,e),this.modalSubmitCaption="Зберегти",this.modalTitle="Редагувати дані за ".concat(e.year," рік"),this.action="update",new r.u_(document.getElementById(this.yearFormId)).show()}}}},6487:(e,t,a)=>{a.d(t,{Z:()=>r});const r={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors}))}}}},5481:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"label[data-v-90e814da]{align-items:center;display:flex}div.toggler-wrapper[data-v-90e814da]{-webkit-appearance:none;background-color:#f8f9fa;border-radius:.375rem;box-shadow:inset 0 0 5px rgba(0,0,0,.2);height:42px;outline:none;position:relative;transition:.5s;width:84px}div.toggler-wrapper.isChecked[data-v-90e814da]{background:#03a9f4}div.toggler[data-v-90e814da]{background-blend-mode:luminosity;background-color:#fff;background-image:var(--image-url);background-position:50%;background-repeat:no-repeat;background-size:32px 32px;border-radius:.375rem;box-shadow:0 0 4px 2px rgba(0,0,0,.2);height:42px;left:0;position:absolute;top:0;transform:scale(1.1);transition:.5s;width:42px}div.toggler.isChecked[data-v-90e814da]{background-blend-mode:normal;left:42px}span[data-v-90e814da]{padding-left:.5rem}",""]);const o=n},4901:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".per-page[data-v-8188d1a4],.search[data-v-8188d1a4]{border:1px solid #ced4da;border-radius:.25rem;color:#495057;font-size:.9rem;font-weight:400;line-height:1.6}.per-page[data-v-8188d1a4]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0 0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") right .75rem center/8px 10px no-repeat;padding:.3rem 1.5rem .3rem .5rem;vertical-align:middle}.search__wrapper label[data-v-8188d1a4]{margin-right:.5rem}.search__wrapper .search[data-v-8188d1a4]{background-clip:padding-box;background-color:#fff;display:inline-block;height:calc(1.6em + .75rem);padding:.375rem .75rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:200px}.per-page[data-v-8188d1a4]:focus,.search[data-v-8188d1a4]:focus{border-color:#7db8fb;box-shadow:0 0 0 .2rem rgba(7,117,242,.25);outline:0}.per-page__wrapper span[data-v-8188d1a4]{margin-right:.5rem}tbody tr[data-v-8188d1a4]:last-of-type{border-bottom:2px solid #343a40}",""]);const o=n},3944:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"tr td[data-v-30004396]:not(:first-child),tr th[data-v-30004396]:not(:first-child){text-align:center}td.table-cell-bordered[data-v-30004396]{border-left:1px solid #dee2e6;border-right:1px solid #dee2e6}",""]);const o=n},7214:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"#houseInfo tr td[data-v-3e323981]:last-of-type{text-align:center}",""]);const o=n},9050:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".address-label[data-v-1131c944]{color:rgba(33,37,41,.631);font-size:.8rem}",""]);const o=n},721:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".household-address span[data-v-3410cef9]:last-of-type{color:var(--bs-gray-500)}.household-address span[data-v-3410cef9]:last-of-type:hover{color:var(--bs-card-color)}.owner-wrapper[data-v-3410cef9]{border:1px dashed transparent;border-radius:5px;transition:all .3s ease}.owner-wrapper>div[data-v-3410cef9]:not(:last-of-type){border-bottom:1px dashed #e7e7e7;margin-bottom:.5rem;padding-bottom:.5rem}.owner-wrapper.drop-zone[data-v-3410cef9]{background:repeating-linear-gradient(-45deg,transparent 0 4px,#e7e7e7 4px 6px);border-color:#adb5bd;border-width:1px}@media (min-width:1200px){.household-head[data-v-3410cef9]{height:39px}}.fs-08[data-v-3410cef9]{font-size:.8rem}",""]);const o=n},7692:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".settlement[data-v-5db6b380]{border:1px solid #eee;border-radius:.2rem;display:flex;flex-direction:column;padding:.5rem 1rem}.settlement .settlement-name[data-v-5db6b380]{font-size:1.1rem}.settlement .cards-count[data-v-5db6b380]{color:var(--bs-gray-600);text-align:end}",""]);const o=n},2985:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"table tr td[data-v-8fe47afa]:first-child,table tr td[data-v-8fe47afa]:last-child,table tr th[data-v-8fe47afa]:first-child,table tr th[data-v-8fe47afa]:last-child{text-align:center}",""]);const o=n},8096:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".tab-content[data-v-489c0c69]{min-height:530px}",""]);const o=n},7461:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,'.member[data-v-28ee71b0]{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;width:200px}.member[data-v-28ee71b0]:active,.member[data-v-28ee71b0]:hover{-webkit-font-smoothing:subpixel-antialiased;box-shadow:0 0 2px 3px #e7e7e7;transition:all .3s ease}.member-surname[data-v-28ee71b0]{font-size:1.1rem;font-weight:700}.member .family-relationship[data-v-28ee71b0]{height:2rem}.member.dead[data-v-28ee71b0]{background:#d3d3d3}.member.gone[data-v-28ee71b0]{border-color:red}.new-member[data-v-28ee71b0]{margin-left:1rem}.new-member[data-v-28ee71b0],.new-member div[data-v-28ee71b0]{align-items:center;display:flex}.new-member div[data-v-28ee71b0]{border:2px solid #e7e7e7;border-radius:999px;height:72px;justify-content:center;transition:all .3s ease;width:72px}.new-member div span[data-v-28ee71b0]{color:#6c757d}.new-member div[data-v-28ee71b0]:hover{border-color:var(--bs-primary);transform:scale(1.1)}.new-member div:hover span[data-v-28ee71b0]{color:var(--bs-primary)}#members[data-v-28ee71b0]:-webkit-full-screen{padding:2rem}#members[data-v-28ee71b0]:fullscreen{padding:2rem}#members:-webkit-full-screen button#newMember[data-v-28ee71b0]{display:none}#members:fullscreen button#newMember[data-v-28ee71b0]{display:none}[data-v-28ee71b0]:not(:root):-webkit-full-screen::backdrop{background:#f8fafc;padding:2rem}[data-v-28ee71b0]:not(:root):fullscreen::backdrop{background:#f8fafc;padding:2rem}.dropdown-menu .select-year[data-v-28ee71b0]{background:#f8fafc;border-color:#f8fafc;border-radius:.175rem;color:#555;cursor:pointer;padding:0 .75rem 0 .25rem;text-indent:1px;text-overflow:""}.dropdown-menu .select-year[data-v-28ee71b0]:focus-visible{outline:none}',""]);const o=n},8050:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".member-name__horizontal[data-v-da3ae8d4]{display:flex;flex-direction:column}.member-name__horizontal span[data-v-da3ae8d4]:not(:first-of-type){font-size:.8rem}.brick[data-v-da3ae8d4]{background:#e7e7e7}",""]);const o=n},3746:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".card-header h5[data-v-48e6353b]{margin:1px 0}a.router-link-exact-active[data-v-48e6353b]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}.household-card-number[data-v-48e6353b]{font-weight:600;margin-left:.5rem}.dropdown-menu .dropdown-item[data-v-48e6353b]:hover{background-color:var(--bs-secondary-bg)}",""]);const o=n},3941:(e,t,a)=>{a.d(t,{Z:()=>C});var r=a(8222),n=function(e){return(0,r.dD)("data-v-8188d1a4"),e=e(),(0,r.Cn)(),e},o={class:"data-table--wrapper"},i={key:0,class:"data-table_ d-flex justify-content-between pb-2"},l={class:"per-page__wrapper"},s=n((function(){return(0,r._)("span",null,"Відображати",-1)})),d=["disabled"],u=["value"],c={class:"search__wrapper"},m=n((function(){return(0,r._)("label",{for:"search"},"Поіск",-1)})),f={class:"table__wrapper"},p={class:"table-responsive"},h={key:1,class:"data-table__pagination--wrapper d-flex justify-content-between align-items-center py-2"},b={"aria-label":"Page navigation example"},_={class:"pagination mb-0"},y=["onClick"];const v={name:"DataTable",props:{perPageItems:{type:Array,required:!1,default:function(){return[10,20,50]}},dataTable:{type:Array},tableHeaderClass:{type:String,required:!1},tableClass:{type:String,required:!1},searchable:{type:String,required:!1,default:""},showActionsPanel:{type:Boolean,required:!1,default:function(){return!0}},showPaginationPanel:{type:Boolean,required:!1,default:function(){return!0}}},data:function(){return{currentPage:1,perPage:this.perPageItems[0],searchData:""}},methods:{changePerPage:function(e){this.perPage=parseInt(e),this.currentPage=1},nextPage:function(){this.currentPage++},prevPage:function(){this.currentPage--},changePage:function(e){this.currentPage=e}},computed:{pagesCount:function(){return""==this.searchData?Math.ceil(this.dataTable.length/this.perPage):Math.ceil(this.paginatedData.length/this.perPage)},paginatedData:function(){var e=(this.currentPage-1)*this.perPage,t=e+this.perPage;return this.dataTable.slice(e,t)},shownFrom:function(){return(this.currentPage-1)*this.perPage},shownTo:function(){var e=this.shownFrom+this.perPage;return e<this.dataTable.length?e:this.dataTable.length},isLastPage:function(){return this.currentPage==this.pagesCount},isFirstPage:function(){return 1==this.currentPage}}};var w=a(3379),g=a.n(w),D=a(4901),k={insert:"head",singleton:!1};g()(D.Z,k);D.Z.locals;const C=(0,a(3744).Z)(v,[["render",function(e,t,a,n,v,w){return(0,r.wg)(),(0,r.iD)("div",o,[a.showActionsPanel?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",l,[s,(0,r._)("select",{name:"per_Page",id:"per_page",class:"per-page",disabled:0==w.paginatedData.length,onChange:t[0]||(t[0]=function(e){return w.changePerPage(e.target.value)})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.perPageItems,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,r.zw)(e),9,u)})),128))],40,d)]),(0,r._)("div",c,[m,(0,r._)("input",{type:"search",name:"search",id:"search",class:"search",autocomplete:"off",onInput:t[1]||(t[1]=function(t){return e.$emit("searchInput",t.target.value)})},null,32)])])):(0,r.kq)("",!0),(0,r._)("div",f,[(0,r._)("div",p,[(0,r._)("table",{class:(0,r.C_)(["table table-striped",a.tableClass])},[(0,r._)("thead",{class:(0,r.C_)(a.tableHeaderClass)},[(0,r.WI)(e.$slots,"header",{},void 0,!0)],2),(0,r._)("tbody",null,[(0,r.WI)(e.$slots,"default",{paginatedData:w.paginatedData},void 0,!0)]),(0,r._)("tfoot",null,[(0,r.WI)(e.$slots,"footer",{},void 0,!0)])],2)])]),w.paginatedData.length>0&&a.showPaginationPanel?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",null,"Відображено з "+(0,r.zw)(w.shownFrom+1)+" по "+(0,r.zw)(w.shownTo)+" із "+(0,r.zw)(a.dataTable.length),1),(0,r._)("nav",b,[(0,r._)("ul",_,[(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:w.isFirstPage}])},[(0,r._)("a",{class:"page-link",onClick:t[2]||(t[2]=function(){return w.prevPage&&w.prevPage.apply(w,arguments)})},"Previous")],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.pagesCount,(function(e){return(0,r.wg)(),(0,r.iD)("li",{class:(0,r.C_)(["page-item",[v.currentPage==e?"active":""]]),key:e},[(0,r._)("a",{class:"page-link",onClick:function(t){return w.changePage(e)}},(0,r.zw)(e),9,y)],2)})),128)),(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:w.isLastPage}])},[(0,r._)("a",{class:"page-link",onClick:t[3]||(t[3]=function(){return w.nextPage&&w.nextPage.apply(w,arguments)})},"Next")],2)])])])):(0,r.kq)("",!0)])}],["__scopeId","data-v-8188d1a4"]])},8476:(e,t,a)=>{a.d(t,{Z:()=>m});var r=a(8222),n=["id"],o={class:"modal-header"},i={class:"d-flex align-items-center"},l=["innerHTML"],s={class:"modal-body"},d={key:0,class:"modal-footer justify-content-between"},u=["disabled"];const c={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const m=(0,a(3744).Z)(c,[["render",function(e,t,a,c,m,f){return(0,r.wg)(),(0,r.iD)("div",{class:"modal fade",id:a.formId,tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,r._)("div",{class:(0,r.C_)(["modal-dialog",a.modalClass])},[(0,r._)("div",{class:(0,r.C_)(["modal-content",a.modalContentClass])},[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",innerHTML:f.modalFormTitle},null,8,l),(0,r.WI)(e.$slots,"modalHeader")]),(0,r._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,r._)("div",s,[(0,r.WI)(e.$slots,"default")]),a.showFooter?((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",null,[(0,r.WI)(e.$slots,"footer")]),(0,r._)("div",null,[(0,r._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})},"Відмінити"),(0,r._)("button",{type:"button",class:"btn btn-primary ms-4",onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:a.sumbitIsDisabled},(0,r.zw)(f.modalFormSubmitCaption),9,u)])])):(0,r.kq)("",!0)],2)],2)],8,n)}]])},9499:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(8222),n=["innerHTML"];const o={name:"TableRow",props:{rowTitle:{type:String,required:!0},rowTitleClass:{type:String,required:!1,default:""},field:{type:String,required:!0},fieldValue:{type:Boolean,required:!1,default:function(){return!1}},years:{type:Array,required:!0}},data:function(){return{}}};var i=a(3379),l=a.n(i),s=a(3944),d={insert:"head",singleton:!1};l()(s.Z,d);s.Z.locals;const u=(0,a(3744).Z)(o,[["render",function(e,t,a,o,i,l){return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",{class:(0,r.C_)(a.rowTitleClass),innerHTML:a.rowTitle},null,10,n),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.years,(function(e){return(0,r.wg)(),(0,r.iD)("td",{key:e.year+"-"+e[a.field],class:"table-cell-bordered"},[a.fieldValue?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[e[a.field]?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)(" так ")],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)(" ні ")],64))],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)((0,r.zw)(e[a.field]),1)],64))])})),128))])}],["__scopeId","data-v-30004396"]])},1080:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Be});var r=a(8222),n=function(e){return(0,r.dD)("data-v-3e323981"),e=e(),(0,r.Cn)(),e},o={class:"pt-4"},i={class:"row"},l={class:"col-md-9"},s={class:"table table-sm table-bordered table-years"},d=n((function(){return(0,r._)("span",{class:"mdi mdi-plus-thick"},null,-1)})),u={class:"dropdown"},c=n((function(){return(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Операції з даними за рік"},[(0,r._)("span",{class:"mdi mdi-cog"})],-1)})),m={class:"dropdown-menu dropdown-menu-end"},f=["onClick"],p=n((function(){return(0,r._)("span",{class:"mdi mdi-pencil text-warning me-2"},null,-1)})),h=n((function(){return(0,r._)("li",null,[(0,r._)("hr",{class:"dropdown-divider"})],-1)})),b=["onClick"],_=n((function(){return(0,r._)("span",{class:"mdi mdi-trash-can text-danger me-2"},null,-1)})),y={class:"table-group-divider"},v=["colspan"],w=[n((function(){return(0,r._)("b",null,"Наявність",-1)})),n((function(){return(0,r._)("i",null,'(проставляється "так" або "ні")',-1)}))],g={class:"col-md-3"},D={class:"card rounded-0 mb-4"},k={class:"card-header thin-header align-items-center"},C=n((function(){return(0,r._)("h6",null,"Інформація по будинку",-1)})),F=[n((function(){return(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)}))],x={class:"card-body"},S={class:"table table-bordered table-sm mb-0",id:"houseInfo"},O={key:0},E=n((function(){return(0,r._)("td",null,"Рік побудови",-1)})),P={key:0},j={key:1,style:{color:"var(--bs-gray-600)"}},I=n((function(){return(0,r._)("td",null,"Матеріал стін",-1)})),M={key:0},T={key:1,style:{color:"var(--bs-gray-600)"}},H=n((function(){return(0,r._)("td",null,"Матеріал даху",-1)})),V={key:0},U={key:1,style:{color:"var(--bs-gray-600)"}},z={class:"card rounded-0"},Z={class:"card-header thin-header align-items-center"},Y=n((function(){return(0,r._)("h6",null,"Додаткова інформація",-1)})),A=[n((function(){return(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)}))],q={key:0,class:"card-body"},R={key:1,class:"text-center",style:{color:"var(--bs-gray-600)"}};var $=a(3907),W=a(8877),L={class:"mb-1 row"},N=(0,r._)("label",{for:"year",class:"col-sm-9 col-form-label"},"Рік",-1),B={id:"yearValidation",class:"invalid-feedback"},K={class:"mb-1 row"},J=(0,r._)("label",{for:"totalArea",class:"col-sm-9 col-form-label"},[(0,r.Uk)("Загальна площа житлового будинку/квартири, м"),(0,r._)("sup",null,"2")],-1),G={id:"totalAreaValidation",class:"invalid-feedback"},Q={class:"mb-1 row"},X=(0,r._)("label",{for:"totalLivingArea",class:"col-sm-9 col-form-label"},[(0,r.Uk)("Загальна площа житлових приміщень, м"),(0,r._)("sup",null,"2")],-1),ee={id:"totalLivingAreaValidation",class:"invalid-feedback"},te={class:"mb-1 row"},ae=(0,r._)("label",{for:"livingArea",class:"col-sm-9 col-form-label"},[(0,r.Uk)("з неї житлова площа, м"),(0,r._)("sup",null,"2")],-1),re={id:"livingAreaValidation",class:"invalid-feedback"},ne={class:"mb-1 row"},oe=(0,r._)("label",{for:"roomCount",class:"col-sm-9 col-form-label"},"Кількість житлових кімнат",-1),ie={id:"roomCountValidation",class:"invalid-feedback"},le={class:"mb-2 row"},se=(0,r._)("label",{for:"totalNonLivingArea",class:"col-sm-9 col-form-label"},[(0,r.Uk)("Загальна площа нежитлових будівель, м"),(0,r._)("sup",null,"2")],-1),de={id:"totalNonLivingAreaValidation",class:"invalid-feedback"},ue={class:"p-2"},ce={class:"d-flex justify-content-between mb-3"},me={class:"d-flex justify-content-between mb-3"},fe={class:"d-flex justify-content-between"};var pe=["title"];const he={name:"Checkbox",props:{id:{type:String,required:!0},title:{type:String,required:!1,default:""},image:{type:String},modelValue:{type:Boolean,default:!1}},data:function(){return{}},computed:{cssStyles:function(){return{"--image-url":"url("+this.image+")"}}}};var be=a(3379),_e=a.n(be),ye=a(5481),ve={insert:"head",singleton:!1};_e()(ye.Z,ve);ye.Z.locals;var we=a(3744);const ge=(0,we.Z)(he,[["render",function(e,t,a,n,o,i){var l=this;return(0,r.wg)(),(0,r.iD)("div",{class:(0,r.C_)(["toggler-wrapper",{isChecked:a.modelValue}]),style:(0,r.j5)(i.cssStyles),onClick:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",!l.modelValue)}),title:a.title},[(0,r._)("div",{class:(0,r.C_)(["toggler",{isChecked:a.modelValue}])},null,2)],14,pe)}],["__scopeId","data-v-90e814da"]]);var De=a(8476),ke=a(3425),Ce=a(6487);const Fe={name:"HouseholdHouseYearForm",mixins:[ke.Z,Ce.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{apiUrl:"/api/v1/household-houses"}},methods:{clearFormData:function(){this.formData.year=(new Date).getFullYear(),this.formData.total_area=0,this.formData.total_living_area=0,this.formData.living_area=0,this.formData.room_count=0,this.formData.total_non_living_area=0,this.formData.water_supply=!1,this.formData.hot_water_supply=!1,this.formData.sewage=!1,this.formData.central_heating=!1,this.formData.individual_heating=!1,this.formData.furnace_heating=!1,this.formData.natural_gas=!1,this.formData.liquefied_gas=!1,this.formData.electric_stove=!1,this.errors=[]}},components:{ModalForm:De.Z,Checkbox:ge}},xe=(0,we.Z)(Fe,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("Checkbox"),s=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(s,{formId:"HouseInfoModalForm",onSubmitData:e.submitData,onCloseForm:i.clearFormData},{default:(0,r.w5)((function(){return[(0,r._)("div",L,[N,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("year")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("year")?"is-invalid":""]),id:"year","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.year=e})},null,2),[[r.nr,a.formData.year]])],2),(0,r._)("div",B,(0,r.zw)(e.getError("year")),1)]),(0,r._)("div",K,[J,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("total_area")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("total_area")?"is-invalid":""]),id:"totalArea","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.total_area=e})},null,2),[[r.nr,a.formData.total_area]])],2),(0,r._)("div",G,(0,r.zw)(e.getError("total_area")),1)]),(0,r._)("div",Q,[X,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("total_living_area")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("total_living_area")?"is-invalid":""]),id:"totalLivingArea","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.total_living_area=e})},null,2),[[r.nr,a.formData.total_living_area]])],2),(0,r._)("div",ee,(0,r.zw)(e.getError("total_living_area")),1)]),(0,r._)("div",te,[ae,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("living_area")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("living_area")?"is-invalid":""]),id:"livingArea","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.living_area=e})},null,2),[[r.nr,a.formData.living_area]])],2),(0,r._)("div",re,(0,r.zw)(e.getError("living_area")),1)]),(0,r._)("div",ne,[oe,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("room_count")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("room_count")?"is-invalid":""]),id:"roomCount","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.room_count=e})},null,2),[[r.nr,a.formData.room_count]])],2),(0,r._)("div",ie,(0,r.zw)(e.getError("room_count")),1)]),(0,r._)("div",le,[se,(0,r._)("div",{class:(0,r.C_)(["col-sm-3",e.hasError("total_non_living_area")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("total_non_living_area")?"is-invalid":""]),id:"totalNonLivingArea","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.total_non_living_area=e})},null,2),[[r.nr,a.formData.total_non_living_area]])],2),(0,r._)("div",de,(0,r.zw)(e.getError("total_non_living_area")),1)]),(0,r._)("div",ue,[(0,r._)("div",ce,[(0,r.Wm)(l,{modelValue:a.formData.water_supply,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.water_supply=e}),id:"waterSupply",image:"/img/water-supply.png",title:"Наявність водопроводу"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.hot_water_supply,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.formData.hot_water_supply=e}),id:"hotWaterSupply",image:"/img/hot-water.png",title:"Наявність гарячого водопостачання"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.sewage,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.formData.sewage=e}),id:"hotWaterSupply",image:"/img/sewage.png",title:"Наявність каналізації"},null,8,["modelValue"])]),(0,r._)("div",me,[(0,r.Wm)(l,{modelValue:a.formData.central_heating,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.formData.central_heating=e}),id:"centralHeating",image:"/img/central-heating.png",title:"Наявність центрального опалення"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.individual_heating,"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.formData.individual_heating=e}),id:"individualHeating",image:"/img/individual-heating.png",title:"Наявність опалення від індивідуальних установок"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.furnace_heating,"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.formData.furnace_heating=e}),id:"furnaceHeating",image:"/img/furnace-heating.png",title:"Наявність пічного опалення"},null,8,["modelValue"])]),(0,r._)("div",fe,[(0,r.Wm)(l,{modelValue:a.formData.natural_gas,"onUpdate:modelValue":t[12]||(t[12]=function(e){return a.formData.natural_gas=e}),id:"naturalGas",image:"/img/natural-gas.png",title:"Наявність природного газу"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.liquefied_gas,"onUpdate:modelValue":t[13]||(t[13]=function(e){return a.formData.liquefied_gas=e}),id:"liquefiedGas",image:"/img/liquefied-gas.png",title:"Наявність скрапленого газу"},null,8,["modelValue"]),(0,r.Wm)(l,{modelValue:a.formData.electric_stove,"onUpdate:modelValue":t[14]||(t[14]=function(e){return a.formData.electric_stove=e}),id:"electricStove",image:"/img/electric-stove.png",title:"Наявність підлоговоії електричної плити"},null,8,["modelValue"])])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Se={class:"row mb-2"},Oe=(0,r._)("label",{for:"yearBuilt",class:"col-md-6 col-form-label"}," Рік побудови ",-1),Ee={class:"col-md-6"},Pe={class:"row mb-2"},je=(0,r._)("label",{for:"materialWalls",class:"col-md-6 col-form-label"}," Матеріал стін ",-1),Ie={class:"col-md-6"},Me={class:"row"},Te=(0,r._)("label",{for:"materialRoof",class:"col-md-6 col-form-label"}," Матеріал кровлі ",-1),He={class:"col-md-6"};const Ve={name:"HouseholdHouseInfoForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},methods:{submitData:function(){var e=this;axios.post("/api/v1/house-additional-information",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshData")}))},closeForm:function(){}},components:{ModalForm:De.Z}},Ue=(0,we.Z)(Ve,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseInfoForm",onSubmitData:i.submitData,onCloseForm:i.closeForm},{default:(0,r.w5)((function(){return[(0,r._)("div",Se,[Oe,(0,r._)("div",Ee,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"yearBuilt",name:"yearBuilt","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.house_year_of_construction=e})},null,512),[[r.nr,a.formData.house_year_of_construction]])])]),(0,r._)("div",Pe,[je,(0,r._)("div",Ie,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"materialWalls",name:"materialWalls","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.house_material_walls=e})},null,512),[[r.nr,a.formData.house_material_walls]])])]),(0,r._)("div",Me,[Te,(0,r._)("div",He,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"materialRoof",name:"materialRoof","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.house_material_roof=e})},null,512),[[r.nr,a.formData.house_material_roof]])])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var ze={class:"mb-3"};const Ze={name:"HouseholdHouseAdditionalDataForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},methods:{submitData:function(){var e=this;axios.post("/api/v1/house-additional-information",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.closeForm()}))},closeForm:function(){}},components:{ModalForm:De.Z}},Ye=(0,we.Z)(Ze,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseAdditionalDataForm",onSubmitData:i.submitData,onCloseForm:i.closeForm},{default:(0,r.w5)((function(){return[(0,r._)("div",ze,[(0,r.wy)((0,r._)("textarea",{class:"form-control",id:"houseAdditionalData",rows:"10","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.house_additional_data=e})},"\n            ",512),[[r.nr,a.formData.house_additional_data]])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Ae=a(9499);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $e(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==qe(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const We={name:"HouseholdHouseYears",mixins:[a(7781).Z],data:function(){return{yearData:{household_id:null,year:(new Date).getFullYear(),total_area:0,total_living_area:0,living_area:0,room_count:0,total_non_living_area:0,water_supply:!1,hot_water_supply:!1,sewage:!1,central_heating:!1,individual_heating:!1,furnace_heating:!1,natural_gas:!1,liquefied_gas:!1,electric_stove:!1},infoData:{household_id:null,house_year_of_construction:"",house_material_walls:"",house_material_roof:""},additionalData:{household_id:null,house_additional_data:""},modalSubmitCaption:"",modalTitle:"",action:"",yearFormId:"HouseInfoModalForm",apiUrl:"/api/v1/household-houses",houseInfoIsEditable:!1}},provide:function(){var e=this;return{modalTitle:(0,r.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.Fl)((function(){return e.modalSubmitCaption}))}},methods:{startHouseInfoEdit:function(){this.houseInfoIsEditable=!0},cancelHouseInfoEdit:function(){this.houseInfoIsEditable=!1},openHouseInfoForm:function(){this.modalTitle="Інформація по будинку",this.modalSubmitCaption="Зберегти",this.infoData.household_id=this.household_id,this.infoData.house_year_of_construction=this.houseInfo("house_year_of_construction"),this.infoData.house_material_walls=this.houseInfo("house_material_walls"),this.infoData.house_material_roof=this.houseInfo("house_material_roof"),new W.u_(document.getElementById("HouseInfoForm")).show()},openHouseAdditionalDataForm:function(){this.modalTitle="Додаткова інформація",this.modalSubmitCaption="Зберегти",this.additionalData.household_id=this.household_id,this.additionalData.house_additional_data=this.houseInfo("house_additional_data"),new W.u_(document.getElementById("HouseAdditionalDataForm")).show()},houseInfo:function(e){var t=this.info.find((function(t){return t.code==e}));return t.value?t.value:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){$e(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,$.Se)("Households",{years:"houseYears",household_id:"household_id",info:"houseInfo"})),components:{TableRow:Ae.Z,HouseYearForm:xe,HouseInfoForm:Ue,HouseAdditionalDataForm:Ye}};var Le=a(7214),Ne={insert:"head",singleton:!1};_e()(Le.Z,Ne);Le.Z.locals;const Be=(0,we.Z)(We,[["render",function(e,t,a,n,$,W){var L=(0,r.up)("TableRow"),N=(0,r.up)("HouseYearForm"),B=(0,r.up)("HouseInfoForm"),K=(0,r.up)("HouseAdditionalDataForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("div",l,[(0,r._)("table",s,[(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[0]||(t[0]=function(t){return e.newYearData(t)})},[d,(0,r.Uk)(" Додати рік ")])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.years,(function(t){return(0,r.wg)(),(0,r.iD)("th",{key:t.year},[(0,r.Uk)((0,r.zw)(t.year)+" ",1),(0,r._)("div",u,[c,(0,r._)("ul",m,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.editYear(t)}},[p,(0,r.Uk)(" Редагувати дані ")],8,f)]),h,(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.deleteYear(t)}},[_,(0,r.Uk)(" Видалити дані ")],8,b)])])])])})),128))])]),(0,r._)("tbody",y,[(0,r.Wm)(L,{years:e.years,field:"total_area",rowTitle:"<b>Загальна площа житлового будинку/квартири, м<sup>2</sup></b>"},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"total_living_area",rowTitle:"Загальна площа житлових приміщень, м<sup>2</sup>"},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"living_area",rowTitle:"з неї житлова площа, м<sup>2</sup>",rowTitleClass:"ps-5"},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"room_count",rowTitle:"Кількість житлових кімнат"},null,8,["years"]),(0,r._)("tr",null,[(0,r._)("td",{colspan:e.years.length+1},w,8,v)]),(0,r.Wm)(L,{years:e.years,field:"water_supply",rowTitle:"водопроводу",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"hot_water_supply",rowTitle:"горячого водопостачання",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"sewage",rowTitle:"каналізації",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"central_heating",rowTitle:"опалення центрального",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"individual_heating",rowTitle:"опалення від індивідуальних установок",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"furnace_heating",rowTitle:"пічного опалення",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"natural_gas",rowTitle:"природного газу",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"liquefied_gas",rowTitle:"скрапленого опалення",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"electric_stove",rowTitle:"підлогової електричної плити",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,r.Wm)(L,{years:e.years,field:"total_non_living_area",rowTitle:"<b>Загальна площа нежитлових будівель, м<sup>2</sup></b>"},null,8,["years"])])])]),(0,r._)("div",g,[(0,r._)("div",D,[(0,r._)("div",k,[C,(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",onClick:t[1]||(t[1]=function(){return W.openHouseInfoForm&&W.openHouseInfoForm.apply(W,arguments)})},F)]),(0,r._)("div",x,[(0,r._)("table",S,[e.info&&e.info.length>0?((0,r.wg)(),(0,r.iD)("tbody",O,[(0,r._)("tr",null,[E,""!==W.houseInfo("house_year_of_construction")?((0,r.wg)(),(0,r.iD)("td",P,(0,r.zw)(W.houseInfo("house_year_of_construction")),1)):((0,r.wg)(),(0,r.iD)("td",j," не вказано "))]),(0,r._)("tr",null,[I,""!==W.houseInfo("house_material_walls")?((0,r.wg)(),(0,r.iD)("td",M,(0,r.zw)(W.houseInfo("house_material_walls")),1)):((0,r.wg)(),(0,r.iD)("td",T," не вказано "))]),(0,r._)("tr",null,[H,""!==W.houseInfo("house_material_roof")?((0,r.wg)(),(0,r.iD)("td",V,(0,r.zw)(W.houseInfo("house_material_roof")),1)):((0,r.wg)(),(0,r.iD)("td",U," не вказано "))])])):(0,r.kq)("",!0)])])]),(0,r._)("div",z,[(0,r._)("div",Z,[Y,(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",onClick:t[2]||(t[2]=function(){return W.openHouseAdditionalDataForm&&W.openHouseAdditionalDataForm.apply(W,arguments)})},A)]),e.info&&e.info.length>0?((0,r.wg)(),(0,r.iD)("div",q,[""!==W.houseInfo("house_additional_data")?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,r.zw)(W.houseInfo("house_additional_data")),1)],64)):((0,r.wg)(),(0,r.iD)("div",R,"інформація відсутня"))])):(0,r.kq)("",!0)])])])]),(0,r.Wm)(N,{formData:$.yearData,action:$.action,onRefreshData:t[3]||(t[3]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData","action"]),(0,r.Wm)(B,{formData:$.infoData,onRefreshData:t[4]||(t[4]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData"]),(0,r.Wm)(K,{formData:$.additionalData,onRefreshData:t[5]||(t[5]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData"])],64)}],["__scopeId","data-v-3e323981"]])},6721:(e,t,a)=>{a.d(t,{Z:()=>te});var r=a(8222),n=function(e){return(0,r.dD)("data-v-1131c944"),e=e(),(0,r.Cn)(),e},o={class:"row mb-3"},i={class:"col-md-9"},l=n((function(){return(0,r._)("label",{for:"householdSettlement",class:"form-label"}," Населений пункт ",-1)})),s=["disabled"],d=n((function(){return(0,r._)("option",{disabled:"",value:"0"},"Оберить населений пункт",-1)})),u=["value"],c={id:"householdTypeValidation",class:"invalid-feedback"},m={class:"col-md-3"},f=n((function(){return(0,r._)("label",{for:"householdNumber",class:"form-label"},"Номер об'єкта",-1)})),p={id:"householdNumberValidation",class:"invalid-feedback"},h={class:"row mb-3"},b={class:"col"},_=n((function(){return(0,r._)("label",{for:"householdType",class:"form-label"}," Тип об'єкта погосподарського обліку ",-1)})),y=n((function(){return(0,r._)("option",{disabled:"",value:"0"},"Оберить тип об'єкта",-1)})),v=["value"],w={id:"householdTypeValidation",class:"invalid-feedback"},g=n((function(){return(0,r._)("div",{class:"row"},[(0,r._)("label",{for:"householdAddress",class:"form-label"}," Місцезнаходження / адреса ")],-1)})),D={class:"row mb-3"},k={class:"col-md-2"},C=n((function(){return(0,r._)("label",{for:"streetType",class:"form-label address-label"}," тип вулиці ",-1)})),F=[n((function(){return(0,r._)("option",{value:"вул."},"вулиця",-1)})),n((function(){return(0,r._)("option",{value:"пр."},"проспект",-1)})),n((function(){return(0,r._)("option",{value:"пров."},"провулок",-1)})),n((function(){return(0,r._)("option",{value:"пл."},"площа",-1)}))],x={class:"col-md-4"},S=n((function(){return(0,r._)("label",{for:"streetName",class:"form-label address-label"},"вулиця",-1)})),O={class:"col-md-2"},E=n((function(){return(0,r._)("label",{for:"houseNumber",class:"form-label address-label"},"будинок",-1)})),P={class:"col-md-2"},j=n((function(){return(0,r._)("label",{for:"corpsNumber",class:"form-label address-label"},"корпус",-1)})),I={class:"col-md-2"},M=n((function(){return(0,r._)("label",{for:"apartmentNumber",class:"form-label address-label"},"квартира",-1)})),T={class:"row mb-3"},H={class:"col"},V=n((function(){return(0,r._)("label",{for:"householdSpecialMarks",class:"form-label"},"Спеціальні відмітки",-1)})),U={id:"householdSpecialMarksValidation",class:"invalid-feedback"},z={class:"row mb-3"},Z={class:"col"},Y=n((function(){return(0,r._)("label",{for:"householdAdditionalData",class:"form-label"},"Додаткові відомості",-1)})),A={id:"householdAdditionalDataValidation",class:"invalid-feedback"};var q=a(3907),R=a(3425),$=a(6487),W=a(8476);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){K(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function K(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const J={name:"HouseholdForm",mixins:[R.Z,$.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{apiUrl:"/api/v1/households",excludeFiledsFromCreateWatch:["address_street_type","address_street_name","address_house","address_corps","address_apartment"]}},methods:{clearFormData:function(){this.formData.settlement_id=0,this.formData.number="",this.formData.household_type_id=0,this.formData.address_street_type="",this.formData.address_street_name="",this.formData.address_house="",this.formData.address_corps="",this.formData.address_apartment="",this.formData.address="",this.formData.special_marks="",this.formData.additional_data="",this.errors=[]},saveData:function(){if(""!=this.formData.address_street_type&&""!=this.formData.address_street_name&&""!=this.formData.address_house){var e="";e=(e=(e=(e=this.formData.address_street_type+",")+this.formData.address_street_name+",")+this.formData.address_house+",")+this.formData.address_corps+",",e+=this.formData.address_apartment,this.formData.address=e,this.submitData()}}},computed:B(B(B({},(0,q.Se)("Settlements",["settlements"])),(0,q.Se)("HouseholdTypes",["householdTypes"])),{},{addressIsFilled:function(){return""!==this.formData.address_street_type&&""!==this.formData.address_street_name&&this.formData.address_house}}),created:function(){var e=this;this.excludeFiledsFromCreateWatch.forEach((function(t){var a="formData.".concat(t);e.$watch(a,(function(){this.errors.address&&delete this.errors.address}))}))},components:{ModalForm:W.Z}};var G=a(3379),Q=a.n(G),X=a(9050),ee={insert:"head",singleton:!1};Q()(X.Z,ee);X.Z.locals;const te=(0,a(3744).Z)(J,[["render",function(e,t,a,n,q,R){var $=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)($,{formId:"HouseholdForm",onSubmitData:R.saveData,onCloseForm:R.clearFormData,modalClass:"modal-lg",sumbitIsDisabled:!R.addressIsFilled},{default:(0,r.w5)((function(){return[(0,r._)("div",o,[(0,r._)("div",i,[l,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("settlement_id")?"is-invalid":""]),id:"householdSettlement","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.settlement_id=e}),disabled:a.disabledFields.includes("settlement_id")},[d,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.settlements,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,u)})),128))],10,s),[[r.bM,a.formData.settlement_id]]),(0,r._)("div",c,(0,r.zw)(e.getError("settlement_id")),1)]),(0,r._)("div",m,[f,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("number")?"is-invalid":""]),id:"householdNumber","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.number=e})},null,2),[[r.nr,a.formData.number]]),(0,r._)("div",p,(0,r.zw)(e.getError("number")),1)])]),(0,r._)("div",h,[(0,r._)("div",b,[_,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("household_type_id")?"is-invalid":""]),id:"householdType","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.household_type_id=e})},[y,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.householdTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,v)})),128))],2),[[r.bM,a.formData.household_type_id]]),(0,r._)("div",w,(0,r.zw)(e.getError("household_type_id")),1)])]),g,(0,r._)("div",D,[(0,r._)("div",k,[C,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("address")?"is-invalid":""]),id:"streetType",name:"streetType","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.address_street_type=e})},F,2),[[r.bM,a.formData.address_street_type]])]),(0,r._)("div",x,[S,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("address")?"is-invalid":""]),id:"streetName",name:"streetName","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.address_street_name=e})},null,2),[[r.nr,a.formData.address_street_name]])]),(0,r._)("div",O,[E,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("address")?"is-invalid":""]),id:"houseNumber","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.address_house=e})},null,2),[[r.nr,a.formData.address_house]])]),(0,r._)("div",P,[j,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("address")&&""!==a.formData.address_corps?"is-invalid":""]),id:"corps","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.address_corps=e})},null,2),[[r.nr,a.formData.address_corps]])]),(0,r._)("div",I,[M,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("address")&&""!==a.formData.address_apartment?"is-invalid":""]),id:"apartmentNumber","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.formData.address_apartment=e})},null,2),[[r.nr,a.formData.address_apartment]])]),(0,r._)("div",{id:"householdAddressValidation",class:(0,r.C_)(["invalid-feedback",e.hasError("address")?"d-block":""])},(0,r.zw)(e.getError("address")),3)]),(0,r._)("div",T,[(0,r._)("div",H,[V,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("special_marks")?"is-invalid":""]),id:"householdSpecialMarks",rows:"2","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.formData.special_marks=e})},"\n                ",2),[[r.nr,a.formData.special_marks]]),(0,r._)("div",U,(0,r.zw)(e.getError("special_marks")),1)])]),(0,r._)("div",z,[(0,r._)("div",Z,[Y,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("additional_data")?"is-invalid":""]),id:"householdAdditionalData",rows:"2","onUpdate:modelValue":t[9]||(t[9]=function(e){return a.formData.additional_data=e})},"\n                ",2),[[r.nr,a.formData.additional_data]]),(0,r._)("div",A,(0,r.zw)(e.getError("additional_data")),1)])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}],["__scopeId","data-v-1131c944"]])},1480:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});var r=a(8222),n=function(e){return(0,r.dD)("data-v-3410cef9"),e=e(),(0,r.Cn)(),e},o={class:"pt-4"},i={class:"row justify-content-around mb-xl-4 mb-md-4"},l={class:"col-xl-5 col-md-12 mb-md-4"},s=n((function(){return(0,r._)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Адреса",-1)})),d={key:0,class:"household-address"},u={class:"col-xl-5 col-md-12 mb-md-4"},c=n((function(){return(0,r._)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2"},"Тип",-1)})),m={key:0},f={class:"row justify-content-around mb-xl-4 mb-md-4"},p={class:"col-xl-5 col-md-12 mb-md-4"},h={class:"d-flex justify-content-between align-items-center border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},b={class:"fw-bold"},_={key:0},y=n((function(){return(0,r._)("span",{class:"mdi mdi-plus"},null,-1)})),v={class:"d-flex flex-column"},w={class:"text-muted"},g={class:"align-self-center"},D=["onClick"],k=[n((function(){return(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)}))],C=["onClick"],F=[n((function(){return(0,r._)("span",{class:"mdi mdi-trash-can-outline"},null,-1)}))],x={key:1,class:"text-muted text-center fs-08 p-2"},S={class:"col-xl-5 col-md-12 mb-md-4"},O=n((function(){return(0,r._)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1 household-head"},"Голова домогосподарства",-1)})),E=["draggable"],P={key:1,class:"text-muted text-center fs-08 p-2"},j={class:"row justify-content-around mb-xl-4"},I={class:"col-xl-5 col-md-12 mb-md-4"},M=n((function(){return(0,r._)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Спеціальні відмітки",-1)})),T={key:0},H={key:1,class:"text-muted text-center fs-08 p-2"},V={class:"col-xl-5 col-md-12 mb-md-4"},U=n((function(){return(0,r._)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Додаткові відомості",-1)})),z={key:0},Z={key:1,class:"text-muted text-center fs-08 p-2"};var Y=a(8877),A=a(2262),q=a(3907),R={class:"row mb-3"},$={class:"col"},W=(0,r._)("label",{for:"ownerName",class:"form-label"},"Прізвище І.Б.",-1),L={id:"ownerNameValidation",class:"invalid-feedback"},N={class:"row mb-3"},B={class:"col"},K={id:"ownerAddressValidation",class:"invalid-feedback"};var J=a(8476),G=a(3425),Q=a(6487);const X={name:"HouseholdOwnerForm",mixins:[G.Z,Q.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/household-owners"}},methods:{clearFormData:function(){this.formData.name="",this.formData.address="",this.id=null}},components:{ModalForm:J.Z}};var ee=a(3744);const te=(0,ee.Z)(X,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseholdOwnerModalForm",onSubmitData:e.submitData,onCloseForm:i.clearFormData},{default:(0,r.w5)((function(){return[(0,r._)("div",R,[(0,r._)("div",$,[W,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:"ownerName","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.name=e})},null,2),[[r.nr,a.formData.name]]),(0,r._)("div",L,(0,r.zw)(e.getError("name")),1)])]),(0,r._)("div",N,[(0,r._)("div",B,[(0,r._)("label",{for:"ownerAddress",class:"form-label",onClick:t[1]||(t[1]=function(t){return e.$emit("getHouseholdAddress")}),style:{cursor:"copy"},title:"Клікніть для використання адреси домогосподарства"}," Адреса "),(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("address")?"is-invalid":""]),onDblclick:t[2]||(t[2]=(0,r.iM)((function(t){return e.$emit("getHouseholdAddress")}),["ctrl"])),id:"ownerAddress","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.address=e})},null,34),[[r.nr,a.formData.address]]),(0,r._)("div",K,(0,r.zw)(e.getError("address")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ie={name:"HouseholdInfo",data:function(){return{ownerData:{id:null,household_id:null,name:"",address:""},modalTitle:"",modalSubmitCaption:"",action:""}},provide:function(){var e=this;return{modalTitle:(0,A.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,A.Fl)((function(){return e.modalSubmitCaption}))}},methods:{newOwner:function(e){this.modalTitle="Додати власника домогосподарства",this.modalSubmitCaption="Додати",this.action="create",this.ownerData.household_id=this.household_id,new Y.u_(document.getElementById("HouseholdOwnerModalForm")).show()},editOwner:function(e){this.modalTitle="Редагувати власника домогосподарства",this.modalSubmitCaption="Змінити",this.action="update",this.ownerData.household_id=this.household_id,this.ownerData.name=e.name,this.ownerData.address=e.address,this.ownerData.id=e.id,new Y.u_(document.getElementById("HouseholdOwnerModalForm")).show()},deleteOwner:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити власника").then((function(a){a.isConfirmed&&axios.delete("/api/v1/household-owners/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchRecord",t.household_id),t.$toast(e.data.message)}))}))},pickupHead:function(e,t){var a=this;-1==this.info.owners.findIndex((function(e){return e.name==t&&e.address==a.info.address}))&&(document.getElementById("owners").classList.add("drop-zone"),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("head",JSON.stringify({name:t,address:this.info.address})))},dropHead:function(e){var t=this,a=e.dataTransfer.getData("head");a&&((a=JSON.parse(a)).household_id=this.household_id,axios.post("/api/v1/household-owners",a).then((function(e){t.$store.dispatch("Households/fetchRecord",t.household_id),t.$toast(e.data.message)})))},pickupHeadEnded:function(e){document.getElementById("owners").classList.remove("drop-zone")}},computed:ne(ne({},(0,q.Se)("Households",["info","household_id"])),{},{restOfAddress:function(){return this.info.full_address.substring(this.info.address.length)},headIsAlreadyOwner:function(){var e=this;if(this.info.household_head)return-1!=this.info.owners.findIndex((function(t){return t.name==e.info.household_head}))}}),components:{OwnerForm:te}};var le=a(3379),se=a.n(le),de=a(721),ue={insert:"head",singleton:!1};se()(de.Z,ue);de.Z.locals;const ce=(0,ee.Z)(ie,[["render",function(e,t,a,n,Y,A){var q=(0,r.up)("OwnerForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("div",l,[s,e.info.address?((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("span",null,(0,r.zw)(e.info.address),1),(0,r._)("span",null,(0,r.zw)(A.restOfAddress),1)])):(0,r.kq)("",!0)]),(0,r._)("div",u,[c,e.info.household_type?((0,r.wg)(),(0,r.iD)("div",m,(0,r.zw)(e.info.household_type.name),1)):(0,r.kq)("",!0)])]),(0,r._)("div",f,[(0,r._)("div",p,[(0,r._)("div",h,[(0,r._)("span",b,[(0,r.Uk)("Власник"),e.info.owners&&e.info.owners.length>1?((0,r.wg)(),(0,r.iD)("span",_,"и")):(0,r.kq)("",!0)]),(0,r._)("button",{class:"btn btn-sm btn-light ms-3 text-muted",onClick:t[0]||(t[0]=function(){return A.newOwner&&A.newOwner.apply(A,arguments)}),title:"Додати нового власника"},[y,(0,r.Uk)(" Додати власника ")])]),(0,r._)("div",{id:"owners",class:"owner-wrapper",onDrop:t[1]||(t[1]=function(e){return A.dropHead(e)}),onDragover:t[2]||(t[2]=(0,r.iM)((function(){}),["prevent"])),onDragenter:t[3]||(t[3]=(0,r.iM)((function(){}),["prevent"]))},[e.info.owners&&e.info.owners.length>0?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(e.info.owners,(function(e){return(0,r.wg)(),(0,r.iD)("div",{class:"d-flex justify-content-between",key:e.id},[(0,r._)("div",v,[(0,r._)("span",null,(0,r.zw)(e.name),1),(0,r._)("span",w,(0,r.zw)(e.address),1)]),(0,r._)("div",g,[(0,r._)("button",{class:"btn btn-sm btn-outline-warning btn-transparent",title:"Редагувати власника",onClick:function(t){return A.editOwner(e)}},k,8,D),(0,r._)("button",{class:"btn btn-sm btn-outline-danger btn-transparent ms-3",title:"Видалити власника",onClick:function(t){return A.deleteOwner(e.id)}},F,8,C)])])})),128)):((0,r.wg)(),(0,r.iD)("div",x,"Інформація відсутня"))],32)]),(0,r._)("div",S,[O,(0,r._)("div",null,[e.info.household_head?((0,r.wg)(),(0,r.iD)("span",{key:0,draggable:!A.headIsAlreadyOwner,style:{cursor:"grabbing"},onDragstart:t[4]||(t[4]=function(t){return A.pickupHead(t,e.info.household_head)}),onDragend:t[5]||(t[5]=function(e){return A.pickupHeadEnded(e)})},(0,r.zw)(e.info.household_head),41,E)):((0,r.wg)(),(0,r.iD)("div",P,"Інформація відсутня"))])])]),(0,r._)("div",j,[(0,r._)("div",I,[M,e.info.special_marks?((0,r.wg)(),(0,r.iD)("div",T,(0,r.zw)(e.info.special_marks),1)):((0,r.wg)(),(0,r.iD)("div",H,"Інформація відсутня"))]),(0,r._)("div",V,[U,e.info.additional_data?((0,r.wg)(),(0,r.iD)("div",z,(0,r.zw)(e.info.additional_data),1)):((0,r.wg)(),(0,r.iD)("div",Z,"Інформація відсутня"))])])]),(0,r.Wm)(q,{formData:Y.ownerData,action:Y.action,onRefreshData:t[6]||(t[6]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)}),onGetHouseholdAddress:t[7]||(t[7]=function(t){return Y.ownerData.address=e.info.address})},null,8,["formData","action"])],64)}],["__scopeId","data-v-3410cef9"]])},9613:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var r=a(8222),n={class:"pt-4"},o={class:"row"},i={class:"col-md-9"},l={class:"table table-sm table-bordered table-years"},s=(0,r._)("span",{class:"mdi mdi-plus-thick"},null,-1),d={class:"dropdown"},u=(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Операції з даними за рік"},[(0,r._)("span",{class:"mdi mdi-cog"})],-1),c={class:"dropdown-menu dropdown-menu-end"},m=["onClick"],f=(0,r._)("span",{class:"mdi mdi-pencil text-warning me-2"},null,-1),p=(0,r._)("li",null,[(0,r._)("hr",{class:"dropdown-divider"})],-1),h=["onClick"],b=(0,r._)("span",{class:"mdi mdi-trash-can text-danger me-2"},null,-1),_={class:"table-group-divider"},y=["colspan"],v=(0,r._)("i",null,"(відповідно до документів):",-1),w={class:"col-md-3"},g={class:"card rounded-0"},D={class:"card-header thin-header align-items-center"},k=(0,r._)("h6",null,"Додаткова інформація",-1),C=[(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)],F={key:0,class:"card-body"},x={key:1,class:"text-center",style:{color:"var(--bs-gray-600)"}};var S=a(3907),O=a(8877),E=a(9499),P={class:"row mb-3"},j=(0,r._)("label",{for:"landYear",class:"col-form-label col-md-9"}," Рік ",-1),I={id:"landYearValidation",class:"invalid-feedback col-md-12"},M={class:"row mb-3"},T=(0,r._)("label",{for:"landMaintenance",class:"col-form-label col-md-9"}," для будівництва і обслуговування житлового будинку ",-1),H={id:"landMaintenanceValidation",class:"invalid-feedback col-md-12"},V={class:"row mb-3"},U=(0,r._)("label",{for:"landPersonalAgriculture",class:"col-form-label col-md-9"}," для ведення особистого селянського господарства ",-1),z={id:"landPersonalAgricultureValidation",class:"invalid-feedback col-md-12"},Z=(0,r._)("label",{for:"landCommercialAgriculture",class:"col-form-label col-md-9"}," для ведення товарного сільськогосподарського виробництва ",-1),Y={id:"landCommercialAgricultureValidation",class:"invalid-feedback col-md-12"};var A=a(8476),q=a(3425),R=a(6487);const $={name:"HouseholdLandYearForm",mixins:[q.Z,R.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/household-lands"}},methods:{clearFormData:function(){this.formData.year="",this.formData.maintenance=0,this.formData.personal_agriculture=0,this.formData.commercial_agriculture=0,this.errors=[]}},components:{ModalForm:A.Z}};var W=a(3744);const L=(0,W.Z)($,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"LandYearForm",onSubmitData:e.submitData,onCloseForm:i.clearFormData,modalClass:"modal-600"},{default:(0,r.w5)((function(){return[(0,r._)("div",P,[j,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("year")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("year")?"is-invalid":""]),id:"landYear",name:"landYear","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.year=e})},null,2),[[r.nr,a.formData.year]])],2),(0,r._)("div",I,(0,r.zw)(e.getError("year")),1)]),(0,r._)("div",M,[T,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("maintenance")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control col-md-3",e.hasError("maintenance")?"is-invalid":""]),id:"landMaintenance","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.maintenance=e})},null,2),[[r.nr,a.formData.maintenance]])],2),(0,r._)("div",H,(0,r.zw)(e.getError("maintenance")),1)]),(0,r._)("div",V,[U,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("personal_agriculture")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("personal_agriculture")?"is-invalid":""]),id:"landPersonalAgriculture","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.personal_agriculture=e})},null,2),[[r.nr,a.formData.personal_agriculture]])],2),(0,r._)("div",z,(0,r.zw)(e.getError("personal_agriculture")),1)]),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("commercial_agriculture")?"is-invalid":""])},[Z,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("commercial_agriculture")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("commercial_agriculture")?"is-invalid":""]),id:"landCommercialAgriculture","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.commercial_agriculture=e})},null,2),[[r.nr,a.formData.commercial_agriculture]])],2),(0,r._)("div",Y,(0,r.zw)(e.getError("commercial_agriculture")),1)],2)]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var N={class:"mb-3"};const B={name:"HouseholdLandAdditionalDataForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},methods:{submitData:function(){var e=this;axios.post("/api/v1/land-additional-information",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.closeForm()}))},closeForm:function(){}},components:{ModalForm:A.Z}},K=(0,W.Z)(B,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"LandAdditionalDataForm",onSubmitData:i.submitData,onCloseForm:i.closeForm},{default:(0,r.w5)((function(){return[(0,r._)("div",N,[(0,r.wy)((0,r._)("textarea",{class:"form-control",id:"landAdditionalData",rows:"10","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.land_additional_data=e})},"\n            ",512),[[r.nr,a.formData.land_additional_data]])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const X={name:"HouseholdLandYears",mixins:[{methods:{formatedNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(t)}}},a(7781).Z],data:function(){return{yearData:{household_id:null,year:(new Date).getFullYear(),maintenance:0,personal_agriculture:0,commercial_agriculture:0},additionalData:{household_id:null,land_additional_data:""},modalTitle:"",modalSubmitCaption:"",action:"",yearFormId:"LandYearForm",apiUrl:"/api/v1/household-lands"}},provide:function(){var e=this;return{modalTitle:(0,r.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.Fl)((function(){return e.modalSubmitCaption}))}},methods:{openLandAdditionalDataForm:function(){this.modalTitle="Додаткова інформація",this.modalSubmitCaption="Зберегти",this.additionalData.household_id=this.household_id,this.additionalData.land_additional_data=this.landInfo("land_additional_data"),new O.u_(document.getElementById("LandAdditionalDataForm")).show()},landInfo:function(e){var t=this.info.find((function(t){return t.code==e}));return t.value?t.value:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,S.Se)("Households",{years:"landYears",household_id:"household_id",info:"landInfo"})),components:{TableRow:E.Z,LandYearForm:L,LandAdditionalDataForm:K}},ee=(0,W.Z)(X,[["render",function(e,t,a,S,O,E){var P=(0,r.up)("TableRow"),j=(0,r.up)("LandYearForm"),I=(0,r.up)("LandAdditionalDataForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",n,[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("table",l,[(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[0]||(t[0]=function(){return e.newYearData&&e.newYearData.apply(e,arguments)})},[s,(0,r.Uk)(" Додати рік ")])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.years,(function(t){return(0,r.wg)(),(0,r.iD)("th",{key:t.year},[(0,r.Uk)((0,r.zw)(t.year)+" ",1),(0,r._)("div",d,[u,(0,r._)("ul",c,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.editYear(t)}},[f,(0,r.Uk)(" Редагувати дані ")],8,m)]),p,(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(a){return e.deleteYear(t)}},[b,(0,r.Uk)(" Видалити дані ")],8,h)])])])])})),128))])]),(0,r._)("tbody",_,[(0,r.Wm)(P,{years:e.years,field:"total",rowTitle:"<b>Площа земельних ділянок - усього</b>"},null,8,["years"]),(0,r._)("tr",null,[(0,r._)("td",{colspan:e.years.length+1},[(0,r.Uk)("з неї за цільовим призначенням "),v],8,y)]),(0,r.Wm)(P,{years:e.years,field:"maintenance",rowTitle:"для будівництва і обслуговування житлового будинку",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(P,{years:e.years,field:"personal_agriculture",rowTitle:"для ведення особистого селянського господарства",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(P,{years:e.years,field:"commercial_agriculture",rowTitle:"для ведення товарного сільськогосподарського виробництва",rowTitleClass:"ps-3"},null,8,["years"])])])]),(0,r._)("div",w,[(0,r._)("div",g,[(0,r._)("div",D,[k,(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",onClick:t[1]||(t[1]=function(){return E.openLandAdditionalDataForm&&E.openLandAdditionalDataForm.apply(E,arguments)})},C)]),e.info&&e.info.length>0?((0,r.wg)(),(0,r.iD)("div",F,[""!==E.landInfo("land_additional_data")?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,r.zw)(E.landInfo("land_additional_data")),1)],64)):((0,r.wg)(),(0,r.iD)("div",x,"інформація відсутня"))])):(0,r.kq)("",!0)])])])]),(0,r.Wm)(j,{formData:O.yearData,action:O.action,onRefreshData:t[2]||(t[2]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData","action"]),(0,r.Wm)(I,{formData:O.additionalData,onRefreshData:t[3]||(t[3]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData"])],64)}]])},3943:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(8222),n=function(e){return(0,r.dD)("data-v-5db6b380"),e=e(),(0,r.Cn)(),e},o={class:"card"},i={class:"card-header"},l={class:"dictionary-name__wrapper"},s=n((function(){return(0,r._)("span",null,"Облікові картки",-1)})),d=[n((function(){return(0,r._)("span",{class:"mdi mdi-plus"},null,-1)}))],u=[n((function(){return(0,r._)("span",{class:"mdi mdi-refresh"},null,-1)}))],c=[n((function(){return(0,r._)("span",{class:"mdi mdi-filter-outline"},null,-1)}))],m={class:"card-body"},f=n((function(){return(0,r._)("tr",null,[(0,r._)("th"),(0,r._)("th",null,"Населений пункт"),(0,r._)("th",null,"Номер"),(0,r._)("th",null,"Місцезнаходження / адреса")],-1)})),p=n((function(){return(0,r._)("span",{class:"mdi mdi-eye-outline"},null,-1)})),h={key:1,class:"text-muted text-center p-3"};var b=a(3907),_=a(8877),y=a(3941),v=a(6721),w={class:"row mb-3"},g={class:"col"},D=(0,r._)("label",{for:"householdType",class:"form-label"},"Населений пункт",-1),k=(0,r._)("option",{value:"0"},"Усі населені пункти",-1),C=["value"],F={class:"row mb-3"},x={class:"col"},S=(0,r._)("label",{for:"householdType",class:"form-label"},"Тип об'єкта погосподарського обліку",-1),O=(0,r._)("option",{value:"0"},"Усі типи об'єкта",-1),E=["value"],P=["disabled"];var j=a(8476);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const V={name:"HouseholdFilterForm",data:function(){return{}},methods:{submitData:function(){this.filter.isFiltered=!0,this.$store.dispatch("Households/applyFilter",this.filter)},clearFormData:function(){}},computed:T(T(T(T({},(0,b.Se)("Households",["filter"])),(0,b.Se)("Settlements",["settlements"])),(0,b.Se)("HouseholdTypes",["householdTypes"])),{},{filterIsNotReady:function(){return 0==this.filter.settlement_id&&0==this.filter.household_type_id}}),components:{ModalForm:j.Z}};var U=a(3744);const z=(0,U.Z)(V,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseholdFilterForm",onSubmitData:i.submitData,onCloseForm:i.clearFormData,modalClass:"modal-lg",sumbitIsDisabled:i.filterIsNotReady},{footer:(0,r.w5)((function(){return[(0,r._)("button",{class:"btn btn-outline-secondary",onClick:t[2]||(t[2]=function(t){return e.$emit("resetFilter")}),title:"Скинути фильтр",disabled:!e.filter.isFiltered}," Скинути ",8,P)]})),default:(0,r.w5)((function(){return[(0,r._)("div",w,[(0,r._)("div",g,[D,(0,r.wy)((0,r._)("select",{class:"form-control",id:"householdType","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filter.settlement_id=t})},[k,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.settlements,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,C)})),128))],512),[[r.bM,e.filter.settlement_id]])])]),(0,r._)("div",F,[(0,r._)("div",x,[S,(0,r.wy)((0,r._)("select",{class:"form-control",id:"householdType","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.household_type_id=t})},[O,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.householdTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,E)})),128))],512),[[r.bM,e.filter.household_type_id]])])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}]]);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const q={name:"HouseholdCardsMain",components:{DataTable:y.Z,HouseholdForm:v.Z,HouseholdFilterForm:z},data:function(){return{formData:{settlement_id:0,household_type_id:0,number:"",address_street_type:"",address_street_name:"",address_house:"",address_corps:"",address_apartment:"",special_marks:"",additional_data:""},disabledFields:[],modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,r.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.Fl)((function(){return e.modalSubmitCaption}))}},methods:{addCard:function(){this.modalTitle="Нова облікова картка",this.modalSubmitCaption="Додати",this.filter.isFiltered?(this.filter.settlement_id>0?(this.formData.settlement_id=this.filter.settlement_id,this.disabledFields.push("settlement_id")):this.disabledFields=this.disabledFields.filter((function(e){return"settlement_id"!==e})),this.filter.household_type_id>0?(this.formData.household_type_id=this.filter.household_type_id,this.disabledFields.push("household_type_id")):this.disabledFields=this.disabledFields.filter((function(e){return"household_type_id"!==e}))):this.disabledFields=[],new _.u_(document.getElementById("HouseholdForm")).show()},openFilterForm:function(){this.modalTitle="Фільтр облікових карт",this.modalSubmitCaption="Застосувати",new _.u_(document.getElementById("HouseholdFilterForm")).show()},resetFilter:function(){this.filter.settlement_id=0,this.filter.household_type_id=0,this.filter.isFiltered=!1,this.$store.dispatch("Households/applyFilter",this.filter)}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,b.Se)("Households",["households","filter"]))};var R=a(3379),$=a.n(R),W=a(7692),L={insert:"head",singleton:!1};$()(W.Z,L);W.Z.locals;const N=(0,U.Z)(q,[["render",function(e,t,a,n,b,_){var y=(0,r.up)("breadcrumbs"),v=(0,r.up)("router-link"),w=(0,r.up)("DataTable"),g=(0,r.up)("HouseholdForm"),D=(0,r.up)("HouseholdFilterForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(y),(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("div",l,[s,(0,r._)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=function(){return _.addCard&&_.addCard.apply(_,arguments)})},d),(0,r._)("button",{class:"btn btn-sm btn-outline-primary ms-2",onClick:t[1]||(t[1]=function(t){return e.$store.dispatch("Households/fetchRecords")}),title:"Оновити дані"},u)]),(0,r._)("div",null,[(0,r._)("button",{class:(0,r.C_)(["btn btn-sm btn-outline-secondary",e.filter.isFiltered?"active":""]),onClick:[t[2]||(t[2]=(0,r.iM)((function(){return _.openFilterForm&&_.openFilterForm.apply(_,arguments)}),["exact"])),t[3]||(t[3]=(0,r.iM)((function(){return _.resetFilter&&_.resetFilter.apply(_,arguments)}),["ctrl"]))],title:"Фільтр облікових карток"},c,2)])]),(0,r._)("div",m,[e.households.length>0?((0,r.wg)(),(0,r.j4)(w,{key:0,dataTable:e.households,tableHeaderClass:"table-dark"},{header:(0,r.w5)((function(){return[f]})),default:(0,r.w5)((function(e){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.paginatedData,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,[(0,r.Wm)(v,{to:{name:"households.show",params:{id:e.id}}},{default:(0,r.w5)((function(){return[p]})),_:2},1032,["to"])]),(0,r._)("td",null,(0,r.zw)(e.settlement),1),(0,r._)("td",null,(0,r.zw)(e.number),1),(0,r._)("td",null,(0,r.zw)(e.address),1)])})),128))]})),_:1},8,["dataTable"])):((0,r.wg)(),(0,r.iD)("div",h," Немає даних для відображення. "))])]),(0,r.Wm)(g,{formData:b.formData,disabledFields:b.disabledFields,onRefreshData:t[4]||(t[4]=function(t){return e.$store.dispatch("Households/fetchRecords")})},null,8,["formData","disabledFields"]),(0,r.Wm)(D,{onResetFilter:_.resetFilter},null,8,["onResetFilter"])],64)}],["__scopeId","data-v-5db6b380"]])},5908:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Kn});var r=a(8222),n=function(e){return(0,r.dD)("data-v-28ee71b0"),e=e(),(0,r.Cn)(),e},o={id:"members"},i={class:"p-3 d-flex justify-content-between"},l=n((function(){return(0,r._)("span",{class:"mdi mdi-account-plus-outline me-1"},null,-1)})),s=n((function(){return(0,r._)("span",{class:"mdi mdi-family-tree me-1"},null,-1)})),d=[n((function(){return(0,r._)("span",{class:"mdi mdi-account-question-outline"},null,-1)}))],u=[n((function(){return(0,r._)("span",{class:"mdi mdi-card-account-details-outline"},null,-1)}))],c=[n((function(){return(0,r._)("span",{class:"mdi mdi-table-account"},null,-1)}))],m={class:"px-3 d-flex gap-3 flex-wrap"},f=["onDblclick"],p={class:"card-header d-flex justify-content-between"},h={class:"member-surname"},b={class:"member-name"},_={key:0,class:"mt-2"},y=[n((function(){return(0,r._)("span",{class:"mdi mdi-head-alert-outline",title:"Голова домогосподарства"},null,-1)}))],v={class:"card-body"},w={class:"d-flex mb-2 align-items-center family-relationship"},g=n((function(){return(0,r._)("span",{class:"mdi mdi-family-tree me-3",style:{color:"blue"},title:"Родинні відносини"},null,-1)})),D={class:"d-flex mb-2 flex-column"},k=n((function(){return(0,r._)("span",{class:"mdi mdi-cake-variant-outline me-3",style:{color:"red"},title:"Дата народження"},null,-1)})),C={key:0},F=n((function(){return(0,r._)("span",{class:"mdi mdi-coffin me-3",title:"Дата смерті"},null,-1)})),x={class:"card-footer d-flex justify-content-between"},S={class:"dropdown"},O=n((function(){return(0,r._)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Друк документів"},[(0,r._)("span",{class:"mdi mdi-file"})],-1)})),E={class:"dropdown-menu"},P=["onClick"],j=n((function(){return(0,r._)("span",{class:"mdi mdi-human-capacity-decrease me-2",style:{color:"blue"}},null,-1)})),I=["onClick"],M=[n((function(){return(0,r._)("span",{class:"mdi mdi-eye-outline"},null,-1)}))],T={class:"new-member"},H=[n((function(){return(0,r._)("span",{class:"mdi mdi-account-plus-outline mdi-36px"},null,-1)}))],V={key:1,class:"table table-sm table-bordered"},U=n((function(){return(0,r._)("th",null,null,-1)})),z=n((function(){return(0,r._)("th",null,"Прізвище",-1)})),Z=n((function(){return(0,r._)("th",null,"Ім'я",-1)})),Y=n((function(){return(0,r._)("th",null,"По батькові",-1)})),A=n((function(){return(0,r._)("th",null,"Стать",-1)})),q=n((function(){return(0,r._)("th",{class:"text-center"},"Дата народження",-1)})),R={key:0,class:"text-center"},$=n((function(){return(0,r._)("th",null,"Родинні стосунки",-1)})),W={class:"text-center"},L=["onClick"],N=[n((function(){return(0,r._)("span",{class:"mdi mdi-eye-outline"},null,-1)}))],B={class:"text-center"},K={key:0,class:"text-center"};var J=a(8877),G=a(3907),Q=a(7954),X={class:"row mb-3"},ee={class:"col"},te=(0,r._)("label",{for:"memberSurname",class:"form-label"},"Прізвище",-1),ae={id:"memberSurnameValidation",class:"invalid-feedback"},re={class:"col"},ne=(0,r._)("label",{for:"memberName",class:"form-label"},"Ім'я",-1),oe={id:"memberNameValidation",class:"invalid-feedback"},ie={class:"col"},le=(0,r._)("label",{for:"memberPatronymic",class:"form-label"},"По батькові",-1),se={id:"memberPatronymicValidation",class:"invalid-feedback"},de={class:"row mb-3"},ue={class:"col-md-3"},ce=(0,r._)("label",{for:"memberSex",class:"form-label"},"Стать",-1),me=(0,r._)("datalist",{id:"sex"},[(0,r._)("option",{value:"чоловіча"}),(0,r._)("option",{value:"жіноча"})],-1),fe={id:"memberSexValidation",class:"invalid-feedback"},pe={class:"col-md-3"},he=(0,r._)("label",{for:"memberBirthdate",class:"form-label"},"Дата народження",-1),be={id:"memberBirthdateValidation",class:"invalid-feedback"},_e={class:"col-md-6"},ye=(0,r._)("label",{for:"familyRelationshipType",class:"form-label"},"Родинні стосунки",-1),ve=(0,r._)("option",{disabled:"",value:"0"},"Оберить тип родинних стосунків",-1),we=["value"],ge={id:"familyRelationshipTypeValidation",class:"invalid-feedback"},De=(0,r._)("hr",null,null,-1),ke={class:"row mb-3"},Ce={class:"col"},Fe=(0,r._)("label",{for:"workPlace",class:"form-label"},"Місце роботи залежно від територіального розташування",-1),xe=(0,r._)("option",{disabled:"",value:"0"},"Оберить місце роботи",-1),Se=["value"],Oe={class:"row mb-3"},Ee={class:"col"},Pe=(0,r._)("label",{for:"memberEmployment",class:"form-label"},"Відомості про зайнятість / незайнятість",-1);var je=a(8476),Ie=a(3425),Me=a(6487);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){Ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ue(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Te(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ze={name:"HouseholdMemeberForm",mixins:[Ie.Z,Me.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{apiUrl:"/api/v1/household-members"}},methods:{clearFormData:function(){this.formData.surname="",this.formData.name="",this.formData.patronymic="",this.formData.sex="",this.formData.birthdate=null,this.formData.family_relationship_type_id=0,this.formData.employment_information="",this.formData.work_place_id=0,this.errors=[]},saveData:function(){0==this.formData.work_place_id&&delete this.formData.work_place_id,this.submitData()}},computed:Ve(Ve({},(0,G.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),(0,G.Se)("WorkPlaces",["places"])),components:{ModalForm:je.Z}};var Ze=a(3744);const Ye=(0,Ze.Z)(ze,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseholdMemberForm",onSubmitData:i.saveData,onCloseForm:i.clearFormData,modalClass:"modal-lg"},{default:(0,r.w5)((function(){return[(0,r._)("div",X,[(0,r._)("div",ee,[te,(0,r.wy)((0,r._)("input",{type:"text",id:"memberSurname",class:(0,r.C_)(["form-control",e.hasError("surname")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.surname=e})},null,2),[[r.nr,a.formData.surname]]),(0,r._)("div",ae,(0,r.zw)(e.getError("surname")),1)]),(0,r._)("div",re,[ne,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:"memberName","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.name=e})},null,2),[[r.nr,a.formData.name]]),(0,r._)("div",oe,(0,r.zw)(e.getError("name")),1)]),(0,r._)("div",ie,[le,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("patronymic")?"is-invalid":""]),id:"memberPatronymic","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.patronymic=e})},null,2),[[r.nr,a.formData.patronymic]]),(0,r._)("div",se,(0,r.zw)(e.getError("patronymic")),1)])]),(0,r._)("div",de,[(0,r._)("div",ue,[ce,(0,r.wy)((0,r._)("input",{list:"sex",id:"memberSex",placeholder:"Type to search...",class:(0,r.C_)(["form-control",e.hasError("sex")?"is-invalid":""]),"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.sex=e})},null,2),[[r.nr,a.formData.sex]]),me,(0,r._)("div",fe,(0,r.zw)(e.getError("sex")),1)]),(0,r._)("div",pe,[he,(0,r.wy)((0,r._)("input",{type:"date",class:(0,r.C_)(["form-control",e.hasError("birthdate")?"is-invalid":""]),id:"memberBirthdate","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.birthdate=e})},null,2),[[r.nr,a.formData.birthdate]]),(0,r._)("div",be,(0,r.zw)(e.getError("birthdate")),1)]),(0,r._)("div",_e,[ye,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("family_relationship_type_id")?"is-invalid":""]),"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.family_relationship_type_id=e})},[ve,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.relationshipTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,we)})),128))],2),[[r.bM,a.formData.family_relationship_type_id]]),(0,r._)("div",ge,(0,r.zw)(e.getError("family_relationship_type_id")),1)])]),De,(0,r._)("div",ke,[(0,r._)("div",Ce,[Fe,(0,r.wy)((0,r._)("select",{class:"form-select",id:"workPlace","aria-label":"Default select example","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.work_place_id=e})},[xe,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.places,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,Se)})),128))],512),[[r.bM,a.formData.work_place_id]])])]),(0,r._)("div",Oe,[(0,r._)("div",Ee,[Pe,(0,r.wy)((0,r._)("textarea",{class:"form-control",id:"memberEmployment",rows:"2","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.formData.employment_information=e})},null,512),[[r.nr,a.formData.employment_information]])])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Ae=function(e){return(0,r.dD)("data-v-489c0c69"),e=e(),(0,r.Cn)(),e},qe={class:"row"},Re={class:"col"},$e={class:"nav nav-tabs",id:"myTab",role:"tablist"},We={class:"nav-item",role:"presentation"},Le=Ae((function(){return(0,r._)("span",{class:"mdi mdi-account-details-outline me-1"},null,-1)})),Ne={class:"nav-item",role:"presentation"},Be=Ae((function(){return(0,r._)("span",{class:"mdi mdi-land-fields me-1"},null,-1)})),Ke={class:"nav-item",role:"presentation"},Je=Ae((function(){return(0,r._)("span",{class:"mdi mdi-transit-transfer me-1"},null,-1)})),Ge={class:"nav-item",role:"presentation"},Qe=Ae((function(){return(0,r._)("span",{class:"mdi mdi-tag-multiple me-1"},null,-1)})),Xe={class:"tab-content p-3"};var et={class:"row"},tt={class:"col-md-5 border-end"},at={class:"row mb-3"},rt={class:"col"},nt=(0,r._)("label",{for:"memberSurname",class:"form-label"},"Прізвище",-1),ot=["disabled"],it={id:"memberSurnameValidation",class:"invalid-feedback"},lt={class:"row mb-3"},st={class:"col"},dt=(0,r._)("label",{for:"memberName",class:"form-label"},"Ім'я",-1),ut=["disabled"],ct={id:"memberNameValidation",class:"invalid-feedback"},mt={class:"col"},ft=(0,r._)("label",{for:"memberPatronymic",class:"form-label"},"По батькові",-1),pt=["disabled"],ht={id:"memberPatronymicValidation",class:"invalid-feedback"},bt={class:"row mb-3"},_t={class:"col"},yt=(0,r._)("label",{for:"memberBirthdate",class:"form-label"},"Дата народження",-1),vt=["disabled"],wt={id:"memberBirthdayValidation",class:"invalid-feedback"},gt={class:"col"},Dt=(0,r._)("label",{for:"memberSex",class:"form-label"},"Стать",-1),kt=["disabled"],Ct=(0,r._)("datalist",{id:"sex"},[(0,r._)("option",{value:"чоловіча"}),(0,r._)("option",{value:"жіноча"})],-1),Ft={id:"memberSexValidation",class:"invalid-feedback"},xt={class:"row mb-3"},St={class:"col"},Ot=(0,r._)("label",{for:"familyRelationshipType",class:"form-label"},"Родинні стосунки",-1),Et=["disabled"],Pt=(0,r._)("option",{disabled:"",value:"0"},"Оберить тип родинних стосунків",-1),jt=["value"],It={id:"familyRelationshipTypeValidation",class:"invalid-feedback"},Mt={class:"row mb-3"},Tt={class:"col"},Ht=(0,r._)("label",{for:"memberDeathDate",class:"form-label"},"Дата смерті",-1),Vt=["disabled"],Ut={id:"memberDeathDateValidation",class:"invalid-feedback"},zt={class:"col"},Zt=(0,r._)("label",{for:"memberDeathNumber",class:"form-label"},"Номер свідоцтва",-1),Yt=["disabled"],At={id:"memberDeathNumberValidation",class:"invalid-feedback"},qt={class:"row mb-3"},Rt={class:"col"},$t=(0,r._)("label",{for:"memberDeathRegisterOffice",class:"form-label"},"Орган",-1),Wt=["disabled"],Lt={id:"memberDeathPlaceValidation",class:"invalid-feedback"},Nt={class:"col-md-7"},Bt={class:"row mb-3"},Kt={class:"col"},Jt=(0,r._)("label",{for:"workPlace",class:"form-label"},"Місце роботи залежно від територіального розташування",-1),Gt=["disabled"],Qt=(0,r._)("option",{disabled:"",value:"0"},"Оберить місце роботи",-1),Xt=["value"],ea={id:"workPlaceValidation",class:"invalid-feedback"},ta={class:"row mb-3"},aa={class:"col"},ra=(0,r._)("label",{for:"employmentInformation",class:"form-label"},"Відомості про зайнятість / незайнятість",-1),na=["disabled"],oa={id:"employmentInformationValidation",class:"invalid-feedback"},ia={class:"row mb-3"},la={class:"col"},sa=(0,r._)("label",{for:"socialInformation",class:"form-label"},"Відомості про пенсію, інвалідність, отримання соціальної допомоги",-1),da=["disabled"],ua={id:"socialInformationValidation",class:"invalid-feedback"},ca={class:"row mb-3"},ma={class:"col"},fa=(0,r._)("label",{for:"additionalInformation",class:"form-label"},"Додаткова інформація",-1),pa=["disabled"],ha={id:"additionalInformationValidation",class:"invalid-feedback"},ba={class:"row"},_a={class:"d-flex justify-content-end"},ya=(0,r._)("span",{class:"mdi mdi-pencil"},null,-1),va=(0,r._)("span",{class:"mdi mdi-check-all"},null,-1);function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(a),!0).forEach((function(t){ka(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ka(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==wa(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==wa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ca={name:"MemberMainInfoTab",mixins:[Ie.Z],props:{formData:{type:Object,required:!0}},emits:["refreshData"],data:function(){return{isInEditMode:!1,_formData:{}}},methods:{editData:function(){this.isInEditMode=!0,this._formData=JSON.parse(JSON.stringify(this.formData))},cancelEdit:function(){this.isInEditMode=!1,this.errors=[],this._formData={},this.$emit("refreshData")},saveData:function(){var e=this,t=Object.assign({},this.formData);0==t.work_place_id&&delete t.work_place_id,axios.patch("/api/v1/household-members/".concat(this.formData.id),t).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.$store.dispatch("Households/fetchRecord",e.formData.household_id)})).catch((function(t){var a;e.errors=null===(a=t.response)||void 0===a?void 0:a.data.errors}))}},computed:Da(Da(Da({},(0,G.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),(0,G.Se)("WorkPlaces",["places"])),{},{isEmploymentInformationDisabled:function(){return!(this.isInEditMode&&this.formData.work_place_id>0)},readyForSave:function(){return JSON.stringify(this.formData)!==JSON.stringify(this._formData)}}),watch:{"formData.death_date":function(e){""==e&&(this.formData.death_date=null,this.formData.death_register_number="",this.errors.death_register_number&&delete this.errors.death_register_number,this.formData.death_register_office="",this.errors.death_register_office&&delete this.errors.death_register_office)}}},Fa=(0,Ze.Z)(Ca,[["render",function(e,t,a,n,o,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",et,[(0,r._)("div",tt,[(0,r._)("div",at,[(0,r._)("div",rt,[nt,(0,r.wy)((0,r._)("input",{type:"text",id:"memberSurname",class:(0,r.C_)(["form-control",e.hasError("surname")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.surname=e}),disabled:!o.isInEditMode},null,10,ot),[[r.nr,a.formData.surname]]),(0,r._)("div",it,(0,r.zw)(e.getError("surname")),1)])]),(0,r._)("div",lt,[(0,r._)("div",st,[dt,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:"memberName","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.name=e}),disabled:!o.isInEditMode},null,10,ut),[[r.nr,a.formData.name]]),(0,r._)("div",ct,(0,r.zw)(e.getError("name")),1)]),(0,r._)("div",mt,[ft,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("patronymic")?"is-invalid":""]),id:"memberPatronymic","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.patronymic=e}),disabled:!o.isInEditMode},null,10,pt),[[r.nr,a.formData.patronymic]]),(0,r._)("div",ht,(0,r.zw)(e.getError("patronymic")),1)])]),(0,r._)("div",bt,[(0,r._)("div",_t,[yt,(0,r.wy)((0,r._)("input",{type:"date",class:(0,r.C_)(["form-control",e.hasError("birthdate")?"is-invalid":""]),id:"memberBirthdate","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.birthdate=e}),disabled:!o.isInEditMode},null,10,vt),[[r.nr,a.formData.birthdate]]),(0,r._)("div",wt,(0,r.zw)(e.getError("birthdate")),1)]),(0,r._)("div",gt,[Dt,(0,r.wy)((0,r._)("input",{list:"sex",id:"memberSex",placeholder:"Type to search...",class:(0,r.C_)(["form-control",e.hasError("sex")?"is-invalid":""]),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.sex=e}),disabled:!o.isInEditMode},null,10,kt),[[r.nr,a.formData.sex]]),Ct,(0,r._)("div",Ft,(0,r.zw)(e.getError("sex")),1)])]),(0,r._)("div",xt,[(0,r._)("div",St,[Ot,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("family_relationship_type_id")?"is-invalid":""]),"aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.family_relationship_type_id=e}),disabled:!o.isInEditMode},[Pt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.relationshipTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,jt)})),128))],10,Et),[[r.bM,a.formData.family_relationship_type_id]]),(0,r._)("div",It,(0,r.zw)(e.getError("family_relationship_type_id")),1)])]),(0,r._)("div",Mt,[(0,r._)("div",Tt,[Ht,(0,r.wy)((0,r._)("input",{type:"date",id:"memberDeathDate",class:(0,r.C_)(["form-control",e.hasError("death_date")?"is-invalid":""]),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.death_date=e}),disabled:!o.isInEditMode},null,10,Vt),[[r.nr,a.formData.death_date]]),(0,r._)("div",Ut,(0,r.zw)(e.getError("death_date")),1)]),(0,r._)("div",zt,[Zt,(0,r.wy)((0,r._)("input",{type:"text",id:"memberDeathNumber",class:(0,r.C_)(["form-control",e.hasError("death_register_number")?"is-invalid":""]),"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.formData.death_register_number=e}),disabled:!o.isInEditMode},null,10,Yt),[[r.nr,a.formData.death_register_number]]),(0,r._)("div",At,(0,r.zw)(e.getError("death_register_number")),1)])]),(0,r._)("div",qt,[(0,r._)("div",Rt,[$t,(0,r.wy)((0,r._)("input",{type:"text",id:"memberDeathRegisterOffice",class:(0,r.C_)(["form-control",e.hasError("death_register_office")?"is-invalid":""]),"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.formData.death_register_office=e}),disabled:!o.isInEditMode},null,10,Wt),[[r.nr,a.formData.death_register_office]]),(0,r._)("div",Lt,(0,r.zw)(e.getError("death_register_office")),1)])])]),(0,r._)("div",Nt,[(0,r._)("div",Bt,[(0,r._)("div",Kt,[Jt,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-select",e.hasError("work_place_id")?"is-invalid":""]),"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.formData.work_place_id=e}),disabled:!o.isInEditMode},[Qt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.places,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,Xt)})),128))],10,Gt),[[r.bM,a.formData.work_place_id]]),(0,r._)("div",ea,(0,r.zw)(e.getError("work_place_id")),1)])]),(0,r._)("div",ta,[(0,r._)("div",aa,[ra,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("employment_information")?"is-invalid":""]),id:"employmentInformation",rows:"2","onUpdate:modelValue":t[10]||(t[10]=function(e){return a.formData.employment_information=e}),disabled:i.isEmploymentInformationDisabled},"\n                ",10,na),[[r.nr,a.formData.employment_information]]),(0,r._)("div",oa,(0,r.zw)(e.getError("employment_information")),1)])]),(0,r._)("div",ia,[(0,r._)("div",la,[sa,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("social_information")?"is-invalid":""]),id:"socialInformation",rows:"2","onUpdate:modelValue":t[11]||(t[11]=function(e){return a.formData.social_information=e}),disabled:!o.isInEditMode},"\n                ",10,da),[[r.nr,a.formData.social_information]]),(0,r._)("div",ua,(0,r.zw)(e.getError("social_information")),1)])]),(0,r._)("div",ca,[(0,r._)("div",ma,[fa,(0,r.wy)((0,r._)("textarea",{class:(0,r.C_)(["form-control",e.hasError("additional_information")?"is-invalid":""]),id:"additionalInformation",rows:"2","onUpdate:modelValue":t[12]||(t[12]=function(e){return a.formData.additional_information=e}),disabled:!o.isInEditMode},"\n                ",10,pa),[[r.nr,a.formData.additional_information]]),(0,r._)("div",ha,(0,r.zw)(e.getError("additional_information")),1)])])])]),(0,r._)("div",ba,[(0,r._)("div",_a,[o.isInEditMode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-sm btn-outline-secondary",title:"Редагувати дані",onClick:t[13]||(t[13]=function(){return i.editData&&i.editData.apply(i,arguments)})},[ya,(0,r.Uk)(" Редагувати ")])),o.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn btn-sm btn-outline-secondary",title:"Відмінити редагування",onClick:t[14]||(t[14]=function(){return i.cancelEdit&&i.cancelEdit.apply(i,arguments)})}," Відмінити ")):(0,r.kq)("",!0),o.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:2,class:"btn btn-sm btn-outline-primary ms-3",title:"Зберегти дані",onClick:t[15]||(t[15]=function(){return i.saveData&&i.saveData.apply(i,arguments)})},[va,(0,r.Uk)(" Зберегти ")])):(0,r.kq)("",!0)])])],64)}]]);var xa={class:"table table-sm table-bordered table-years"},Sa={class:"bg-body-secondary"},Oa=(0,r._)("span",{class:"mdi mdi-plus-thick"},null,-1),Ea={class:"dropdown"},Pa=(0,r._)("button",{class:"btn btn-sm btn-light btn-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Операції з даними за рік"},[(0,r._)("span",{class:"mdi mdi-cog"})],-1),ja={class:"dropdown-menu dropdown-menu-end"},Ia=["onClick"],Ma=(0,r._)("span",{class:"mdi mdi-land-fields me-2",style:{color:"green"}},null,-1),Ta=(0,r._)("li",null,[(0,r._)("hr",{class:"dropdown-divider"})],-1),Ha=["onClick"],Va=(0,r._)("span",{class:"mdi mdi-pencil text-warning me-2"},null,-1),Ua=["onClick"],za=(0,r._)("span",{class:"mdi mdi-trash-can text-danger me-2"},null,-1),Za={class:"table-group-divider"};var Ya=a(9499),Aa={class:"row mb-3"},qa=(0,r._)("label",{for:"landYear",class:"col-form-label col-md-9"}," Рік ",-1),Ra={id:"landYearValidation",class:"invalid-feedback col-md-12"},$a={class:"row mb-3"},Wa=(0,r._)("label",{for:"landMaintenance",class:"col-form-label col-md-9"}," під забудовою ",-1),La={id:"landMaintenanceValidation",class:"invalid-feedback col-md-12"},Na={class:"row mb-3"},Ba=(0,r._)("label",{for:"landPersonalAgriculture",class:"col-form-label col-md-9"},[(0,r.Uk)(" для ведення "),(0,r._)("abbr",{title:"особистого селянського господарства"},"ОСГ")],-1),Ka={id:"landPersonalAgricultureValidation",class:"invalid-feedback col-md-12"},Ja=(0,r._)("label",{for:"landHayCatting",class:"col-form-label col-md-9"}," сінокосіння ",-1),Ga={id:"landHayCutting",class:"invalid-feedback col-md-12"},Qa=(0,r._)("label",{for:"landPastures",class:"col-form-label col-md-9"}," пасовища ",-1),Xa={id:"landPastures",class:"invalid-feedback col-md-12"},er=(0,r._)("label",{for:"landShare",class:"col-form-label col-md-9"}," земельний пай ",-1),tr={id:"landShare",class:"invalid-feedback col-md-12"},ar=(0,r._)("label",{for:"landPropertyShare",class:"col-form-label col-md-9"}," майновий пай ",-1),rr={id:"landShare",class:"invalid-feedback col-md-12"};const nr={name:"LandYearForm",mixins:[Ie.Z,Me.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0}},data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{closeForm:function(){this.$emit("closeYearForm")}},components:{ModalForm:je.Z}},or=(0,Ze.Z)(nr,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"LandYearForm",submitCaption:a.submitCaption,title:a.title,onCloseForm:i.closeForm,onSubmitData:e.submitData,modalContentClass:"second-modal"},{default:(0,r.w5)((function(){return[(0,r._)("div",Aa,[qa,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("year")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("year")?"is-invalid":""]),id:"landYear",name:"landYear","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.year=e})},null,2),[[r.nr,a.formData.year]])],2),(0,r._)("div",Ra,(0,r.zw)(e.getError("year")),1)]),(0,r._)("div",$a,[Wa,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("maintenance")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control col-md-3",e.hasError("maintenance")?"is-invalid":""]),id:"landMaintenance","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.maintenance=e})},null,2),[[r.nr,a.formData.maintenance]])],2),(0,r._)("div",La,(0,r.zw)(e.getError("maintenance")),1)]),(0,r._)("div",Na,[Ba,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("personal_agriculture")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("personal_agriculture")?"is-invalid":""]),id:"landPersonalAgriculture","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.personal_agriculture=e})},null,2),[[r.nr,a.formData.personal_agriculture]])],2),(0,r._)("div",Ka,(0,r.zw)(e.getError("personal_agriculture")),1)]),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("hay_cutting")?"is-invalid":""])},[Ja,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("hay_cutting")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("hay_cutting")?"is-invalid":""]),id:"landHayCatting","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.hay_cutting=e})},null,2),[[r.nr,a.formData.hay_cutting]])],2),(0,r._)("div",Ga,(0,r.zw)(e.getError("hay_cutting")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("pastures")?"is-invalid":""])},[Qa,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("pastures")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("pastures")?"is-invalid":""]),id:"landPastures","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.pastures=e})},null,2),[[r.nr,a.formData.pastures]])],2),(0,r._)("div",Xa,(0,r.zw)(e.getError("pastures")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("land_share")?"is-invalid":""])},[er,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("land_share")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("land_share")?"is-invalid":""]),id:"landShare","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.land_share=e})},null,2),[[r.nr,a.formData.land_share]])],2),(0,r._)("div",tr,(0,r.zw)(e.getError("land_share")),1)],2),(0,r._)("div",{class:(0,r.C_)(["row mb-3",e.hasError("property_share")?"is-invalid":""])},[ar,(0,r._)("div",{class:(0,r.C_)(["col-md-3",e.hasError("property_share")?"is-invalid":""])},[(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("property_share")?"is-invalid":""]),id:"landPropertyShare","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.formData.property_share=e})},null,2),[[r.nr,a.formData.property_share]])],2),(0,r._)("div",rr,(0,r.zw)(e.getError("property_share")),1)],2)]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]]),ir={name:"MemberLandYearsTab",props:{years:{type:Array,required:!0},member:{type:Object,required:!0}},components:{TableRow:Ya.Z,LandYearForm:or},emits:["refreshData"],data:function(){return{yearData:{id:null,member_id:null,year:(new Date).getFullYear(),maintenance:0,personal_agriculture:0,hay_cutting:0,pastures:0,land_share:0,property_share:0},yearDataAction:"",title:"",submitCaption:"",apiUrl:"/api/v1/household-member-lands"}},methods:{newYearData:function(e){this.title="Додати дані",this.submitCaption="Додати",this.yearDataAction="create",this.yearData.member_id=this.member.id,e.ctrlKey&&(this.years.length>0&&(this.yearData=Object.assign({},this.years[this.years.length-1]),this.yearData.year=parseInt(this.yearData.year)+1),this.modalTitle="Додати дані на <b>".concat(this.yearData.year,"</b> рік")),new J.u_(document.getElementById("LandYearForm")).show()},editYear:function(e){Object.assign(this.yearData,e),this.yearData.member_id=this.member.id,this.title="Редагувати дані за ".concat(e.year," рік"),this.submitCaption="Зберегти",this.yearDataAction="update",new J.u_(document.getElementById("LandYearForm")).show()},deleteYear:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити дані за ".concat(e.year," рік")).then((function(a){a.isConfirmed&&axios.delete("".concat(t.apiUrl,"/").concat(e.id)).then((function(e){t.$emit("refreshData"),t.$toast(e.data.message)})).catch((function(e){t.$errorMessage("Неможливо видалити дані",e.response.data.message,"Зрозуміло")}))}))},closeYearForm:function(){this.yearData.id=null,this.yearData.year=(new Date).getFullYear(),this.yearData.maintenance=0,this.yearData.personal_agriculture=0,this.yearData.hay_cutting=0,this.yearData.pastures=0,this.yearData.land_share=0,this.yearData.property_shar=0},landOwnedReport:function(e){var t=this,a={report:"landOwned",year:e,member_id:this.member.id};axios.post("/api/v1/generate-report",a,{responseType:"arraybuffer"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a;var n="".concat(t.member.surname," ").concat(t.member.name," ").concat(t.member.patronymic,". Довідка про склад земельної ділянки.docx");r.setAttribute("download",n),document.body.appendChild(r),r.click()}))}}},lr=(0,Ze.Z)(ir,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("TableRow"),s=(0,r.up)("LandYearForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("table",xa,[(0,r._)("thead",Sa,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:t[0]||(t[0]=function(e){return i.newYearData(e)})},[Oa,(0,r.Uk)(" Додати рік ")])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.years.sort((function(e,t){return e.year-t.year})),(function(e){return(0,r.wg)(),(0,r.iD)("th",{key:e.year},[(0,r.Uk)((0,r.zw)(e.year)+" ",1),(0,r._)("div",Ea,[Pa,(0,r._)("ul",ja,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(t){return i.landOwnedReport(e.year)}},[Ma,(0,r.Uk)(" Звіт про склад земельної ділянки ")],8,Ia)]),Ta,(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(t){return i.editYear(e)}},[Va,(0,r.Uk)(" Редагувати дані ")],8,Ha)]),(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(t){return i.deleteYear(e)}},[za,(0,r.Uk)(" Видалити дані ")],8,Ua)])])])])})),128))])]),(0,r._)("tbody",Za,[(0,r.Wm)(l,{years:a.years,field:"total",rowTitle:"<b>Площа земельних ділянок - усього</b>"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"maintenance",rowTitle:"під забудовою",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"personal_agriculture",rowTitle:"для ведення  <abbr title='особистого селянського господарства'>ОСГ</abbr>",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"hay_cutting",rowTitle:"сінокосіння",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"pastures",rowTitle:"пасовища",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"land_share",rowTitle:"земельний пай",rowTitleClass:"ps-3"},null,8,["years"]),(0,r.Wm)(l,{years:a.years,field:"property_share",rowTitle:"майновий пай",rowTitleClass:"ps-3"},null,8,["years"])])]),(0,r.Wm)(s,{formData:o.yearData,title:o.title,submitCaption:o.submitCaption,action:o.yearDataAction,onCloseYearForm:i.closeYearForm,onRefreshData:t[1]||(t[1]=function(t){return e.$emit("refreshData")})},null,8,["formData","title","submitCaption","action","onCloseYearForm"])],64)}]]);var sr={class:"mb-3"},dr=(0,r._)("span",{class:"mdi mdi-calendar me-1"},null,-1),ur={key:0,class:"table table-sm table-bordered"},cr=(0,r._)("thead",{class:"bg-body-secondary"},[(0,r._)("tr",null,[(0,r._)("th",{style:{width:"150px"}},"Дата"),(0,r._)("th",null,"Подія"),(0,r._)("th",null,"Коментар"),(0,r._)("th",{style:{width:"100px"}})])],-1),mr={class:"text-center"},fr=["onClick"],pr=[(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)],hr=["onClick"],br=[(0,r._)("span",{class:"mdi mdi-trash-can-outline"},null,-1)],_r={key:1,class:"text-center text-muted"};var yr={class:"row mb-3"},vr={class:"col"},wr=(0,r._)("label",{for:"movementEventType",class:"form-label"},"Подія",-1),gr=(0,r._)("option",{disabled:"",value:"0"},"Оберить подію",-1),Dr=["value"],kr={id:"movementEventValidation",class:"invalid-feedback"},Cr={class:"row mb-3"},Fr={class:"col"},xr=(0,r._)("label",{for:"movementEventDate",class:"form-label"},"Дата",-1),Sr={id:"movementEventValidation",class:"invalid-feedback"},Or={class:"row mb-3"},Er={class:"col"},Pr=(0,r._)("label",{for:"movementEventComment",class:"form-label"},"Примітка",-1),jr={id:"movementEventCommentValidation",class:"invalid-feedback"};const Ir={name:"MovementForm",mixins:[Ie.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},title:{type:String,required:!0},submitCaption:{type:String,required:!0},movementTypes:{type:Array,required:!0}},emits:["refreshData"],data:function(){return{apiUrl:"/api/v1/household-member-lands"}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post("/api/v1/household-member-movements",this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData"),e.clearForm()}))})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/household-member-movements/".concat(this.formData.id),this.formData).then((function(t){e.$toast(t.data.message),axios.get("/api/v1/household-members/".concat(e.formData.member_id)).then((function(t){e.$emit("refreshData")}))})).catch((function(t){e.errors=t.response.data.errors}))},clearForm:function(){this.formData.date=null,this.formData.movement_type_id=0,this.formData.comment="",this.errors=[]},closeForm:function(){this.clearForm()}},components:{ModalForm:je.Z}},Mr=(0,Ze.Z)(Ir,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"MovementForm",submitCaption:a.submitCaption,title:a.title,onCloseForm:i.closeForm,onSubmitData:i.submitData,modalContentClass:"second-modal"},{default:(0,r.w5)((function(){return[(0,r._)("div",yr,[(0,r._)("div",vr,[wr,(0,r.wy)((0,r._)("select",{class:(0,r.C_)(["form-control",e.hasError("movement_type_id")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.movement_type_id=e})},[gr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.movementTypes,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.name),9,Dr)})),128))],2),[[r.bM,a.formData.movement_type_id]]),(0,r._)("div",kr,(0,r.zw)(e.getError("movement_type_id")),1)])]),(0,r._)("div",Cr,[(0,r._)("div",Fr,[xr,(0,r.wy)((0,r._)("input",{type:"date",class:(0,r.C_)(["form-control",e.hasError("date")?"is-invalid":""]),id:"movementEvent","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.date=e})},null,2),[[r.nr,a.formData.date]]),(0,r._)("div",Sr,(0,r.zw)(e.getError("date")),1)])]),(0,r._)("div",Or,[(0,r._)("div",Er,[Pr,(0,r.wy)((0,r._)("input",{type:"text",class:(0,r.C_)(["form-control",e.hasError("comment")?"is-invalid":""]),id:"movementEventComment","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.comment=e})},null,2),[[r.nr,a.formData.comment]]),(0,r._)("div",jr,(0,r.zw)(e.getError("comment")),1)])])]})),_:1},8,["submitCaption","title","onCloseForm","onSubmitData"])}]]),Tr={name:"MemberMovementsTab",mixins:[Q.Z],props:{member_id:{type:[String,Number],required:!0},movements:{type:Array,required:!0}},components:{MovementForm:Mr},emits:["refreshData"],data:function(){return{movementTypes:[],eventForm:{member_id:null,date:null,movement_type_id:0,comment:""},title:"",movementAction:"",submitCaption:""}},methods:{showMovementEventForm:function(){this.title="Додати подію",this.submitCaption="Додати",this.movementAction="create",this.eventForm.member_id=this.member_id,new J.u_(document.getElementById("MovementForm")).show()},editMovementEvent:function(e){Object.assign(this.eventForm,e),this.title="Редагувати подію",this.submitCaption="Зберегти",this.movementAction="update",new J.u_(document.getElementById("MovementForm")).show()},closeForm:function(){this.clearMovementEventForm()},deleteMovementEvent:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити інформацію о реєстрації / переміщенні").then((function(a){a.isConfirmed&&axios.delete("/api/v1/household-member-movements/".concat(e)).then((function(e){t.$toast(e.data.message),t.$emit("refreshData")}))}))}},created:function(){var e=this;axios.get("/api/v1/movement-types").then((function(t){e.movementTypes=t.data.data}))}},Hr=(0,Ze.Z)(Tr,[["render",function(e,t,a,n,o,i){var l,s=(0,r.up)("MovementForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",sr,[(0,r._)("button",{class:"btn btn-sm btn-outline-secondary",title:"Додати подію",onClick:t[0]||(t[0]=function(){return i.showMovementEventForm&&i.showMovementEventForm.apply(i,arguments)})},[dr,(0,r.Uk)(" Додати подію ")])]),null!==(l=a.movements)&&void 0!==l&&l.length?((0,r.wg)(),(0,r.iD)("table",ur,[cr,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.movements,(function(t,a){return(0,r.wg)(),(0,r.iD)("tr",{key:a,class:"align-middle"},[(0,r._)("td",null,(0,r.zw)(e.formatedDate(t.date)),1),(0,r._)("td",null,(0,r.zw)(t.movement_type.name),1),(0,r._)("td",null,(0,r.zw)(t.comment),1),(0,r._)("td",mr,[(0,r._)("button",{class:"btn btn-sm btn-outline-warning btn-transparent me-3",title:"Редагувати подію",onClick:function(e){return i.editMovementEvent(t)}},pr,8,fr),(0,r._)("button",{class:"btn btn-sm btn-outline-danger btn-transparent",title:"Видалити подію",onClick:function(e){return i.deleteMovementEvent(t.id)}},br,8,hr)])])})),128))])])):((0,r.wg)(),(0,r.iD)("div",_r," Інформація відсутня ")),(0,r.Wm)(s,{formData:o.eventForm,title:o.title,submitCaption:o.submitCaption,action:o.movementAction,movementTypes:o.movementTypes,onRefreshData:t[1]||(t[1]=function(t){return e.$emit("refreshData")})},null,8,["formData","title","submitCaption","action","movementTypes"])],64)}]]);var Vr={class:"row"},Ur={class:"col-md-10 mx-auto"},zr={class:"table table-sm"},Zr=["for"],Yr={key:0,class:"form-check form-switch"},Ar=["id","disabled","onUpdate:modelValue"],qr=["id","disabled","onUpdate:modelValue"],Rr={class:"row"},$r={class:"d-flex justify-content-end"},Wr=(0,r._)("span",{class:"mdi mdi-pencil"},null,-1),Lr=["disabled"],Nr=(0,r._)("span",{class:"mdi mdi-check-all"},null,-1);const Br={name:"MemberAdditionalParam",props:{member_id:{type:[String,Number],required:!0},additionalParams:{type:Array,required:!0}},data:function(){return{_additionalParams:[],isInEditMode:!1}},methods:{editData:function(){this.isInEditMode=!0,this._additionalParams=JSON.parse(JSON.stringify(this.additionalParams))},cancelEdit:function(){this.isInEditMode=!1,this._additionalParams=[],this.$emit("refreshData")},updateAdditionalParams:function(){var e=this,t=this,a=this.additionalParams.filter((function(e,a){return console.log(e.value,t._additionalParams[a].value),e.value!==t._additionalParams[a].value}));if(a.length>0){var r={};a.forEach((function(e){r[e.code]=e.value})),r.owner_id=this.member_id,console.log(r),axios.post("/api/v1/member-additional-params",r).then((function(t){e.$toast(t.data.message),e.$emit("refreshData")}))}}},computed:{additionalParamsWereChanged:function(){return JSON.stringify(this.additionalParams)!==JSON.stringify(this._additionalParams)}}},Kr=(0,Ze.Z)(Br,[["render",function(e,t,a,n,o,i){return(0,r.wg)(),(0,r.iD)("div",Vr,[(0,r._)("div",Ur,[(0,r._)("table",zr,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.additionalParams,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.id,class:"align-middle"},[(0,r._)("td",null,[(0,r._)("label",{for:e.code,style:{cursor:"pointer"}},(0,r.zw)(e.name),9,Zr)]),(0,r._)("td",null,["boolean"==e.value_type_code?((0,r.wg)(),(0,r.iD)("div",Yr,[(0,r.wy)((0,r._)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.code,disabled:!o.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,Ar),[[r.e8,e.value]])])):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:1,type:"text",class:"form-control form-control-sm",id:e.code,disabled:!o.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,qr)),[[r.nr,e.value]])])])})),128))])]),(0,r._)("div",Rr,[(0,r._)("div",$r,[o.isInEditMode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-sm btn-outline-secondary",title:"Редагувати дані",onClick:t[0]||(t[0]=function(){return i.editData&&i.editData.apply(i,arguments)})},[Wr,(0,r.Uk)(" Редагувати ")])),o.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"btn btn-sm btn-outline-secondary",title:"Відмінити редагування",onClick:t[1]||(t[1]=function(){return i.cancelEdit&&i.cancelEdit.apply(i,arguments)})}," Відмінити ")):(0,r.kq)("",!0),o.isInEditMode?((0,r.wg)(),(0,r.iD)("button",{key:2,class:"btn btn-sm btn-outline-primary ms-3",title:"Встановити додаткові параметри",onClick:t[2]||(t[2]=function(){return i.updateAdditionalParams&&i.updateAdditionalParams.apply(i,arguments)}),disabled:!i.additionalParamsWereChanged},[Nr,(0,r.Uk)(" Встановити ")],8,Lr)):(0,r.kq)("",!0)])])])])}]]),Jr={name:"HouseholdMemberInfo",props:{formData:{type:Object,required:!0}},data:function(){return{currentTab:"MainInfo"}},methods:{closeForm:function(){},cancelEditInfo:function(){}},computed:{componentProps:function(){return"MainInfo"==this.currentTab?{formData:Object.assign({},this.formData)}:"LandYears"==this.currentTab?{member:{id:this.formData.id,surname:this.formData.surname,name:this.formData.name,patronymic:this.formData.patronymic},years:this.formData.land}:"Movements"==this.currentTab?{member_id:this.formData.id,movements:this.formData.movements}:"AdditionalParams"==this.currentTab?{member_id:this.formData.id,additionalParams:this.formData.additional_params}:void 0}},components:{ModalForm:je.Z,MainInfo:Fa,LandYears:lr,Movements:Hr,AdditionalParams:Kr}};var Gr=a(3379),Qr=a.n(Gr),Xr=a(8096),en={insert:"head",singleton:!1};Qr()(Xr.Z,en);Xr.Z.locals;const tn=(0,Ze.Z)(Jr,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseholdMemberInfo",onCloseForm:i.closeForm,modalClass:"modal-1200",showFooter:!1},{default:(0,r.w5)((function(){return[(0,r._)("div",qe,[(0,r._)("div",Re,[(0,r._)("ul",$e,[(0,r._)("li",We,[(0,r._)("button",{class:(0,r.C_)(["nav-link","MainInfo"==o.currentTab?"active":""]),id:"main-tab",onClick:t[0]||(t[0]=function(e){return o.currentTab="MainInfo"}),type:"button"},[Le,(0,r.Uk)(" Головна інформація ")],2)]),(0,r._)("li",Ne,[(0,r._)("button",{class:(0,r.C_)(["nav-link","LandYears"==o.currentTab?"active":""]),id:"main-tab",onClick:t[1]||(t[1]=function(e){return o.currentTab="LandYears"}),type:"button"},[Be,(0,r.Uk)(" Земля ")],2)]),(0,r._)("li",Ke,[(0,r._)("button",{class:(0,r.C_)(["nav-link","Movements"==o.currentTab?"active":""]),id:"movement-tab",onClick:t[2]||(t[2]=function(e){return o.currentTab="Movements"}),type:"button"},[Je,(0,r.Uk)(" Реєстрація / Переміщення ")],2)]),(0,r._)("li",Ge,[(0,r._)("button",{class:(0,r.C_)(["nav-link","AdditionalParams"==o.currentTab?"active":""]),id:"movement-tab",onClick:t[3]||(t[3]=function(e){return o.currentTab="AdditionalParams"}),type:"button"},[Qe,(0,r.Uk)(" Додаткова параметри ")],2)])]),(0,r._)("div",Xe,[((0,r.wg)(),(0,r.j4)(r.Ob,null,[((0,r.wg)(),(0,r.j4)((0,r.LL)(o.currentTab),(0,r.dG)(i.componentProps,{onRefreshData:t[4]||(t[4]=function(t){return e.$emit("refreshData",a.formData.id)})}),null,16))],1024))])])])]})),_:1},8,["onCloseForm"])}],["__scopeId","data-v-489c0c69"]]);var an=function(e){return(0,r.dD)("data-v-da3ae8d4"),e=e(),(0,r.Cn)(),e},rn={class:"table table-bordered table-sm"},nn=an((function(){return(0,r._)("th",null,null,-1)})),on={class:"member-name__horizontal"},ln={class:"member-name__horizontal"},sn={key:0,class:"brick"},dn={key:1,class:"align-middle"},un=["id","data-sex","onUpdate:modelValue","title"],cn=an((function(){return(0,r._)("option",{value:"0",disabled:""},"оберіть зв'язок",-1)})),mn=["value"],fn=["value"];function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function hn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function bn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(a),!0).forEach((function(t){vn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _n(e){return function(e){if(Array.isArray(e))return yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function vn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==pn(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const wn={name:"HouseholdMembersComposition",props:{members:{type:Array,required:!0}},data:function(){return{availableLinks:{},establishedLinks:{},relativePairs:{}}},methods:{submitData:function(){var e=this;JSON.stringify(this.availableLinks)!==JSON.stringify(this.establishedLinks)&&axios.post("/api/v1/establish-family-relationships",this.availableLinks).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message)}))},closeForm:function(){this.$emit("closeForm")},makeMatrixFromMembers:function(){var e=this,t=[];this.members.forEach((function(a){var r=e.members.filter((function(e){return e.id!==a.id})).map((function(e){var t=0,r=a.relatives.find((function(t){return t.relative_id==e.id}));return r&&(t=r.relationship_type_id),vn({},"".concat(a.id,".").concat(e.id),t)}));t.push.apply(t,_n(r))})),t.forEach((function(t){e.availableLinks[Object.keys(t)[0]]=Object.values(t)[0]})),this.establishedLinks=bn({},this.availableLinks),this.relativePairs["чоловік.жіноча"]="дружина",this.relativePairs["дружина.чоловіча"]="чоловік",this.relativePairs["син.чоловіча"]="батько",this.relativePairs["син.жіноча"]="мати",this.relativePairs["дочка.чоловіча"]="батько",this.relativePairs["дочка.жіноча"]="мати",this.relativePairs["батько.чоловіча"]="син",this.relativePairs["батько.жіноча"]="дочка",this.relativePairs["мати.чоловіча"]="син",this.relativePairs["мати.жіноча"]="дочка",this.relativePairs["тесть.чоловіча"]="зять",this.relativePairs["теща.жіноча"]="зять",this.relativePairs["свекор.чоловіча"]="невістка",this.relativePairs["свекруха.жіноча"]="невістка",this.relativePairs["невістка.чоловіча"]="свекор",this.relativePairs["невістка.жіноча"]="свекруха",this.relativePairs["дід.чоловіча"]="онук",this.relativePairs["дід.жіноча"]="онука",this.relativePairs["баба.чоловіча"]="онук",this.relativePairs["баба.жіноча"]="онука",this.relativePairs["онука.чоловіча"]="дід",this.relativePairs["онука.жіноча"]="баба",this.relativePairs["онук.чоловіча"]="дід",this.relativePairs["онук.жіноча"]="баба",this.relativePairs["брат.чоловіча"]="брат",this.relativePairs["брат.жіноча"]="сестра",this.relativePairs["сестра.чоловіча"]="брат",this.relativePairs["сестра.жіноча"]="сестра",this.relativePairs["прадід.чоловіча"]="правнук",this.relativePairs["прадід.жіноча"]="правнука",this.relativePairs["прабаба.чоловіча"]="правнук",this.relativePairs["прабаба.жіноча"]="правнучка"},relationshipSelected:function(e){var t=e.target.selectedOptions[0].text,a=e.target.id.split(".").reverse().join("."),r=document.getElementById(a).dataset.sex,n=this.relativePairs["".concat(t,".").concat(r)];this.availableLinks[a]="чоловіча"==r?this.maleRelationships.find((function(e){return e.name==n})).id:this.femaleRelationships.find((function(e){return e.name==n})).id}},computed:bn(bn({},(0,G.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),{},{maleRelationships:function(){return this.relationshipTypes.filter((function(e){return"чоловіча"==e.sex}))},femaleRelationships:function(){return this.relationshipTypes.filter((function(e){return"жіноча"==e.sex}))},submitIsDisabled:function(){return JSON.stringify(this.availableLinks)===JSON.stringify(this.establishedLinks)}}),created:function(){this.makeMatrixFromMembers()},components:{ModalForm:je.Z}};var gn=a(8050),Dn={insert:"head",singleton:!1};Qr()(gn.Z,Dn);gn.Z.locals;const kn=(0,Ze.Z)(wn,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"HouseholdMembersComposition",onSubmitData:i.submitData,onCloseForm:i.closeForm,modalClass:"modal-fullscreen",sumbitIsDisabled:i.submitIsDisabled},{default:(0,r.w5)((function(){return[(0,r._)("table",rn,[(0,r._)("thead",null,[(0,r._)("tr",null,[nn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.members,(function(e){return(0,r.wg)(),(0,r.iD)("th",{key:"header-".concat(e.id)},[(0,r._)("div",on,[(0,r._)("span",null,(0,r.zw)(e.surname),1),(0,r._)("span",null,(0,r.zw)(e.name)+" "+(0,r.zw)(e.patronymic),1)])])})),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.members,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:"row-".concat(e.id)},[(0,r._)("td",null,[(0,r._)("div",ln,[(0,r._)("span",null,(0,r.zw)(e.surname),1),(0,r._)("span",null,(0,r.zw)(e.name)+" "+(0,r.zw)(e.patronymic),1)])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.members,(function(a){return(0,r.wg)(),(0,r.iD)(r.HY,{key:"cell-".concat(a.id)},[a.id==e.id?((0,r.wg)(),(0,r.iD)("td",sn)):((0,r.wg)(),(0,r.iD)("td",dn,[(0,r.wy)((0,r._)("select",{name:"familyRelationship",id:"".concat(e.id,".").concat(a.id),"data-sex":a.sex,class:"form-control",onChange:t[0]||(t[0]=function(e){return i.relationshipSelected(e)}),"onUpdate:modelValue":function(t){return o.availableLinks["".concat(e.id,".").concat(a.id)]=t},title:"Ким являється ".concat(a.surname," ").concat(a.name," ").concat(a.patronymic," по відношенню  до  ").concat(e.surname," ").concat(e.name," ").concat(e.patronymic)},[cn,"чоловіча"==a.sex?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(i.maleRelationships,(function(e){return(0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.name),9,mn)})),128)):((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(i.femaleRelationships,(function(e){return(0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.name),9,fn)})),128))],40,un),[[r.bM,o.availableLinks["".concat(e.id,".").concat(a.id)]]])]))],64)})),128))])})),128))])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}],["__scopeId","data-v-da3ae8d4"]]);var Cn=function(e){return(0,r.dD)("data-v-8fe47afa"),e=e(),(0,r.Cn)(),e},Fn={class:"row mb-3"},xn={class:"col"},Sn=Cn((function(){return(0,r._)("label",{for:"reportInitiator",class:"form-label"},"Член родини",-1)})),On=["disabled"],En=Cn((function(){return(0,r._)("option",{disabled:"",value:"0"},"Оберить члена родини",-1)})),Pn=["value"],jn={class:"row"},In={class:"relatives"},Mn={class:"table table-sm table-bordered table-600"},Tn={class:"table-secondary"},Hn=Cn((function(){return(0,r._)("th",null,"Відносини",-1)})),Vn=Cn((function(){return(0,r._)("th",null,"Прізвище І.Б.",-1)})),Un=Cn((function(){return(0,r._)("th",null,"Рік народження",-1)})),zn=["onUpdate:modelValue"];const Zn={name:"FamilyCompositionReportForm",props:{members:{type:Array,required:!0},selectedMember:{type:[String,Number],required:!1,default:0}},mixins:[Q.Z],data:function(){return{memberId:this.selectedMember,relatives:[],allSelected:!1}},methods:{submitData:function(){var e=this,t={report:"familyComposition",member_id:this.memberId,relatives:""};t.relatives=this.relatives.filter((function(e){return e.selected})).map((function(e){return e.relative_id})).join(","),axios.post("/api/v1/generate-report",t,{responseType:"arraybuffer"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=a;var n=e.members.find((function(t){return t.id==e.memberId})),o="".concat(n.surname," ").concat(n.name," ").concat(n.patronymic,". Довідка про склад родини.docx");r.setAttribute("download",o),document.body.appendChild(r),r.click(),e.closeForm()}))},closeForm:function(){this.memberId=0,this.relatives=[],this.allSelected=!1,this.$emit("closeFamilyCompositionReportForm")}},computed:{},watch:{memberId:function(e){var t=this;if(0!=e){var a=this.members.find((function(e){return e.id==t.memberId}));a?(this.relatives=a.relatives,this.relatives.forEach((function(e){return e.selected=!0})),this.allSelected=!0):this.relatives=[]}else this.relatives=[]},allSelected:function(e){e?this.relatives.forEach((function(e){return e.selected=!0})):this.relatives.length>0&&this.relatives.forEach((function(e){return e.selected=!1}))}},beforeUpdate:function(){this.memberId=this.selectedMember},components:{ModalForm:je.Z}};var Yn=a(2985),An={insert:"head",singleton:!1};Qr()(Yn.Z,An);Yn.Z.locals;const qn=(0,Ze.Z)(Zn,[["render",function(e,t,a,n,o,i){var l=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(l,{formId:"FamilyCompositionReportForm",onSubmitData:i.submitData,onCloseForm:i.closeForm,modalClass:"modal-lg"},{default:(0,r.w5)((function(){return[(0,r._)("div",Fn,[(0,r._)("div",xn,[Sn,(0,r.wy)((0,r._)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.memberId=e}),disabled:0!=a.selectedMember},[En,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.members,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.surname)+" "+(0,r.zw)(e.name)+" "+(0,r.zw)(e.patronymic),9,Pn)})),128))],8,On),[[r.bM,o.memberId]])])]),(0,r._)("div",jn,[(0,r._)("div",In,[(0,r.wy)((0,r._)("table",Mn,[(0,r._)("thead",Tn,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",title:"Обрати усіх","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.allSelected=e}),class:"form-check-input"},null,512),[[r.e8,o.allSelected]])]),Hn,Vn,Un])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.relatives,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{key:t.id,class:(0,r.C_)({"text-muted":!t.selected})},[(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"checkbox","onUpdate:modelValue":function(e){return t.selected=e},class:"form-check-input"},null,8,zn),[[r.e8,t.selected]])]),(0,r._)("td",null,(0,r.zw)(t.relation),1),(0,r._)("td",null,(0,r.zw)(t.surname)+" "+(0,r.zw)(t.name)+" "+(0,r.zw)(t.patronymic),1),(0,r._)("td",null,(0,r.zw)(e.formatedDate(t.birthdate)),1)],2)})),128))])],512),[[r.F8,o.relatives.length>0]])])])]})),_:1},8,["onSubmitData","onCloseForm"])}],["__scopeId","data-v-8fe47afa"]]);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function $n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Wn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Rn(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ln={name:"HouseholdMembers",mixins:[Q.Z],data:function(){return{formData:{household_id:null,surname:"",name:"",patronymic:"",sex:"",birthdate:null,family_relationship_type_id:0,employment_information:"",social_information:"",additional_information:"",work_place_id:0,death_date:null,death_register_number:"",death_register_office:"",land:[],movements:[],additional_params:[]},modalTitle:"",modalSubmitCaption:"",viewMode:"card",formIsReady:!1,showAllMembers:!1,isFamilyCompositionFormShown:!1,selectedMember:0,selectedLandYear:0}},provide:function(){var e=this;return{modalTitle:(0,r.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.Fl)((function(){return e.modalSubmitCaption}))}},methods:{newMember:function(e){this.modalTitle="Новий член домогосподарства",this.modalSubmitCaption="Додати",this.formData.household_id=this.household_id,new J.u_(document.getElementById("HouseholdMemberForm")).show()},showHouseholdMemberInfo:function(e){var t=this;axios.get("/api/v1/household-members/".concat(e.id)).then((function(a){t.formIsReady=!0,t.$nextTick((function(){var t=new J.u_(document.getElementById("HouseholdMemberInfo"));this.modalTitle="".concat(e.surname," ").concat(e.name," ").concat(e.patronymic),Object.assign(this.formData,a.data.data),t.show()}))}))},closeMemberInfoForm:function(){this.formData.surname="",this.formData.name="",this.formData.patronymic="",this.formData.sex="",this.formData.birthdate=null,this.formData.family_relationship_type_id=0,this.formData.employment_information="",this.formData.social_information="",this.formData.additional_information="",this.formData.work_place_id=0,this.formData.death_date=null,this.formData.death_register_number="",this.formData.death_register_office="",this.formData.land=[],this.formData.movements=[],this.formData.additional_params=[],this.formIsReady=!1},refreshMemberInfo:function(e){var t=this;axios.get("/api/v1/household-members/".concat(e)).then((function(e){Object.assign(t.formData,e.data.data),t.modalTitle="".concat(t.formData.surname," ").concat(t.formData.name," ").concat(t.formData.patronymic)}))},deleteMember:function(e){var t=this;axios.delete("/api/v1/household-members/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchHousehold",t.household_id),t.clearFormData(),J.u_.getInstance("#HouseholdMemberForm").hide()}))},toggleFullScreen:function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen();else{var e=document.getElementById("members");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()}},openMembersCompositionForm:function(){this.modalTitle="Родині відносини",this.modalSubmitCaption="Встановити",this.isFamilyCompositionFormShown=!0,new J.u_(document.getElementById("HouseholdMembersComposition")).show()},openFamilyCompositionReportForm:function(e){this.modalTitle="Довідка про стан родини",this.modalSubmitCaption="Друк",this.selectedMember=e,new J.u_(document.getElementById("FamilyCompositionReportForm")).show()},closeFamilyCompositionReportForm:function(){J.u_.getInstance("#FamilyCompositionReportForm").hide(),this.selectedMember=0},landOwnedReport:function(e){var t={report:"landOwned",year:this.selectedLandYear,member_id:e.id};axios.post("/api/v1/generate-report",t,{responseType:"arraybuffer"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=a;var n="".concat(e.surname," ").concat(e.name," ").concat(e.patronymic,". Довідка про склад земельної ділянки.docx");r.setAttribute("download",n),document.body.appendChild(r),r.click()}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(a),!0).forEach((function(t){Wn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({shownMembers:function(){return this.showAllMembers?this.members:this.members.filter((function(e){return"active"==e.status}))},hiddenMemebersExist:function(){return this.members.some((function(e){return-1!==["dead","gone"].indexOf(e.status)}))}},(0,G.Se)("Households",["members","household_id","availableLandYears"])),components:{HouseholdMemberForm:Ye,HouseholdMemberInfo:tn,HouseholdMembersComposition:kn,FamilyCompositionReportForm:qn}};var Nn=a(7461),Bn={insert:"head",singleton:!1};Qr()(Nn.Z,Bn);Nn.Z.locals;const Kn=(0,Ze.Z)(Ln,[["render",function(e,t,a,n,J,G){var Q=(0,r.up)("HouseholdMemberForm"),X=(0,r.up)("HouseholdMemberInfo"),ee=(0,r.up)("HouseholdMembersComposition"),te=(0,r.up)("FamilyCompositionReportForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("div",null,[(0,r._)("button",{type:"button",id:"newMember",class:"btn btn-sm btn-outline-secondary",title:"Додати нового члена домогосподарства",onClick:t[0]||(t[0]=function(e){return G.newMember(e)})},[l,(0,r.Uk)(" новий член ")]),e.members.length>0?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",id:"membersComposition",class:"btn btn-sm btn-outline-secondary ms-2",title:"Встановити родинні відносини",onClick:t[1]||(t[1]=function(){return G.openMembersCompositionForm&&G.openMembersCompositionForm.apply(G,arguments)})},[s,(0,r.Uk)(" Родинні відносини ")])):(0,r.kq)("",!0),G.hiddenMemebersExist?((0,r.wg)(),(0,r.iD)("button",{key:1,type:"button",class:(0,r.C_)(["ms-2 btn btn-sm btn-outline-secondary",{active:J.showAllMembers}]),title:"Відобразити всіх",onClick:t[2]||(t[2]=function(e){return J.showAllMembers=!J.showAllMembers})},d,2)):(0,r.kq)("",!0)]),(0,r._)("div",null,[(0,r._)("button",{type:"button",title:"Режим карток",class:(0,r.C_)(["btn btn-sm btn-outline-secondary me-2",{active:"card"==J.viewMode}]),onClick:t[3]||(t[3]=function(e){return J.viewMode="card"})},u,2),(0,r._)("button",{type:"button",title:"Режим таблиці",class:(0,r.C_)(["btn btn-sm btn-outline-secondary",{active:"table"==J.viewMode}]),onClick:t[4]||(t[4]=function(e){return J.viewMode="table"})},c,2)])]),(0,r._)("div",m,["card"==J.viewMode?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(G.shownMembers,(function(t){return(0,r.wg)(),(0,r.iD)("div",{class:(0,r.C_)(["card member",["dead"==t.status?"dead":"","gone"==t.status?"gone":""]]),key:t.id,onDblclick:function(e){return G.showHouseholdMemberInfo(t.id)}},[(0,r._)("div",p,[(0,r._)("div",null,[(0,r._)("div",h,(0,r.zw)(t.surname),1),(0,r._)("div",b,(0,r.zw)(t.name)+" "+(0,r.zw)(t.patronymic),1)]),"голова домогосподарства"==t.family_relationship_type?((0,r.wg)(),(0,r.iD)("h4",_,y)):(0,r.kq)("",!0)]),(0,r._)("div",v,[(0,r._)("div",w,[g,(0,r.Uk)(" "+(0,r.zw)(t.family_relationship_type),1)]),(0,r._)("div",D,[(0,r._)("div",null,[k,(0,r._)("span",null,(0,r.zw)(e.formatedDate(t.birthdate)),1)]),null!=t.death_date?((0,r.wg)(),(0,r.iD)("div",C,[F,(0,r._)("span",null,(0,r.zw)(e.formatedDate(t.death_date)),1)])):(0,r.kq)("",!0)])]),(0,r._)("div",x,[(0,r._)("div",S,[O,(0,r._)("ul",E,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:function(e){return G.openFamilyCompositionReportForm(t.id)}},[j,(0,r.Uk)(" Довідка про склад сім'ї ")],8,P)])])]),(0,r._)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent",onClick:function(e){return G.showHouseholdMemberInfo(t)}},M,8,I)])],42,f)})),128)),(0,r._)("div",T,[(0,r._)("div",{title:"Додати нового члена домогосподарства",onClick:t[5]||(t[5]=function(e){return G.newMember(e)})},H)])],64)):((0,r.wg)(),(0,r.iD)("table",V,[(0,r._)("thead",null,[(0,r._)("tr",null,[U,z,Z,Y,A,q,J.showAllMembers?((0,r.wg)(),(0,r.iD)("th",R,"Дата смерті")):(0,r.kq)("",!0),$])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(G.shownMembers,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{key:t.id,class:(0,r.C_)({"table-primary":"голова домогосподарства"==t.family_relationship})},[(0,r._)("td",W,[(0,r._)("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(e){return G.showHouseholdMemberInfo(t)}},N,8,L)]),(0,r._)("td",null,(0,r.zw)(t.surname),1),(0,r._)("td",null,(0,r.zw)(t.name),1),(0,r._)("td",null,(0,r.zw)(t.patronymic),1),(0,r._)("td",null,(0,r.zw)(t.sex),1),(0,r._)("td",B,(0,r.zw)(e.formatedDate(t.birthdate)),1),J.showAllMembers?((0,r.wg)(),(0,r.iD)("td",K,[t.death_date?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,r.zw)(e.formatedDate(t.death_date)),1)],64)):(0,r.kq)("",!0)])):(0,r.kq)("",!0),(0,r._)("td",null,(0,r.zw)(t.family_relationship_type),1)],2)})),128))])]))])]),(0,r.Wm)(Q,{formData:J.formData,onRefreshData:t[6]||(t[6]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["formData"]),J.formIsReady?((0,r.wg)(),(0,r.j4)(X,{key:0,formData:J.formData,onRefreshData:G.refreshMemberInfo,onCloseMemberInfoForm:G.closeMemberInfoForm},null,8,["formData","onRefreshData","onCloseMemberInfoForm"])):(0,r.kq)("",!0),(0,r.Wm)(ee,{members:G.shownMembers,onRefreshData:t[7]||(t[7]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["members"]),(0,r.Wm)(te,{members:G.shownMembers,selectedMember:J.selectedMember,onCloseFamilyCompositionReportForm:G.closeFamilyCompositionReportForm},null,8,["members","selectedMember","onCloseFamilyCompositionReportForm"])],64)}],["__scopeId","data-v-28ee71b0"]])},9374:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var r=a(8222),n=function(e){return(0,r.dD)("data-v-48e6353b"),e=e(),(0,r.Cn)(),e},o={class:"card"},i={class:"card-header"},l={class:"household-card--number"},s={class:"dropdown"},d=n((function(){return(0,r._)("button",{class:"btn btn-sm btn-outline-secondary btn-transparent dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,r._)("span",{class:"mdi mdi-cogs"})],-1)})),u={class:"dropdown-menu"},c=n((function(){return(0,r._)("span",{class:"mdi mdi-pencil text-warning me-1"},null,-1)})),m=n((function(){return(0,r._)("li",null,[(0,r._)("hr",{class:"dropdown-divider"})],-1)})),f=n((function(){return(0,r._)("span",{class:"mdi mdi-trash-can text-danger me-1"},null,-1)})),p={class:"card-body"},h={class:"px-3 pt-3"},b={class:"nav nav-tabs px-3"},_={class:"nav-item"},y=n((function(){return(0,r._)("span",{class:"mdi mdi-information-outline"},null,-1)})),v={class:"nav-item"},w=n((function(){return(0,r._)("span",{class:"mdi mdi-account-multiple-outline"},null,-1)})),g={class:"nav-item"},D=n((function(){return(0,r._)("span",{class:"mdi mdi-home-outline"},null,-1)})),k={class:"nav-item"},C=n((function(){return(0,r._)("span",{class:"mdi mdi-land-fields"},null,-1)}));var F=a(3907),x=a(8877);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const P={name:"ShowCard",inheritAttrs:!1,components:{HouseholdForm:a(6721).Z},props:{id:{type:[String,Number],required:!0}},data:function(){return{formData:{id:this.id,settlement_id:0,household_type_id:0,number:"",address_street_type:"",address_street_name:"",address_house:"",address_corps:"",address_apartment:"",special_marks:"",additional_data:""}}},provide:function(){return{modalTitle:"Редагування облікових картки",modalSubmitCaption:"Зберегти"}},methods:{openHouseholdForm:function(){var e=this;this.formData.id=this.id,this.formData.settlement_id=this.household.info.settlement_id,this.formData.household_type_id=this.household.info.household_type_id,this.formData.number=this.household.info.number,this.formData.special_marks=this.household.info.special_marks,this.formData.additional_data=this.household.info.additional_data;var t=["address_street_type","address_street_name","address_house","address_corps","address_apartment"];this.household.info.raw_address.split(",").forEach((function(a,r){e.formData[t[r]]=a})),new x.u_(document.getElementById("HouseholdForm")).show()},deleteHouseholdCard:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити облікову картку").then((function(a){a.isConfirmed&&axios.delete("/api/v1/households/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchRecords"),t.$toast(e.data.message),t.$router.push({name:"households"})})).catch((function(e){t.$errorMessage("Неможливо видалити картку",e.response.data.message,"Зрозуміло")}))}))},refreshData:function(){this.$store.dispatch("Households/fetchRecord",this.id),this.$store.dispatch("Households/fetchRecords")}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,F.Se)("Households",["household"])),watch:{},created:function(){}};var j=a(3379),I=a.n(j),M=a(3746),T={insert:"head",singleton:!1};I()(M.Z,T);M.Z.locals;const H=(0,a(3744).Z)(P,[["render",function(e,t,a,n,F,x){var S=(0,r.up)("breadcrumbs"),O=(0,r.up)("router-link"),E=(0,r.up)("router-view"),P=(0,r.up)("HouseholdForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(S),(0,r._)("div",o,[(0,r._)("div",i,[(0,r._)("h5",null,[(0,r.Uk)("Облікова картка об'єкта погосподарського обліку "),(0,r._)("span",l,(0,r.zw)(e.household.number),1)]),(0,r.wy)((0,r._)("div",s,[d,(0,r._)("ul",u,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(){return x.openHouseholdForm&&x.openHouseholdForm.apply(x,arguments)})},[c,(0,r.Uk)(" Редагувати ")])]),m,(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",onClick:t[1]||(t[1]=function(t){return x.deleteHouseholdCard(e.household.id)})},[f,(0,r.Uk)(" Видалити ")])])])],512),[[r.F8,"households.show.info"==e.$route.name]])]),(0,r._)("div",p,[(0,r._)("div",h,[(0,r._)("ul",b,[(0,r._)("li",_,[(0,r.Wm)(O,{to:{name:"households.show.info"},class:"nav-link"},{default:(0,r.w5)((function(){return[y,(0,r.Uk)(" Основна інформація ")]})),_:1},8,["to"])]),(0,r._)("li",v,[(0,r.Wm)(O,{to:{name:"households.show.members"},class:"nav-link"},{default:(0,r.w5)((function(){return[w,(0,r.Uk)(" Члени домогосподарства ")]})),_:1},8,["to"])]),(0,r._)("li",g,[(0,r.Wm)(O,{to:{name:"households.show.house-years"},class:"nav-link"},{default:(0,r.w5)((function(){return[D,(0,r.Uk)(" Будинок / Квартира ")]})),_:1},8,["to"])]),(0,r._)("li",k,[(0,r.Wm)(O,{to:{name:"households.show.land-years"},class:"nav-link"},{default:(0,r.w5)((function(){return[C,(0,r.Uk)(" Земля ")]})),_:1},8,["to"])])]),(0,r.Wm)(E)])])]),(0,r.Wm)(P,{formData:F.formData,action:"update",onRefreshData:x.refreshData},null,8,["formData","onRefreshData"])],64)}],["__scopeId","data-v-48e6353b"]])}}]);