"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[37],{4726:(e,t,o)=>{o.d(t,{Z:()=>a});const a={data:function(){return{params:[]}},methods:{fetchAdditionalParamsForFilter:function(e,t){var o=this;axios.get("/api/v1/additional-params?value_type_code=".concat(t,"&category_code=").concat(e)).then((function(e){o.params=e.data.data}))}}}},9335:(e,t,o)=>{o.d(t,{Z:()=>a});const a={methods:{formatedDate:function(e){return new Date(e).toISOString().slice(0,10).split("-").reverse().join(".")}}}},5149:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(8877);const r={methods:{openExportRecordForm:function(){this.modalTitle="Експорт даних",this.modalSubmitCaption="Експорт",new a.u_(document.getElementById("ExportRecordForm")).show()}}}},2965:(e,t,o)=>{o.d(t,{Z:()=>a});const a={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,o=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(o=o.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),o.forEach((function(e){var o="formData.".concat(e);t.$watch(o,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},8297:(e,t,o)=>{o.d(t,{Z:()=>a});const a={methods:{prepareDataForDownload:function(e,t){var o=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=o,a.setAttribute("download",t),document.body.appendChild(a),a.click()}}}},3753:(e,t,o)=>{o.d(t,{Z:()=>a});const a={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors}))}}}},9181:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(8877),r=o(8222);const n={data:function(){return{action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,r.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.computed)((function(){return e.modalSubmitCaption}))}},methods:{newYearData:function(e){this.modalTitle="Додати дані",this.modalSubmitCaption="Додати",this.action="create",this.yearData[this.owner]=this.owner_id;var t=new a.u_(document.getElementById(this.yearFormId));e.ctrlKey&&(this.years.length>0&&(this.yearData=Object.assign({},this.years[this.years.length-1]),this.yearData.year=parseInt(this.yearData.year)+1),this.modalTitle="Додати дані на <b>".concat(this.yearData.year,"</b> рік")),t.show()},deleteYear:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити дані за ".concat(e.year," рік")).then((function(o){o.isConfirmed&&axios.delete("".concat(t.apiUrl,"/").concat(e.id)).then((function(e){t.fetchYears(),t.$toast(e.data.message)})).catch((function(e){t.$errorMessage("Неможливо видалити дані",e.response.data.message,"Зрозуміло")}))}))},editYear:function(e){Object.assign(this.yearData,e),this.modalSubmitCaption="Зберегти",this.modalTitle="Редагувати дані за ".concat(e.year," рік"),this.action="update",new a.u_(document.getElementById(this.yearFormId)).show()}}}},4702:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,'.additional-param-title span[data-v-d20842ac]{cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.additional-param-title span[data-v-d20842ac]:before{right:-17px;transform:rotate(40deg)}.additional-param-title span[data-v-d20842ac]:after,.additional-param-title span[data-v-d20842ac]:before{background:#888;content:"";height:3px;position:absolute;top:9px;transition:.35s;width:10px;z-index:10}.additional-param-title span[data-v-d20842ac]:after{right:-23px;transform:rotate(-40deg)}.additional-param-title span.filtered[data-v-d20842ac]{font-weight:600}.additional-param-title.show span[data-v-d20842ac]:before{transform:rotate(-40deg)}.additional-param-title.show span[data-v-d20842ac]:after{transform:rotate(40deg)}.additional-param-title.show+.additional-param-wrapper[data-v-d20842ac]{height:100%;margin-top:.5rem}.additional-param-wrapper[data-v-d20842ac]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;height:0;overflow:hidden}.additional-param[data-v-d20842ac]{background:hsla(0,0%,89%,.5);border:1px solid #e3e3e3;border-radius:.2rem;display:flex;flex-direction:row;padding:.25rem .75rem;transition:.3s}.additional-param input[data-v-d20842ac]{display:none}.additional-param[data-v-d20842ac]:has(input:checked){background:rgba(44,80,179,.827);border:1px solid #2c50b3;color:#fff}',""]);const n=r},5481:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,"label[data-v-90e814da]{align-items:center;display:flex}div.toggler-wrapper[data-v-90e814da]{-webkit-appearance:none;background-color:#f8f9fa;border-radius:.375rem;box-shadow:inset 0 0 5px rgba(0,0,0,.2);height:42px;outline:none;position:relative;transition:.5s;width:84px}div.toggler-wrapper.isChecked[data-v-90e814da]{background:#03a9f4}div.toggler[data-v-90e814da]{background-blend-mode:luminosity;background-color:#fff;background-image:var(--image-url);background-position:50%;background-repeat:no-repeat;background-size:32px 32px;border-radius:.375rem;box-shadow:0 0 4px 2px rgba(0,0,0,.2);height:42px;left:0;position:absolute;top:0;transform:scale(1.1);transition:.5s;width:42px}div.toggler.isChecked[data-v-90e814da]{background-blend-mode:normal;left:42px}span[data-v-90e814da]{padding-left:.5rem}",""]);const n=r},5704:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".format-type__wrapper[data-v-53181bfe]{display:flex;justify-content:space-between}.not-selected[data-v-53181bfe]{color:red}.format-type[data-v-53181bfe]{align-items:center;border:1px solid #e7e7e7;border-radius:.2rem;box-shadow:1px 1px 3px 1px #e7e7e7;color:var(--clr);display:flex;height:60px;justify-content:center;width:60px}.format-type input[type=radio][data-v-53181bfe]{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:none}.format-type[data-v-53181bfe]:has(input[type=radio]:checked){background:var(--clr);border-color:var(--clr);box-shadow:none;color:#fff;transition:all .3s}.document-orientation__preview[data-v-53181bfe]{align-items:center;border:1px solid #e7e7e7;border-radius:.5rem;box-shadow:1px 1px 3px 1px #e7e7e7;display:flex;height:75px;justify-content:center;width:10ch}.available-field__wrapper[data-v-53181bfe]{display:flex;flex-wrap:wrap;gap:.25rem;padding:0 .5rem}.available-field__wrapper .available-field[data-v-53181bfe]{align-items:center;background:#eee;border:1px solid #d7d7d7;border-radius:.2rem;cursor:pointer;display:flex;font-size:.8rem;padding:.125rem .25rem}.available-field__wrapper .available-field.selected[data-v-53181bfe]{background:#d7d7d7;color:#888;cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;user-select:none}.selected-field__wrapper[data-v-53181bfe]{align-items:flex-start;background:repeating-linear-gradient(-45deg,transparent 0 4px,hsla(0,3%,92%,.349) 4px 6px);border:1px dotted #adb5bd;border-radius:.2rem;display:flex;flex-wrap:wrap;gap:.25rem;min-height:3rem;padding:.5rem}.selected-field__wrapper .selected-field[data-v-53181bfe]{align-items:center;background:#eee;border:1px solid #d7d7d7;border-radius:.2rem;cursor:grabbing;display:flex;font-size:.8rem;padding:0 0 0 1.5rem;position:relative}.selected-field__wrapper .selected-field[data-v-53181bfe]:before{align-items:center;background:#e7e7e7;border-right:1px solid #ccc;color:#dc3545;content:attr(data-field-order);display:flex;font-size:10px;height:100%;justify-content:center;left:0;position:absolute;width:20px}.selected-field__wrapper .selected-field .selected-field__remove[data-v-53181bfe]{border-left:1px solid #ccc;color:#888;cursor:pointer;font-size:16px;font-weight:700;height:100%;margin-left:.5rem;text-align:center;transition:all .3s;width:20px}.selected-field__wrapper .selected-field .selected-field__remove[data-v-53181bfe]:hover{background:#ccc;color:#ff5252}.selected-field__wrapper .no-fields-selected[data-v-53181bfe]{color:var(--bs-secondary-color);display:flex;flex-grow:1;font-size:.8rem;justify-content:center;padding-top:.25rem}.eraser[data-v-53181bfe]{align-items:center;border:1px solid transparent;border-radius:.2rem;display:flex;height:24px;justify-content:center;width:24px}.eraser[data-v-53181bfe]:hover{border:1px solid #e7e7e7}.eraser svg[data-v-53181bfe]{color:red}",""]);const n=r},1575:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".nav-link[data-v-0caee394]{align-items:center;display:flex}.nav-link span[data-v-0caee394]{margin-left:.25rem}a.router-link-exact-active[data-v-0caee394]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}",""]);const n=r},3944:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,"tr td[data-v-30004396]:not(:first-child),tr th[data-v-30004396]:not(:first-child){text-align:center}td.table-cell-bordered[data-v-30004396]{border-left:1px solid #dee2e6;border-right:1px solid #dee2e6}",""]);const n=r},2291:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,"#houseInfo tr td[data-v-761f6553]:last-of-type{text-align:center}",""]);const n=r},167:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".address-label[data-v-302a8b76]{color:rgba(33,37,41,.631);font-size:.8rem}",""]);const n=r},6434:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".household-address span[data-v-2281c636]:last-of-type{color:var(--bs-gray-500)}.household-address span[data-v-2281c636]:last-of-type:hover{color:var(--bs-card-color)}.owners-wrapper .owner[data-v-2281c636]{border:1px dashed transparent;border-radius:5px;display:flex;justify-content:space-between;transition:all .3s ease}.owners-wrapper .owner[data-v-2281c636]:not(:last-child){border-bottom:1px dashed #e7e7e7;margin-bottom:.5rem;padding-bottom:.5rem}.owners-wrapper #no-owner-information[data-v-2281c636]{border:1px solid transparent;padding:.75rem}.owners-wrapper #no-owner-information.hide[data-v-2281c636]{display:none}.owner-drop-zone[data-v-2281c636]{background:repeating-linear-gradient(-45deg,transparent 0 4px,#e7e7e7 4px 6px);border:1px dotted #adb5bd;border-radius:.2rem;color:#a9a9a9;display:none;padding:.75rem;text-align:center;transition:all .3s ease}.owner-drop-zone.active[data-v-2281c636]{display:block}@media (min-width:1200px){.household-head[data-v-2281c636]{height:39px}}",""]);const n=r},2789:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".settlement[data-v-2627b607]{border:1px solid #eee;border-radius:.2rem;display:flex;flex-direction:column;padding:.5rem 1rem}.settlement .settlement-name[data-v-2627b607]{font-size:1.1rem}.settlement .cards-count[data-v-2627b607]{color:var(--bs-gray-600);text-align:end}",""]);const n=r},1553:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,"table tr td[data-v-6287f745]:first-child,table tr td[data-v-6287f745]:last-child,table tr th[data-v-6287f745]:first-child,table tr th[data-v-6287f745]:last-child{text-align:center}",""]);const n=r},3460:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".form-steps[data-v-27a29af7]{list-style:none;padding:1rem}.step[data-v-27a29af7]{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:1rem 0;transition:all .3s}.step.active[data-v-27a29af7]{font-weight:700}.step.active .icon[data-v-27a29af7]{background:#0a2558;color:#fff}.step.has-error span[data-v-27a29af7]{color:red}.step.has-error .icon[data-v-27a29af7]{background:red;color:#fff}.step .icon[data-v-27a29af7]{align-items:center;background:#e7e7e7;border-radius:999px;display:flex;height:36px;justify-content:center;width:36px}",""]);const n=r},7303:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,'.member[data-v-64a0dcc0]{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;width:220px}.member[data-v-64a0dcc0]:active,.member[data-v-64a0dcc0]:hover{-webkit-font-smoothing:subpixel-antialiased;box-shadow:0 0 2px 3px #e7e7e7;transition:all .3s ease}.member-surname[data-v-64a0dcc0]{font-size:1.1rem;font-weight:700}.member .family-relationship[data-v-64a0dcc0]{height:2rem}.member #householdHead[data-v-64a0dcc0]{color:var(--bs-primary);position:absolute;right:4px;top:4px}.member.dead[data-v-64a0dcc0]{background:#d3d3d3}.member.gone[data-v-64a0dcc0]{border-color:red}.new-member[data-v-64a0dcc0]{margin-left:1rem}.new-member[data-v-64a0dcc0],.new-member div[data-v-64a0dcc0]{align-items:center;display:flex}.new-member div[data-v-64a0dcc0]{border:2px solid #e7e7e7;border-radius:999px;height:72px;justify-content:center;transition:all .3s ease;width:72px}.new-member div svg[data-v-64a0dcc0]{color:#6c757d}.new-member div[data-v-64a0dcc0]:hover{border-color:var(--bs-primary);transform:scale(1.1)}.new-member div:hover svg[data-v-64a0dcc0]{color:var(--bs-primary)}#members[data-v-64a0dcc0]:fullscreen{padding:2rem}#members:fullscreen button#newMember[data-v-64a0dcc0]{display:none}[data-v-64a0dcc0]:not(:root):fullscreen::backdrop{background:#f8fafc;padding:2rem}.dropdown-menu .select-year[data-v-64a0dcc0]{background:#f8fafc;border-color:#f8fafc;border-radius:.175rem;color:#555;cursor:pointer;padding:0 .75rem 0 .25rem;text-indent:1px;text-overflow:""}.dropdown-menu .select-year[data-v-64a0dcc0]:focus-visible{outline:none}',""]);const n=r},6998:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,'.member-name__horizontal[data-v-1f09809d]{display:flex;flex-direction:column;font-weight:700}.member-name__horizontal span[data-v-1f09809d]:not(:first-of-type){font-size:.8rem}td.member__dead[data-v-1f09809d],th.member__dead[data-v-1f09809d],tr[data-v-1f09809d]:has(td:first-of-type.member__dead){background:#e9ecef}thead th.member__dead[data-v-1f09809d],tr td:first-of-type.member__dead[data-v-1f09809d]{position:relative}thead th.member__dead[data-v-1f09809d]:after,tr td:first-of-type.member__dead[data-v-1f09809d]:after{content:"\\f0b7f";font-family:Material Design Icons;font-size:16px;position:absolute;right:2px;top:2px}.brick[data-v-1f09809d]{background:repeating-linear-gradient(-45deg,transparent 0 4px,#e7e7e7 4px 6px)}',""]);const n=r},5445:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".card-header[data-v-90521394]{height:50px}.card-header .card-title[data-v-90521394]{align-items:center;display:flex;font-size:1.1rem;margin-bottom:0}.card-header .card-title span.go-back-page[data-v-90521394]{font-size:1.1rem;height:30px;opacity:.5;transition:all .3s;width:30px}.card-header .card-title span.go-back-page[data-v-90521394]:hover{fill:var(--bs-primary);opacity:1}.card-header .card-title span[data-v-90521394]:nth-of-type(2){border-left:1px solid #adb5bd;margin-left:1rem;padding-left:1rem;padding-right:1rem}a.router-link-exact-active[data-v-90521394]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}.household-card-number[data-v-90521394]{font-weight:600;margin-left:.5rem}",""]);const n=r},6331:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,"label.form-label.filtered{font-weight:600}",""]);const n=r},6829:(e,t,o)=>{o.d(t,{Z:()=>f});var a=o(8222),r={class:"row mb-3"},n={class:"col h-100"},l={class:"additional-param-wrapper"},i=["for"],s=["name","id","onUpdate:modelValue"];const d={name:"AdditionalParamsFormFilter",props:{params:{type:Array,requiered:!0},filter:{type:Object,requiered:!0}},data:function(){return{paramsAreShown:!1}},methods:{toggleAdditionalParams:function(){this.paramsAreShown=!this.paramsAreShown}},computed:{selectedParams:function(){var e=this;return Object.keys(this.filter.additionalParams).some((function(t){return e.filter.additionalParams[t]}))}}};var c=o(3379),m=o.n(c),u=o(4702),p={insert:"head",singleton:!1};m()(u.Z,p);u.Z.locals;const f=(0,o(3744).Z)(d,[["render",function(e,t,o,d,c,m){return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["additional-param-title",{show:c.paramsAreShown}])},[(0,a.createElementVNode)("span",{onClick:t[0]||(t[0]=function(){return m.toggleAdditionalParams&&m.toggleAdditionalParams.apply(m,arguments)}),class:(0,a.normalizeClass)({filtered:m.selectedParams})}," Додаткові параметри ",2)],2),(0,a.createElementVNode)("div",l,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.params,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("label",{key:e.id,for:e.code,class:"additional-param"},[(0,a.createTextVNode)((0,a.toDisplayString)(e.name)+" ",1),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox",name:e.code,id:e.code,"onUpdate:modelValue":function(t){return o.filter.additionalParams[e.code]=t}},null,8,s),[[a.vModelCheckbox,o.filter.additionalParams[e.code]]])],8,i)})),128))])])])}],["__scopeId","data-v-d20842ac"]])},7086:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(8222);var r=o(7341),n=o(5317);const l={name:"ButtonExportRecordForm",props:{size:{type:[String,Number],required:!1,default:18},title:{type:String,required:!1,default:"Експорт поточних записів"},buttonClass:{type:[String,Array],required:!1,default:""}},emits:["click"],data:function(){return{path:n.Vl2}},components:{IconButton:r.Z}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("IconButton");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:(0,a.normalizeClass)(o.buttonClass),title:o.title,size:o.size,mdiPath:n.path,onClick:t[0]||(t[0]=function(t){return e.$emit("click",t)})},{default:(0,a.withCtx)((function(){return[(0,a.renderSlot)(e.$slots,"default")]})),_:3},8,["class","title","size","mdiPath"])}]])},6192:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(8222);var r=o(7341),n=o(5317);const l={name:"ButtonFilter",props:{size:{type:Number,required:!1,default:18},title:{type:String,required:!1,default:""},buttonClass:{type:[String,Array],required:!1,default:""}},emits:["click"],data:function(){return{path:n.Qbm}},components:{IconButton:r.Z}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("IconButton");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:(0,a.normalizeClass)(o.buttonClass),title:o.title,size:o.size,mdiPath:n.path,onClick:t[0]||(t[0]=function(t){return e.$emit("click",t)})},{default:(0,a.withCtx)((function(){return[(0,a.renderSlot)(e.$slots,"default")]})),_:3},8,["class","title","size","mdiPath"])}]])},5796:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(8222);var r=o(7341),n=o(5317);const l={name:"ButtonRefreshData",props:{size:{type:Number,required:!1,default:18},title:{type:String,required:!1,default:"Оновити дані"},buttonClass:{type:String,required:!1,default:""}},emits:["click"],data:function(){return{path:n.jcD}},components:{IconButton:r.Z}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("IconButton");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:(0,a.normalizeClass)(o.buttonClass),title:o.title,size:o.size,mdiPath:n.path,onClick:t[0]||(t[0]=function(t){return e.$emit("click",t)})},{default:(0,a.withCtx)((function(){return[(0,a.renderSlot)(e.$slots,"default")]})),_:3},8,["class","title","size","mdiPath"])}]])},6735:(e,t,o)=>{o.d(t,{Z:()=>s});var a=o(8222),r={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"};var n=o(7341),l=o(5317);const i={name:"ButtonSelectRecords",props:{title:{type:String,required:!1,default:""},selectedRecordsCount:{type:Number,required:!1,default:0},inSelectMode:{type:Boolean,required:!0},buttonClass:{type:[Array,String],required:!1,default:""},size:{type:[String,Number],required:!1,default:18}},emits:["click"],computed:{path:function(){return this.inSelectMode?l.IrG:l.ebj}},components:{IconButton:n.Z}};const s=(0,o(3744).Z)(i,[["render",function(e,t,o,n,l,i){var s=(0,a.resolveComponent)("IconButton");return(0,a.openBlock)(),(0,a.createBlock)(s,{class:(0,a.normalizeClass)(o.buttonClass),title:o.title,size:o.size,mdiPath:i.path,onClick:t[0]||(t[0]=function(t){return e.$emit("click",t)})},{default:(0,a.withCtx)((function(){return[o.selectedRecordsCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("span",r,(0,a.toDisplayString)(o.selectedRecordsCount),1)):(0,a.createCommentVNode)("",!0)]})),_:1},8,["class","title","size","mdiPath"])}]])},5221:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(8222);var r=o(6196),n=o(5317);const l={name:"DictionaryShowRecordLink",props:{size:{type:[String,Number],required:!1,default:16},routeName:{type:String,required:!0},routeParamId:{type:[String,Number],required:!0},title:{type:String,required:!1,default:"Перейти до інформації"},mdiIconPath:{type:String,required:!1,default:""}},components:{SvgIcon:r.Z},computed:{path:function(){return""!==this.mdiIconPath?this.mdiIconPath:n.hiR}}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("SvgIcon"),s=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createBlock)(s,{to:{name:o.routeName,params:{id:o.routeParamId}},title:o.title},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(i,{type:"mdi",path:l.path,size:o.size},null,8,["path","size"])]})),_:1},8,["to","title"])}]])},8259:(e,t,o)=>{o.d(t,{Z:()=>L});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-53181bfe"),e=e(),(0,a.popScopeId)(),e},n={class:"row mb-3"},l={class:"format-type__wrapper"},i={class:"format-type",for:"excel",style:{"--clr":"green"},title:"Експорт у форматі Microsoft Excel"},s=["checked"],d={class:"format-type",for:"word",style:{"--clr":"royalblue"},title:"Експорт у форматі Microsoft Word"},c=["checked"],m={class:"format-type",for:"json",style:{"--clr":"cadetblue"},title:"Експорт у форматі JSON"},u=["checked"],p={class:"format-type",for:"csv",style:{"--clr":"darkgoldenrod"},title:"Експорт у форматі CSV"},f=["checked"],h={class:"row mb-3"},b={class:"d-flex flex-column"},v=r((function(){return(0,a.createElementVNode)("div",{class:"mb-2"}," Оріентація документу ",-1)})),y={class:"d-flex justify-content-between align-items-center px-3"},g={class:"d-flex flex-column justify-content-around h-100"},E={class:"document-orientation__label",for:"landscape",title:"Альбомна орієнтація документу"},V=["checked"],k={class:"document-orientation__label",for:"portrait",title:"Портретна оріентація документу"},_=["checked"],N={class:"document-orientation__preview"},w={class:"row mb-3"},D={class:"d-flex flex-column"},C=r((function(){return(0,a.createElementVNode)("div",{class:"mb-2"}," Доступні стовпці ",-1)})),x={class:"available-field__wrapper"},S=["id","draggable","onDragstart"],F={class:"row mb-3"},B={class:"d-flex flex-column"},P=["id","data-field-order","onDragstart","onDrop"],O=["onClick"],I={key:1,class:"no-fields-selected"};var M=o(6196),T=o(3574),j=o(5317);const H={name:"ExportRecordForm",props:{records:{type:Array,required:!0},availableFields:{type:Object,required:!0},model:{type:String,required:!0}},data:function(){return{excelPath:j.Wee,wordPath:j.wEm,jsonPath:j.UgG,csvPath:j.Z6v,landscapePath:j.ZvX,portraitPath:j.czZ,eraserPath:j.Rqx,formatType:"",orientation:"landscape",selectedFields:[]}},methods:{getFileName:function(){return"csv"==this.formatType?"data.csv":"json"==this.formatType?"data.json":"excel"==this.formatType?"data.xls":"word"==this.formatType?"data.docx":void 0},submitData:function(){var e=this;if(0!=this.selectedFields.length){var t=[];this.selectedFields.forEach((function(o){var a=e.fieldsTitle.indexOf(o),r=e.fieldsName[a];t.push(r)}));var o={model:this.model,format:this.formatType,orientation:this.orientation,fields:t.join(","),ids:this.records.map((function(e){return e.id})).join(",")},a={};"json"!==this.formatType&&(a={responseType:"arraybuffer"}),axios.post("/api/v1/export-data",o,a).then((function(t){var o=t.headers["content-type"],a=new Blob([t.data]);o.includes("application/json")&&(a=new Blob([JSON.stringify(t.data,null,4)],{type:"application/json"}));var r=window.URL.createObjectURL(a),n=document.createElement("a");n.href=r;var l=e.getFileName();n.setAttribute("download",l),document.body.appendChild(n),n.click()}))}},closeForm:function(){this.formatType="",this.orientation="landscape",this.selectedFields=[]},toggleField:function(e){if(this.selectedFields.includes(e)){var t=this.selectedFields.indexOf(e);t>-1&&this.selectedFields.splice(t,1)}else this.selectedFields.push(e)},pickupAvailableField:function(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("fieldId",t)},dropField:function(e){e.stopPropagation();var t=e.dataTransfer.getData("fieldId"),o=document.getElementById(t);o&&this.selectedFields.push(o.innerText)},pickupAvailableFieldEnded:function(e){e.stopPropagation()},pickupSelectedField:function(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("fieldId",t)},dropSelectedField:function(e,t){e.stopPropagation();var o=e.dataTransfer.getData("fieldId"),a=document.getElementById(o);if(a){var r=null,n=null;if(Object.keys(a.dataset).includes("selectedField")){r=a.firstChild.innerText;var l=this.selectedFields.indexOf(r);n=e.target.innerText;var i=this.selectedFields.indexOf(n),s=[this.selectedFields[l],this.selectedFields[i]];this.selectedFields[i]=s[0],this.selectedFields[l]=s[1]}else r=a.innerText,this.selectedFields.splice(t,0,r)}},unSelectField:function(e){var t=this.selectedFields.indexOf(e);t>-1&&this.selectedFields.splice(t,1)}},computed:{fieldsName:function(){return Object.keys(this.availableFields)},fieldsTitle:function(){return Object.values(this.availableFields)},isReadyForExport:function(){return""!==this.formatType&&this.selectedFields.length>0}},components:{ModalForm:T.Z,SvgIcon:M.Z}};var Z=o(3379),z=o.n(Z),A=o(5704),R={insert:"head",singleton:!1};z()(A.Z,R);A.Z.locals;const L=(0,o(3744).Z)(H,[["render",function(e,t,o,r,M,T){var j=(0,a.resolveComponent)("SvgIcon"),H=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(H,{formId:"ExportRecordForm",onSubmitData:T.submitData,sumbitIsDisabled:!T.isReadyForExport,onCloseForm:T.closeForm},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["mb-2",{"not-selected":""==M.formatType}])}," Оберіть формат документу ",2),(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("label",i,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"excel",value:"excel","onUpdate:modelValue":t[0]||(t[0]=function(e){return M.formatType=e}),checked:"excel"==M.formatType},null,8,s),[[a.vModelRadio,M.formatType]]),(0,a.createVNode)(j,{type:"mdi",path:M.excelPath,size:"36"},null,8,["path"])]),(0,a.createElementVNode)("label",d,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"word",value:"word","onUpdate:modelValue":t[1]||(t[1]=function(e){return M.formatType=e}),checked:"word"==M.formatType},null,8,c),[[a.vModelRadio,M.formatType]]),(0,a.createVNode)(j,{type:"mdi",path:M.wordPath,size:"36"},null,8,["path"])]),(0,a.createElementVNode)("label",m,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"json",value:"json","onUpdate:modelValue":t[2]||(t[2]=function(e){return M.formatType=e}),checked:"json"==M.formatType},null,8,u),[[a.vModelRadio,M.formatType]]),(0,a.createVNode)(j,{type:"mdi",path:M.jsonPath,size:"36"},null,8,["path"])]),(0,a.createElementVNode)("label",p,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"csv",value:"csv","onUpdate:modelValue":t[3]||(t[3]=function(e){return M.formatType=e}),checked:"csv"==M.formatType},null,8,f),[[a.vModelRadio,M.formatType]]),(0,a.createVNode)(j,{type:"mdi",path:M.csvPath,size:"36"},null,8,["path"])])])]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",b,[v,(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("label",E,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"landscape",value:"landscape","onUpdate:modelValue":t[4]||(t[4]=function(e){return M.orientation=e}),checked:"landscape"==M.orientation},null,8,V),[[a.vModelRadio,M.orientation]]),(0,a.createTextVNode)(" альбомна орієнтація ")]),(0,a.createElementVNode)("label",k,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"radio",id:"portrait",value:"portrait","onUpdate:modelValue":t[5]||(t[5]=function(e){return M.orientation=e}),checked:"portrait"==M.orientation},null,8,_),[[a.vModelRadio,M.orientation]]),(0,a.createTextVNode)(" портретна орієнтація ")])]),(0,a.createElementVNode)("div",N,["portrait"==M.orientation?((0,a.openBlock)(),(0,a.createBlock)(j,{key:0,type:"mdi",path:M.portraitPath,size:"72"},null,8,["path"])):((0,a.openBlock)(),(0,a.createBlock)(j,{key:1,type:"mdi",path:M.landscapePath,size:"72"},null,8,["path"]))])])])]),(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("div",D,[C,(0,a.createElementVNode)("div",x,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(T.fieldsTitle,(function(e,o){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,id:"available-field-".concat(o),draggable:!M.selectedFields.includes(e),class:(0,a.normalizeClass)(["available-field",{selected:M.selectedFields.includes(e)}]),onDragstart:function(e){return T.pickupAvailableField(e,"available-field-".concat(o))},onDragend:t[6]||(t[6]=function(e){return T.pickupAvailableFieldEnded(e)})},(0,a.toDisplayString)(e),43,S)})),128))])])]),(0,a.createElementVNode)("div",F,[(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["mb-2 d-flex align-items-center lh-24",{"not-selected":0==M.selectedFields.length}])},[(0,a.createTextVNode)(" Відібрані стовпці "),M.selectedFields.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"ms-2 eraser",title:"Прибрати всі стовпці",onClick:t[7]||(t[7]=function(e){return M.selectedFields=[]})},[(0,a.createVNode)(j,{type:"mdi",path:M.eraserPath,size:"18"},null,8,["path"])])):(0,a.createCommentVNode)("",!0)],2),(0,a.createElementVNode)("div",{class:"selected-field__wrapper",onDrop:t[8]||(t[8]=function(e){return T.dropField(e)}),onDragover:t[9]||(t[9]=(0,a.withModifiers)((function(){}),["prevent"])),onDragenter:t[10]||(t[10]=(0,a.withModifiers)((function(){}),["prevent"]))},[M.selectedFields.length>0?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(M.selectedFields,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"selected-field",id:"selected-field-".concat(t),"data-selected-field":"","data-field-order":t+1,draggable:"true",onDragstart:function(e){return T.pickupSelectedField(e,"selected-field-".concat(t))},onDrop:function(e){return T.dropSelectedField(e,t)}},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e),1),(0,a.createElementVNode)("span",{class:"selected-field__remove",title:"Прибрати стовпець зі списку відібраних",onClick:function(t){return T.unSelectField(e)}}," x ",8,O)],40,P)})),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",I," Перетягніть сюди доступні стовпці для єкспорту "))],32)])])]})),_:1},8,["onSubmitData","sumbitIsDisabled","onCloseForm"])}],["__scopeId","data-v-53181bfe"]])},3574:(e,t,o)=>{o.d(t,{Z:()=>u});var a=o(8222),r=["id"],n={class:"modal-header"},l={class:"d-flex align-items-center"},i=["innerHTML"],s={class:"modal-body"},d={key:0,class:"modal-footer justify-content-between"},c=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},emits:["submitData","closeForm"],data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,o(3744).Z)(m,[["render",function(e,t,o,m,u,p){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"modal fade",id:o.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-dialog",o.modalClass])},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-content",o.modalContentClass])},[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("h1",{class:"modal-title fs-5",innerHTML:p.modalFormTitle},null,8,i),(0,a.renderSlot)(e.$slots,"modalHeader")]),(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,a.createElementVNode)("div",s,[(0,a.renderSlot)(e.$slots,"default")]),o.showFooter?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[(0,a.createElementVNode)("div",null,[(0,a.renderSlot)(e.$slots,"footer")]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})}," Відмінити "),(0,a.createElementVNode)("button",{type:"button",class:(0,a.normalizeClass)(["ms-4 btn",[o.sumbitIsDisabled?"btn-outline-primary":"btn-primary"]]),onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:o.sumbitIsDisabled},(0,a.toDisplayString)(p.modalFormSubmitCaption),11,c)])])):(0,a.createCommentVNode)("",!0)],2)],2)],8,r)}]])},9413:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(8222),r=["onClick"];var n=o(6196);const l={name:"NavigationTabs",props:{tabs:{type:Array,required:!0},tabType:{type:String,required:!1,default:"link",validator:function(e){return["link","button"].includes(e)}},iconSize:{type:Number,required:!1,default:18},navigationClass:{type:Array,required:!1,default:function(){return[]}},tabClass:{type:Array,required:!1,default:function(){return[]}},linkClass:{type:Array,required:!1,default:function(){return[]}}},emits:["click"],components:{SvgIcon:n.Z}};var i=o(3379),s=o.n(i),d=o(1575),c={insert:"head",singleton:!1};s()(d.Z,c);d.Z.locals;const m=(0,o(3744).Z)(l,[["render",function(e,t,o,n,l,i){var s=(0,a.resolveComponent)("SvgIcon"),d=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createElementBlock)("ul",{class:(0,a.normalizeClass)(["nav nav-tabs",o.navigationClass])},["link"==o.tabType?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(o.tabs,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:(0,a.normalizeClass)(["nav-item",o.tabClass]),key:t},[(0,a.createVNode)(d,{to:{name:e.routeName},class:(0,a.normalizeClass)(["nav-link",o.linkClass])},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(s,{type:"mdi",path:e.iconPath,size:o.iconSize},null,8,["path","size"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.title),1)]})),_:2},1032,["to","class"])],2)})),128)):"button"==o.tabType?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(o.tabs,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:(0,a.normalizeClass)(["nav-item",o.tabClass]),key:n},[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["nav-link",[o.linkClass,t.activeTab?"active":""]]),onClick:function(o){return e.$emit("click",t.tabName)}},[(0,a.createVNode)(s,{type:"mdi",path:t.iconPath,size:o.iconSize},null,8,["path","size"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.title),1)],10,r)],2)})),128)):(0,a.createCommentVNode)("",!0)],2)}],["__scopeId","data-v-0caee394"]])},9499:(e,t,o)=>{o.d(t,{Z:()=>c});var a=o(8222),r=["innerHTML"];const n={name:"TableRow",props:{rowTitle:{type:String,required:!0},rowTitleClass:{type:String,required:!1,default:""},field:{type:String,required:!0},fieldValue:{type:Boolean,required:!1,default:function(){return!1}},years:{type:Array,required:!0}},data:function(){return{}}};var l=o(3379),i=o.n(l),s=o(3944),d={insert:"head",singleton:!1};i()(s.Z,d);s.Z.locals;const c=(0,o(3744).Z)(n,[["render",function(e,t,o,n,l,i){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",null,[(0,a.createElementVNode)("td",{class:(0,a.normalizeClass)(o.rowTitleClass),innerHTML:o.rowTitle},null,10,r),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.years,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("td",{key:e.year+"-"+e[o.field],class:"table-cell-bordered"},[o.fieldValue?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[e[o.field]?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)(" так ")],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createTextVNode)(" ні ")],64))],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createTextVNode)((0,a.toDisplayString)(e[o.field]),1)],64))])})),128))])}],["__scopeId","data-v-30004396"]])},8680:(e,t,o)=>{o.d(t,{Z:()=>p});var a=o(8222),r={class:"d-flex justify-content-between align-items-center"},n={class:"d-flex align-items-center"},l={class:"d-flex align-items-center"},i=(0,a.createElementVNode)("span",{class:"me-1"},"Відображати",-1),s=["selected","value"],d={class:"text-muted ms-3"},c={class:"pagination mb-0"},m=["innerHTML","onClick"];const u={name:"YearsPaginator",props:{modelValue:{type:[Number,String],default:!1},perPageItems:{type:Array,required:!1,default:function(){return[1,2,3,5]}},meta:{type:Object,required:!0}},data:function(){return{}}};const p=(0,o(3744).Z)(u,[["render",function(e,t,o,u,p,f){return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[i,(0,a.createElementVNode)("select",{name:"per_Page",id:"per_page",class:"form-select form-select-sm",onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.perPageItems,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{selected:o.modelValue==e,key:t,value:e},(0,a.toDisplayString)(e),9,s)})),128))],32)]),(0,a.createElementVNode)("div",d," Відображено з "+(0,a.toDisplayString)(o.meta.from)+" по "+(0,a.toDisplayString)(o.meta.to)+" із "+(0,a.toDisplayString)(o.meta.total),1)]),(0,a.createElementVNode)("ul",c,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.meta.links,(function(t,o){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:"page-item",key:o},[(0,a.createElementVNode)("a",{class:(0,a.normalizeClass)(["page-link",[t.active?"active":"",t.url?"":"disabled"]]),innerHTML:t.label,onClick:function(o){return e.$emit("fetchYears",t.url)}},null,10,m)])})),128))])])}]])},2715:(e,t,o)=>{o.d(t,{Z:()=>b});var a=o(8222),r={class:"row"},n={class:"col-md-8 mx-auto"},l={class:"table table-sm"},i=["for"],s={key:0,class:"form-check form-switch"},d=["id","disabled","onUpdate:modelValue"],c=["id","disabled","onUpdate:modelValue"],m={class:"row"},u={class:"d-flex justify-content-end"};var p=o(5317),f=o(7341);const h={name:"AdditionalParamsList",props:{ownerId:{type:[String,Number],required:!0},owner:{type:String,required:!0},additionalParams:{type:Array,required:!0}},components:{IconButton:f.Z},data:function(){return{_additionalParams:[],isInEditMode:!1,pathMdiPencil:p.r9,pathMdiPencilOff:p.Ucw,pathMdiCheckAll:p.uhZ}},methods:{editData:function(){this.isInEditMode=!0,this._additionalParams=JSON.parse(JSON.stringify(this.additionalParams))},cancelEdit:function(){this.isInEditMode=!1,this._additionalParams=[],this.$emit("refreshData")},updateAdditionalParams:function(){var e=this,t=this,o=this.additionalParams.filter((function(e,o){return e.value!==t._additionalParams[o].value}));if(o.length>0){var a={};o.forEach((function(e){a[e.code]=e.value})),a.owner=this.owner,a.owner_id=this.ownerId,axios.post("/api/v1/set-additional-params",a).then((function(t){e.$toast(t.data.message),e.$emit("refreshData"),e.isInEditMode=!1,e._additionalParams=[]}))}}},computed:{additionalParamsWereChanged:function(){return JSON.stringify(this.additionalParams)!==JSON.stringify(this._additionalParams)}},watch:{}};const b=(0,o(3744).Z)(h,[["render",function(e,t,o,p,f,h){var b=(0,a.resolveComponent)("IconButton");return(0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("table",l,[(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.additionalParams,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e.id,class:"align-middle"},[(0,a.createElementVNode)("td",null,[(0,a.createElementVNode)("label",{for:e.code,style:{cursor:"pointer"}},(0,a.toDisplayString)(e.name),9,i)]),(0,a.createElementVNode)("td",null,["boolean"==e.value_type_code?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.withDirectives)((0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:e.code,disabled:!f.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,d),[[a.vModelCheckbox,e.value]])])):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:1,type:"text",class:"form-control form-control-sm",id:e.code,disabled:!f.isInEditMode,"onUpdate:modelValue":function(t){return e.value=t}},null,8,c)),[[a.vModelText,e.value]])])])})),128))])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[f.isInEditMode?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,buttonClass:"btn-outline-primary",title:"Редагувати дані",onClick:h.editData,mdiPath:f.pathMdiPencil},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Редагувати ")]})),_:1},8,["onClick","mdiPath"])),f.isInEditMode?((0,a.openBlock)(),(0,a.createBlock)(b,{key:1,buttonClass:"btn-outline-secondary",title:"Відмінити редагування",onClick:h.cancelEdit,mdiPath:f.pathMdiPencilOff},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Відмінити ")]})),_:1},8,["onClick","mdiPath"])):(0,a.createCommentVNode)("",!0),f.isInEditMode?((0,a.openBlock)(),(0,a.createBlock)(b,{key:2,buttonClass:"btn-outline-primary ms-3",title:"Встановити додаткові параметри",onClick:h.updateAdditionalParams,mdiPath:f.pathMdiCheckAll,disabled:!h.additionalParamsWereChanged},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Встановити ")]})),_:1},8,["onClick","mdiPath","disabled"])):(0,a.createCommentVNode)("",!0)])])])])}]])},5466:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ue});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-761f6553"),e=e(),(0,a.popScopeId)(),e},n={class:"pt-4"},l={class:"row"},i={class:"col-md-9"},s={class:"table table-sm table-bordered table-years"},d={class:"bg-body-secondary"},c={class:"align-middle"},m={class:"d-flex align-items-center justify-content-end"},u={class:"year"},p={class:"table-group-divider"},f=["colspan"],h=[r((function(){return(0,a.createElementVNode)("b",null,"Наявність",-1)})),r((function(){return(0,a.createElementVNode)("i",null,'(проставляється "так" або "ні")',-1)}))],b={class:"col-md-3"},v={class:"card rounded-0 mb-4"},y={class:"card-header thin-header align-items-center"},g=r((function(){return(0,a.createElementVNode)("h6",null,"Інформація по будинку",-1)})),E={class:"card-body"},V={class:"table table-bordered table-sm mb-0",id:"houseInfo"},k={key:0},_=r((function(){return(0,a.createElementVNode)("td",null,"Рік побудови",-1)})),N={key:0},w={key:1,style:{color:"var(--bs-gray-600)"}},D=r((function(){return(0,a.createElementVNode)("td",null,"Матеріал стін",-1)})),C={key:0},x={key:1,style:{color:"var(--bs-gray-600)"}},S=r((function(){return(0,a.createElementVNode)("td",null,"Матеріал даху",-1)})),F={key:0},B={key:1,style:{color:"var(--bs-gray-600)"}},P={class:"card rounded-0"},O={class:"card-header thin-header align-items-center"},I=r((function(){return(0,a.createElementVNode)("h6",null,"Додаткова інформація",-1)})),M={key:0,class:"card-body"},T={key:1,class:"text-center",style:{color:"var(--bs-gray-600)"}};var j=o(894),H=o(8877),Z={class:"mb-1 row"},z=(0,a.createElementVNode)("label",{for:"year",class:"col-sm-9 col-form-label"},"Рік",-1),A={id:"yearValidation",class:"invalid-feedback"},R={class:"mb-1 row"},L=(0,a.createElementVNode)("label",{for:"totalArea",class:"col-sm-9 col-form-label"},[(0,a.createTextVNode)("Загальна площа житлового будинку/квартири, м"),(0,a.createElementVNode)("sup",null,"2")],-1),U={id:"totalAreaValidation",class:"invalid-feedback"},$={class:"mb-1 row"},q=(0,a.createElementVNode)("label",{for:"totalLivingArea",class:"col-sm-9 col-form-label"},[(0,a.createTextVNode)("Загальна площа житлових приміщень, м"),(0,a.createElementVNode)("sup",null,"2")],-1),Y={id:"totalLivingAreaValidation",class:"invalid-feedback"},W={class:"mb-1 row"},J=(0,a.createElementVNode)("label",{for:"livingArea",class:"col-sm-9 col-form-label"},[(0,a.createTextVNode)("з неї житлова площа, м"),(0,a.createElementVNode)("sup",null,"2")],-1),G={id:"livingAreaValidation",class:"invalid-feedback"},Q={class:"mb-1 row"},K=(0,a.createElementVNode)("label",{for:"roomCount",class:"col-sm-9 col-form-label"},"Кількість житлових кімнат",-1),X={id:"roomCountValidation",class:"invalid-feedback"},ee={class:"mb-2 row"},te=(0,a.createElementVNode)("label",{for:"totalNonLivingArea",class:"col-sm-9 col-form-label"},[(0,a.createTextVNode)("Загальна площа нежитлових будівель, м"),(0,a.createElementVNode)("sup",null,"2")],-1),oe={id:"totalNonLivingAreaValidation",class:"invalid-feedback"},ae={class:"p-2"},re={class:"d-flex justify-content-between mb-3"},ne={class:"d-flex justify-content-between mb-3"},le={class:"d-flex justify-content-between"};var ie=["title"];const se={name:"Checkbox",props:{id:{type:String,required:!0},title:{type:String,required:!1,default:""},image:{type:String},modelValue:{type:Boolean,default:!1}},data:function(){return{}},computed:{cssStyles:function(){return{"--image-url":"url("+this.image+")"}}}};var de=o(3379),ce=o.n(de),me=o(5481),ue={insert:"head",singleton:!1};ce()(me.Z,ue);me.Z.locals;var pe=o(3744);const fe=(0,pe.Z)(se,[["render",function(e,t,o,r,n,l){var i=this;return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["toggler-wrapper",{isChecked:o.modelValue}]),style:(0,a.normalizeStyle)(l.cssStyles),onClick:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",!i.modelValue)}),title:o.title},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["toggler",{isChecked:o.modelValue}])},null,2)],14,ie)}],["__scopeId","data-v-90e814da"]]);var he=o(3574),be=o(2965),ve=o(3753);const ye={name:"HouseholdHouseYearForm",mixins:[be.Z,ve.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{apiUrl:"/api/v1/household-houses"}},methods:{clearFormData:function(){this.formData.year=(new Date).getFullYear(),this.formData.total_area=0,this.formData.total_living_area=0,this.formData.living_area=0,this.formData.room_count=0,this.formData.total_non_living_area=0,this.formData.water_supply=!1,this.formData.hot_water_supply=!1,this.formData.sewage=!1,this.formData.central_heating=!1,this.formData.individual_heating=!1,this.formData.furnace_heating=!1,this.formData.natural_gas=!1,this.formData.liquefied_gas=!1,this.formData.electric_stove=!1,this.errors=[]}},components:{ModalForm:he.Z,Checkbox:fe}},ge=(0,pe.Z)(ye,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("Checkbox"),s=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(s,{formId:"HouseInfoModalForm",onSubmitData:e.submitData,onCloseForm:l.clearFormData},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",Z,[z,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("year")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("year")?"is-invalid":""]),id:"year","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.year=e})},null,2),[[a.vModelText,o.formData.year]])],2),(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(e.getError("year")),1)]),(0,a.createElementVNode)("div",R,[L,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("total_area")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("total_area")?"is-invalid":""]),id:"totalArea","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.total_area=e})},null,2),[[a.vModelText,o.formData.total_area]])],2),(0,a.createElementVNode)("div",U,(0,a.toDisplayString)(e.getError("total_area")),1)]),(0,a.createElementVNode)("div",$,[q,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("total_living_area")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("total_living_area")?"is-invalid":""]),id:"totalLivingArea","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.total_living_area=e})},null,2),[[a.vModelText,o.formData.total_living_area]])],2),(0,a.createElementVNode)("div",Y,(0,a.toDisplayString)(e.getError("total_living_area")),1)]),(0,a.createElementVNode)("div",W,[J,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("living_area")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("living_area")?"is-invalid":""]),id:"livingArea","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.living_area=e})},null,2),[[a.vModelText,o.formData.living_area]])],2),(0,a.createElementVNode)("div",G,(0,a.toDisplayString)(e.getError("living_area")),1)]),(0,a.createElementVNode)("div",Q,[K,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("room_count")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("room_count")?"is-invalid":""]),id:"roomCount","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.formData.room_count=e})},null,2),[[a.vModelText,o.formData.room_count]])],2),(0,a.createElementVNode)("div",X,(0,a.toDisplayString)(e.getError("room_count")),1)]),(0,a.createElementVNode)("div",ee,[te,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-sm-3",e.hasError("total_non_living_area")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("total_non_living_area")?"is-invalid":""]),id:"totalNonLivingArea","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.formData.total_non_living_area=e})},null,2),[[a.vModelText,o.formData.total_non_living_area]])],2),(0,a.createElementVNode)("div",oe,(0,a.toDisplayString)(e.getError("total_non_living_area")),1)]),(0,a.createElementVNode)("div",ae,[(0,a.createElementVNode)("div",re,[(0,a.createVNode)(i,{modelValue:o.formData.water_supply,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.formData.water_supply=e}),id:"waterSupply",image:"/img/icons/water-supply.png",title:"Наявність водопроводу"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.hot_water_supply,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.formData.hot_water_supply=e}),id:"hotWaterSupply",image:"/img/icons/hot-water.png",title:"Наявність гарячого водопостачання"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.sewage,"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.formData.sewage=e}),id:"hotWaterSupply",image:"/img/icons/sewage.png",title:"Наявність каналізації"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ne,[(0,a.createVNode)(i,{modelValue:o.formData.central_heating,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.formData.central_heating=e}),id:"centralHeating",image:"/img/icons/central-heating.png",title:"Наявність центрального опалення"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.individual_heating,"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.formData.individual_heating=e}),id:"individualHeating",image:"/img/icons/individual-heating.png",title:"Наявність опалення від індивідуальних установок"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.furnace_heating,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.formData.furnace_heating=e}),id:"furnaceHeating",image:"/img/icons/furnace-heating.png",title:"Наявність пічного опалення"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",le,[(0,a.createVNode)(i,{modelValue:o.formData.natural_gas,"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.formData.natural_gas=e}),id:"naturalGas",image:"/img/icons/natural-gas.png",title:"Наявність природного газу"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.liquefied_gas,"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.formData.liquefied_gas=e}),id:"liquefiedGas",image:"/img/icons/liquefied-gas.png",title:"Наявність скрапленого газу"},null,8,["modelValue"]),(0,a.createVNode)(i,{modelValue:o.formData.electric_stove,"onUpdate:modelValue":t[14]||(t[14]=function(e){return o.formData.electric_stove=e}),id:"electricStove",image:"/img/icons/electric-stove.png",title:"Наявність підлоговоії електричної плити"},null,8,["modelValue"])])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Ee={class:"row mb-2"},Ve=(0,a.createElementVNode)("label",{for:"yearBuilt",class:"col-md-6 col-form-label"}," Рік побудови ",-1),ke={class:"col-md-6"},_e={class:"row mb-2"},Ne=(0,a.createElementVNode)("label",{for:"materialWalls",class:"col-md-6 col-form-label"}," Матеріал стін ",-1),we={class:"col-md-6"},De={class:"row"},Ce=(0,a.createElementVNode)("label",{for:"materialRoof",class:"col-md-6 col-form-label"}," Матеріал кровлі ",-1),xe={class:"col-md-6"};var Se=o(594);const Fe={name:"HouseholdHouseInfoForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},emits:["refreshHouseInfo"],methods:{submitData:function(){var e=this;Se.Z.post("api/v1/set-additional-params",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshHouseInfo")}))},closeForm:function(){}},components:{ModalForm:he.Z}},Be=(0,pe.Z)(Fe,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"HouseInfoForm",onSubmitData:l.submitData,onCloseForm:l.closeForm},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",Ee,[Ve,(0,a.createElementVNode)("div",ke,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control",id:"yearBuilt",name:"yearBuilt","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.house_year_of_construction=e})},null,512),[[a.vModelText,o.formData.house_year_of_construction]])])]),(0,a.createElementVNode)("div",_e,[Ne,(0,a.createElementVNode)("div",we,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control",id:"materialWalls",name:"materialWalls","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.house_material_walls=e})},null,512),[[a.vModelText,o.formData.house_material_walls]])])]),(0,a.createElementVNode)("div",De,[Ce,(0,a.createElementVNode)("div",xe,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control",id:"materialRoof",name:"materialRoof","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.house_material_roof=e})},null,512),[[a.vModelText,o.formData.house_material_roof]])])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Pe={class:"mb-3"};const Oe={name:"HouseholdHouseAdditionalDataForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},emits:["refreshHouseInfo"],methods:{submitData:function(){var e=this;axios.post("api/v1/set-additional-params",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshHouseInfo"),e.closeForm()}))},closeForm:function(){}},components:{ModalForm:he.Z}},Ie=(0,pe.Z)(Oe,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"HouseAdditionalDataForm",onSubmitData:l.submitData,onCloseForm:l.closeForm},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",Pe,[(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:"form-control",id:"houseAdditionalData",rows:"10","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.house_additional_data=e})},"\n            ",512),[[a.vModelText,o.formData.house_additional_data]])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Me=o(9499),Te=o(8680),je=o(1887);function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ze(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function ze(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==He(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==He(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===He(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ae={name:"HouseholdHouseYears",mixins:[o(9181).Z],data:function(){return{yearData:{household_id:null,year:(new Date).getFullYear(),total_area:0,total_living_area:0,living_area:0,room_count:0,total_non_living_area:0,water_supply:!1,hot_water_supply:!1,sewage:!1,central_heating:!1,individual_heating:!1,furnace_heating:!1,natural_gas:!1,liquefied_gas:!1,electric_stove:!1},infoData:{owner:"App\\Models\\Household",owner_id:null,house_year_of_construction:"",house_material_walls:"",house_material_roof:""},additionalData:{owner:"App\\Models\\Household",owner_id:null,house_additional_data:""},info:[],modalSubmitCaption:"",modalTitle:"",action:"",owner:"household_id",yearFormId:"HouseInfoModalForm",apiUrl:"/api/v1/household-houses",houseInfoIsEditable:!1,meta:{},years:[],perPage:5}},provide:function(){var e=this;return{modalTitle:(0,a.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,a.computed)((function(){return e.modalSubmitCaption}))}},methods:{startHouseInfoEdit:function(){this.houseInfoIsEditable=!0},cancelHouseInfoEdit:function(){this.houseInfoIsEditable=!1},openHouseInfoForm:function(){this.modalTitle="Інформація по будинку",this.modalSubmitCaption="Зберегти",this.infoData.owner_id=this.owner_id,this.infoData.house_year_of_construction=this.houseInfo("house_year_of_construction"),this.infoData.house_material_walls=this.houseInfo("house_material_walls"),this.infoData.house_material_roof=this.houseInfo("house_material_roof"),new H.u_(document.getElementById("HouseInfoForm")).show()},openHouseAdditionalDataForm:function(){this.modalTitle="Додаткова інформація",this.modalSubmitCaption="Зберегти",this.additionalData.owner_id=this.owner_id,this.additionalData.house_additional_data=this.houseInfo("house_additional_data"),new H.u_(document.getElementById("HouseAdditionalDataForm")).show()},fetchHouseInfo:function(){var e=this;Se.Z.get("/api/v1/households/".concat(this.$route.params.id,"/house-info")).then((function(t){e.info=t.data}))},fetchYears:function(e){var t=this;null==e&&(e="/api/v1/households/".concat(this.$route.params.id,"/house-years?per_page=").concat(this.perPage)),Se.Z.get(e).then((function(e){t.years=e.data.data.reverse(),t.meta=e.data.meta}))},houseInfo:function(e){var t=this.info.find((function(t){return t.code==e}));return t.value?t.value:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(o),!0).forEach((function(t){ze(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ze(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,j.Se)("Households",{owner_id:"household_id"})),watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchYears()},perPage:function(e,t){e&&this.fetchYears()}},created:function(){this.fetchYears(),this.fetchHouseInfo()},components:{TableRow:Me.Z,HouseYearForm:ge,HouseInfoForm:Be,HouseAdditionalDataForm:Ie,YearsPaginator:Te.Z,DropDownMenu:je.Z}};var Re=o(2291),Le={insert:"head",singleton:!1};ce()(Re.Z,Le);Re.Z.locals;const Ue=(0,pe.Z)(Ae,[["render",function(e,t,o,r,j,H){var Z=(0,a.resolveComponent)("ButtonAdd"),z=(0,a.resolveComponent)("DropDownMenu"),A=(0,a.resolveComponent)("TableRow"),R=(0,a.resolveComponent)("YearsPaginator"),L=(0,a.resolveComponent)("ButtonEdit"),U=(0,a.resolveComponent)("HouseYearForm"),$=(0,a.resolveComponent)("HouseInfoForm"),q=(0,a.resolveComponent)("HouseAdditionalDataForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("table",s,[(0,a.createElementVNode)("thead",d,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",c,[(0,a.createVNode)(Z,{onClick:t[0]||(t[0]=function(t){return e.newYearData(t)}),buttonClass:["btn-outline-primary btn-transparent px-2 py-1"],title:"Додати інформацію за рік"},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Додати рік ")]})),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(j.years,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("th",{key:t.year},[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,(0,a.toDisplayString)(t.year),1),(0,a.createVNode)(z,{buttonClass:"btn-outline-secondary btn-transparent",showToggler:!1,onEdit:function(o){return e.editYear(t)},onDelete:function(o){return e.deleteYear(t)}},null,8,["onEdit","onDelete"])])])})),128))])]),(0,a.createElementVNode)("tbody",p,[(0,a.createVNode)(A,{years:j.years,field:"total_area",rowTitle:"<b>Загальна площа житлового будинку/квартири, м<sup>2</sup></b>"},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"total_living_area",rowTitle:"Загальна площа житлових приміщень, м<sup>2</sup>"},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"living_area",rowTitle:"з неї житлова площа, м<sup>2</sup>",rowTitleClass:"ps-5"},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"room_count",rowTitle:"Кількість житлових кімнат"},null,8,["years"]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",{colspan:j.years.length+1},h,8,f)]),(0,a.createVNode)(A,{years:j.years,field:"water_supply",rowTitle:"водопроводу",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"hot_water_supply",rowTitle:"горячого водопостачання",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"sewage",rowTitle:"каналізації",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"central_heating",rowTitle:"опалення центрального",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"individual_heating",rowTitle:"опалення від індивідуальних установок",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"furnace_heating",rowTitle:"пічного опалення",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"natural_gas",rowTitle:"природного газу",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"liquefied_gas",rowTitle:"скрапленого опалення",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"electric_stove",rowTitle:"підлогової електричної плити",rowTitleClass:"ps-5",fieldValue:!0},null,8,["years"]),(0,a.createVNode)(A,{years:j.years,field:"total_non_living_area",rowTitle:"<b>Загальна площа нежитлових будівель, м<sup>2</sup></b>"},null,8,["years"])])]),j.years.length>0?((0,a.openBlock)(),(0,a.createBlock)(R,{key:0,modelValue:j.perPage,"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.perPage=e}),meta:j.meta,onFetchYears:H.fetchYears},null,8,["modelValue","meta","onFetchYears"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",y,[g,(0,a.createVNode)(L,{onClick:H.openHouseInfoForm,size:16,buttonClass:["btn-light btn-transparent p-2"],title:"Редагувати інформацію по будинку"},null,8,["onClick"])]),(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("table",V,[j.info&&j.info.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("tbody",k,[(0,a.createElementVNode)("tr",null,[_,""!==H.houseInfo("house_year_of_construction")?((0,a.openBlock)(),(0,a.createElementBlock)("td",N,(0,a.toDisplayString)(H.houseInfo("house_year_of_construction")),1)):((0,a.openBlock)(),(0,a.createElementBlock)("td",w," не вказано "))]),(0,a.createElementVNode)("tr",null,[D,""!==H.houseInfo("house_material_walls")?((0,a.openBlock)(),(0,a.createElementBlock)("td",C,(0,a.toDisplayString)(H.houseInfo("house_material_walls")),1)):((0,a.openBlock)(),(0,a.createElementBlock)("td",x," не вказано "))]),(0,a.createElementVNode)("tr",null,[S,""!==H.houseInfo("house_material_roof")?((0,a.openBlock)(),(0,a.createElementBlock)("td",F,(0,a.toDisplayString)(H.houseInfo("house_material_roof")),1)):((0,a.openBlock)(),(0,a.createElementBlock)("td",B," не вказано "))])])):(0,a.createCommentVNode)("",!0)])])]),(0,a.createElementVNode)("div",P,[(0,a.createElementVNode)("div",O,[I,(0,a.createVNode)(L,{onClick:H.openHouseAdditionalDataForm,size:16,buttonClass:["btn-light btn-transparent p-2"],title:"Редагувати додаткову інформацію"},null,8,["onClick"])]),j.info&&j.info.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",M,[""!==H.houseInfo("house_additional_data")?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(H.houseInfo("house_additional_data")),1)],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",T,"інформація відсутня"))])):(0,a.createCommentVNode)("",!0)])])])]),(0,a.createVNode)(U,{formData:j.yearData,action:j.action,onRefreshData:H.fetchYears},null,8,["formData","action","onRefreshData"]),(0,a.createVNode)($,{formData:j.infoData,onRefreshHouseInfo:H.fetchHouseInfo},null,8,["formData","onRefreshHouseInfo"]),(0,a.createVNode)(q,{formData:j.additionalData,onRefreshHouseInfo:H.fetchHouseInfo},null,8,["formData","onRefreshHouseInfo"])],64)}],["__scopeId","data-v-761f6553"]])},198:(e,t,o)=>{o.d(t,{Z:()=>te});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-302a8b76"),e=e(),(0,a.popScopeId)(),e},n={class:"row mb-3"},l={class:"col-md-9"},i=r((function(){return(0,a.createElementVNode)("label",{for:"householdSettlement",class:"form-label"}," Населений пункт ",-1)})),s=["disabled"],d=r((function(){return(0,a.createElementVNode)("option",{disabled:"",value:"0"},"Оберить населений пункт",-1)})),c=["value"],m={id:"householdSettlementValidation",class:"invalid-feedback"},u={class:"col-md-3"},p=r((function(){return(0,a.createElementVNode)("label",{for:"householdNumber",class:"form-label"},"Номер об'єкта",-1)})),f={id:"householdNumberValidation",class:"invalid-feedback"},h={class:"row mb-3"},b={class:"col"},v=r((function(){return(0,a.createElementVNode)("label",{for:"householdType",class:"form-label"}," Тип об'єкта погосподарського обліку ",-1)})),y=r((function(){return(0,a.createElementVNode)("option",{disabled:"",value:"0"},"Оберить тип об'єкта",-1)})),g=["value"],E={id:"householdTypeValidation",class:"invalid-feedback"},V=r((function(){return(0,a.createElementVNode)("div",{class:"row"},[(0,a.createElementVNode)("p",null," Місцезнаходження / адреса ")],-1)})),k={class:"row mb-3"},_={class:"col-md-2"},N=r((function(){return(0,a.createElementVNode)("label",{for:"streetType",class:"form-label address-label"}," тип вулиці ",-1)})),w=[r((function(){return(0,a.createElementVNode)("option",{value:"вул."},"вулиця",-1)})),r((function(){return(0,a.createElementVNode)("option",{value:"пр."},"проспект",-1)})),r((function(){return(0,a.createElementVNode)("option",{value:"пров."},"провулок",-1)})),r((function(){return(0,a.createElementVNode)("option",{value:"пл."},"площа",-1)}))],D={class:"col-md-4"},C=r((function(){return(0,a.createElementVNode)("label",{for:"streetName",class:"form-label address-label"},"вулиця",-1)})),x={class:"col-md-2"},S=r((function(){return(0,a.createElementVNode)("label",{for:"houseNumber",class:"form-label address-label"},"будинок",-1)})),F={class:"col-md-2"},B=r((function(){return(0,a.createElementVNode)("label",{for:"corpsNumber",class:"form-label address-label"},"корпус",-1)})),P={class:"col-md-2"},O=r((function(){return(0,a.createElementVNode)("label",{for:"apartmentNumber",class:"form-label address-label"},"квартира",-1)})),I={class:"row mb-3"},M={class:"col"},T=r((function(){return(0,a.createElementVNode)("label",{for:"householdSpecialMarks",class:"form-label"},"Спеціальні відмітки",-1)})),j={id:"householdSpecialMarksValidation",class:"invalid-feedback"},H={class:"row mb-3"},Z={class:"col"},z=r((function(){return(0,a.createElementVNode)("label",{for:"householdAdditionalData",class:"form-label"},"Додаткові відомості",-1)})),A={id:"householdAdditionalDataValidation",class:"invalid-feedback"};var R=o(894),L=o(2965),U=o(3753),$=o(3574);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(o),!0).forEach((function(t){J(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function J(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const G={name:"HouseholdForm",mixins:[L.Z,U.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{apiUrl:"/api/v1/households",excludeFiledsFromCreateWatch:["address_street_type","address_street_name","address_house","address_corps","address_apartment"]}},methods:{clearFormData:function(){this.formData.settlement_id=0,this.formData.number="",this.formData.household_type_id=0,this.formData.address_street_type="",this.formData.address_street_name="",this.formData.address_house="",this.formData.address_corps="",this.formData.address_apartment="",this.formData.address="",this.formData.special_marks="",this.formData.additional_data="",this.errors=[]},saveData:function(){if(""!=this.formData.address_street_type&&""!=this.formData.address_street_name&&""!=this.formData.address_house){var e="";e=(e=(e=(e=this.formData.address_street_type+",")+this.formData.address_street_name+",")+this.formData.address_house+",")+this.formData.address_corps+",",e+=this.formData.address_apartment,this.formData.address=e,this.submitData()}}},computed:W(W(W({},(0,R.Se)("Settlements",["settlements"])),(0,R.Se)("HouseholdTypes",["householdTypes"])),{},{addressIsFilled:function(){return""!==this.formData.address_street_type&&""!==this.formData.address_street_name&&this.formData.address_house}}),created:function(){var e=this;this.excludeFiledsFromCreateWatch.forEach((function(t){var o="formData.".concat(t);e.$watch(o,(function(){this.errors.address&&delete this.errors.address}))}))},components:{ModalForm:$.Z}};var Q=o(3379),K=o.n(Q),X=o(167),ee={insert:"head",singleton:!1};K()(X.Z,ee);X.Z.locals;const te=(0,o(3744).Z)(G,[["render",function(e,t,o,r,R,L){var U=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(U,{formId:"HouseholdForm",onSubmitData:L.saveData,onCloseForm:L.clearFormData,modalClass:"modal-lg",sumbitIsDisabled:!L.addressIsFilled},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[i,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:(0,a.normalizeClass)(["form-control",e.hasError("settlement_id")?"is-invalid":""]),id:"householdSettlement","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.settlement_id=e}),disabled:o.disabledFields.includes("settlement_id")},[d,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.settlements,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,c)})),128))],10,s),[[a.vModelSelect,o.formData.settlement_id]]),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(e.getError("settlement_id")),1)]),(0,a.createElementVNode)("div",u,[p,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("number")?"is-invalid":""]),id:"householdNumber","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.number=e})},null,2),[[a.vModelText,o.formData.number]]),(0,a.createElementVNode)("div",f,(0,a.toDisplayString)(e.getError("number")),1)])]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",b,[v,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:(0,a.normalizeClass)(["form-control",e.hasError("household_type_id")?"is-invalid":""]),id:"householdType","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.household_type_id=e})},[y,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.householdTypes,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,g)})),128))],2),[[a.vModelSelect,o.formData.household_type_id]]),(0,a.createElementVNode)("div",E,(0,a.toDisplayString)(e.getError("household_type_id")),1)])]),V,(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",_,[N,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:(0,a.normalizeClass)(["form-control",e.hasError("address")?"is-invalid":""]),id:"streetType",name:"streetType","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.address_street_type=e})},w,2),[[a.vModelSelect,o.formData.address_street_type]])]),(0,a.createElementVNode)("div",D,[C,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("address")?"is-invalid":""]),id:"streetName",name:"streetName","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.formData.address_street_name=e})},null,2),[[a.vModelText,o.formData.address_street_name]])]),(0,a.createElementVNode)("div",x,[S,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("address")?"is-invalid":""]),id:"houseNumber","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.formData.address_house=e})},null,2),[[a.vModelText,o.formData.address_house]])]),(0,a.createElementVNode)("div",F,[B,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("address")&&""!==o.formData.address_corps?"is-invalid":""]),id:"corpsNumber","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.formData.address_corps=e})},null,2),[[a.vModelText,o.formData.address_corps]])]),(0,a.createElementVNode)("div",P,[O,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("address")&&""!==o.formData.address_apartment?"is-invalid":""]),id:"apartmentNumber","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.formData.address_apartment=e})},null,2),[[a.vModelText,o.formData.address_apartment]])]),(0,a.createElementVNode)("div",{id:"householdAddressValidation",class:(0,a.normalizeClass)(["invalid-feedback",e.hasError("address")?"d-block":""])},(0,a.toDisplayString)(e.getError("address")),3)]),(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",M,[T,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",e.hasError("special_marks")?"is-invalid":""]),id:"householdSpecialMarks",rows:"2","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.formData.special_marks=e})},"\n                ",2),[[a.vModelText,o.formData.special_marks]]),(0,a.createElementVNode)("div",j,(0,a.toDisplayString)(e.getError("special_marks")),1)])]),(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",Z,[z,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",e.hasError("additional_data")?"is-invalid":""]),id:"householdAdditionalData",rows:"2","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.formData.additional_data=e})},"\n                ",2),[[a.vModelText,o.formData.additional_data]]),(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(e.getError("additional_data")),1)])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}],["__scopeId","data-v-302a8b76"]])},6508:(e,t,o)=>{o.r(t),o.d(t,{default:()=>le});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-2281c636"),e=e(),(0,a.popScopeId)(),e},n={class:"pt-4"},l={class:"row justify-content-around mb-xl-4 mb-md-4"},i={class:"col-xl-5 col-md-12 mb-md-4"},s=r((function(){return(0,a.createElementVNode)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Адреса",-1)})),d={key:0,class:"household-address"},c={class:"col-xl-5 col-md-12 mb-md-4"},m=r((function(){return(0,a.createElementVNode)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2"},"Тип",-1)})),u={key:0},p={class:"row justify-content-around mb-xl-4 mb-md-4"},f={class:"col-xl-5 col-md-12 mb-md-4"},h={class:"d-flex justify-content-between align-items-center border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},b={class:"fw-bold"},v={class:"owners-wrapper"},y={class:"d-flex flex-column"},g={class:"text-muted"},E={class:"d-flex align-self-center"},V={key:1,class:"text-muted text-center fs-08",id:"no-owner-information"},k={class:"col-xl-5 col-md-12 mb-md-4"},_=r((function(){return(0,a.createElementVNode)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1 household-head"},"Голова домогосподарства",-1)})),N=["draggable"],w={key:1,class:"text-muted text-center fs-08 p-2"},D={class:"row justify-content-around mb-xl-4"},C={class:"col-xl-5 col-md-12 mb-md-4"},x=r((function(){return(0,a.createElementVNode)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Спеціальні відмітки",-1)})),S={key:0},F={key:1,class:"text-muted text-center fs-08 p-2"},B={class:"col-xl-5 col-md-12 mb-md-4"},P=r((function(){return(0,a.createElementVNode)("div",{class:"fw-bold border-bottom mb-xl-2 pb-xl-2 mb-lg-1 pb-lg-1"},"Додаткові відомості",-1)})),O={key:0},I={key:1,class:"text-muted text-center fs-08 p-2"};var M=o(8877),T=o(2262),j=o(894),H={class:"row mb-3"},Z={class:"col"},z=(0,a.createElementVNode)("label",{for:"ownerName",class:"form-label"},"Прізвище І.Б.",-1),A={id:"ownerNameValidation",class:"invalid-feedback"},R={class:"row mb-3"},L={class:"col"},U={id:"ownerAddressValidation",class:"invalid-feedback"};var $=o(3574),q=o(2965),Y=o(3753);const W={name:"HouseholdOwnerForm",mixins:[q.Z,Y.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/household-owners"}},methods:{clearFormData:function(){this.formData.name="",this.formData.address="",this.id=null}},components:{ModalForm:$.Z}};var J=o(3744);const G=(0,J.Z)(W,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"HouseholdOwnerModalForm",onSubmitData:e.submitData,onCloseForm:l.clearFormData},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",Z,[z,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"ownerName","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.name=e})},null,2),[[a.vModelText,o.formData.name]]),(0,a.createElementVNode)("div",A,(0,a.toDisplayString)(e.getError("name")),1)])]),(0,a.createElementVNode)("div",R,[(0,a.createElementVNode)("div",L,[(0,a.createElementVNode)("label",{for:"ownerAddress",class:"form-label",onClick:t[1]||(t[1]=function(t){return e.$emit("getHouseholdAddress")}),style:{cursor:"copy"},title:"Клікніть для використання адреси домогосподарства"}," Адреса "),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("address")?"is-invalid":""]),onDblclick:t[2]||(t[2]=(0,a.withModifiers)((function(t){return e.$emit("getHouseholdAddress")}),["ctrl"])),id:"ownerAddress","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.address=e})},null,34),[[a.vModelText,o.formData.address]]),(0,a.createElementVNode)("div",U,(0,a.toDisplayString)(e.getError("address")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function K(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function X(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?K(Object(o),!0).forEach((function(t){ee(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):K(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function ee(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==Q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const te={name:"HouseholdInfo",data:function(){return{ownerData:{id:null,household_id:null,name:"",address:""},modalTitle:"",modalSubmitCaption:"",action:""}},provide:function(){var e=this;return{modalTitle:(0,T.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,T.Fl)((function(){return e.modalSubmitCaption}))}},methods:{newOwner:function(e){this.modalTitle="Додати власника домогосподарства",this.modalSubmitCaption="Додати",this.action="create",this.ownerData.household_id=this.household_id,new M.u_(document.getElementById("HouseholdOwnerModalForm")).show()},editOwner:function(e){this.modalTitle="Редагувати власника домогосподарства",this.modalSubmitCaption="Змінити",this.action="update",this.ownerData.household_id=this.household_id,this.ownerData.name=e.name,this.ownerData.address=e.address,this.ownerData.id=e.id,new M.u_(document.getElementById("HouseholdOwnerModalForm")).show()},deleteOwner:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєте видалити власника").then((function(o){o.isConfirmed&&axios.delete("/api/v1/household-owners/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchRecord",t.household_id),t.$toast(e.data.message)}))}))},pickupHead:function(e,t){var o=this;if(-1==this.household.owners.findIndex((function(e){return e.name==t&&e.address==o.household.address}))){var a=document.getElementById("no-owner-information"),r=document.getElementById("owner-drop-zone");a&&a.classList.add("hide"),r.classList.add("active"),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("head",JSON.stringify({name:t,address:this.household.short_address}))}},dropHead:function(e){var t=this;e.stopPropagation();var o=e.dataTransfer.getData("head");o&&((o=JSON.parse(o)).household_id=this.household_id,axios.post("/api/v1/household-owners",o).then((function(e){t.$store.dispatch("Households/fetchRecord",t.household_id),t.$toast(e.data.message)})))},pickupHeadEnded:function(e){e.stopPropagation();var t=document.getElementById("owner-drop-zone"),o=document.getElementById("no-owner-information");o&&o.classList.remove("hide"),t.classList.remove("active")}},computed:X(X({},(0,j.Se)("Households",["household","household_id"])),{},{restOfAddress:function(){return this.household.full_address.substring(this.household.short_address.length)},headIsAlreadyOwner:function(){var e=this;if(this.household.household_head)return-1!=this.household.owners.findIndex((function(t){return t.name==e.household.household_head}))}}),components:{OwnerForm:G}};var oe=o(3379),ae=o.n(oe),re=o(6434),ne={insert:"head",singleton:!1};ae()(re.Z,ne);re.Z.locals;const le=(0,J.Z)(te,[["render",function(e,t,o,r,M,T){var j=(0,a.resolveComponent)("ButtonAdd"),H=(0,a.resolveComponent)("ButtonEdit"),Z=(0,a.resolveComponent)("ButtonDelete"),z=(0,a.resolveComponent)("OwnerForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[s,e.household.short_address?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.household.short_address),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(T.restOfAddress),1)])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",c,[m,e.household.household_type?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,(0,a.toDisplayString)(e.household.household_type),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("span",b,[(0,a.createTextVNode)("Власник"),(0,a.withDirectives)((0,a.createElementVNode)("span",null,"и",512),[[a.vShow,e.household.owners&&e.household.owners.length>1]])]),(0,a.createVNode)(j,{buttonClass:"btn-sm btn-light ms-3 text-muted",title:"Додати нового власника",onClick:T.newOwner},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Додати власника ")]})),_:1},8,["onClick"])]),(0,a.createElementVNode)("div",v,[e.household.owners&&e.household.owners.length>0?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(e.household.owners,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"owner",key:e.id},[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("span",g,(0,a.toDisplayString)(e.address),1)]),(0,a.createElementVNode)("div",E,[(0,a.createVNode)(H,{onClick:function(t){return T.editOwner(e)},title:"Редагувати інформацію про власника",buttonClass:"btn-outline-warning btn-transparent p-2"},null,8,["onClick"]),(0,a.createVNode)(Z,{buttonClass:"btn-outline-danger btn-transparent ms-3 p-2",title:"Видалити інформацію про власника",onClick:function(t){return T.deleteOwner(e.id)}},null,8,["onClick"])])])})),128)):((0,a.openBlock)(),(0,a.createElementBlock)("div",V,"Інформація відсутня"))]),(0,a.createElementVNode)("div",{id:"owner-drop-zone",class:"owner-drop-zone fs-08",onDrop:t[0]||(t[0]=function(e){return T.dropHead(e)}),onDragover:t[1]||(t[1]=(0,a.withModifiers)((function(){}),["prevent"])),onDragenter:t[2]||(t[2]=(0,a.withModifiers)((function(){}),["prevent"]))}," Переместить голову домогосподарства сюди ",32)]),(0,a.createElementVNode)("div",k,[_,(0,a.createElementVNode)("div",null,[e.household.household_head?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,draggable:!T.headIsAlreadyOwner,style:{cursor:"grabbing"},onDragstart:t[3]||(t[3]=function(t){return T.pickupHead(t,e.household.household_head)}),onDragend:t[4]||(t[4]=function(e){return T.pickupHeadEnded(e)})},(0,a.toDisplayString)(e.household.household_head),41,N)):((0,a.openBlock)(),(0,a.createElementBlock)("div",w,"Інформація відсутня"))])])]),(0,a.createElementVNode)("div",D,[(0,a.createElementVNode)("div",C,[x,e.household.special_marks?((0,a.openBlock)(),(0,a.createElementBlock)("div",S,(0,a.toDisplayString)(e.household.special_marks),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",F,"Інформація відсутня"))]),(0,a.createElementVNode)("div",B,[P,e.household.additional_data?((0,a.openBlock)(),(0,a.createElementBlock)("div",O,(0,a.toDisplayString)(e.household.additional_data),1)):((0,a.openBlock)(),(0,a.createElementBlock)("div",I,"Інформація відсутня"))])])]),(0,a.createVNode)(z,{formData:M.ownerData,action:M.action,onRefreshData:t[5]||(t[5]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)}),onGetHouseholdAddress:t[6]||(t[6]=function(t){return M.ownerData.address=e.household.address})},null,8,["formData","action"])],64)}],["__scopeId","data-v-2281c636"]])},7533:(e,t,o)=>{o.r(t),o.d(t,{default:()=>G});var a=o(8222),r={class:"pt-4"},n={class:"row"},l={class:"col-md-9"},i={class:"table table-sm table-bordered table-years"},s={class:"bg-body-secondary"},d={class:"align-middle"},c={class:"d-flex align-items-center justify-content-end"},m={class:"year"},u={class:"table-group-divider"},p=["colspan"],f=(0,a.createElementVNode)("i",null,"(відповідно до документів):",-1),h={class:"col-md-3"},b={class:"card rounded-0"},v={class:"card-header thin-header align-items-center"},y=(0,a.createElementVNode)("h6",null,"Додаткова інформація",-1),g={key:0,class:"card-body"},E={key:1,class:"text-center",style:{color:"var(--bs-gray-600)"}};var V=o(894),k=o(8877),_={class:"row mb-3"},N=(0,a.createElementVNode)("label",{for:"landYear",class:"col-form-label col-md-9"}," Рік ",-1),w={id:"landYearValidation",class:"invalid-feedback col-md-12"},D={class:"row mb-3"},C=(0,a.createElementVNode)("label",{for:"landMaintenance",class:"col-form-label col-md-9"}," для будівництва і обслуговування житлового будинку ",-1),x={id:"landMaintenanceValidation",class:"invalid-feedback col-md-12"},S={class:"row mb-3"},F=(0,a.createElementVNode)("label",{for:"landPersonalAgriculture",class:"col-form-label col-md-9"}," для ведення особистого селянського господарства ",-1),B={id:"landPersonalAgricultureValidation",class:"invalid-feedback col-md-12"},P=(0,a.createElementVNode)("label",{for:"landCommercialAgriculture",class:"col-form-label col-md-9"}," для ведення товарного сільськогосподарського виробництва ",-1),O={id:"landCommercialAgricultureValidation",class:"invalid-feedback col-md-12"};var I=o(3574),M=o(2965),T=o(3753);const j={name:"HouseholdLandYearForm",mixins:[M.Z,T.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/household-lands"}},methods:{clearFormData:function(){this.formData.year="",this.formData.maintenance=0,this.formData.personal_agriculture=0,this.formData.commercial_agriculture=0,this.errors=[]}},components:{ModalForm:I.Z}};var H=o(3744);const Z=(0,H.Z)(j,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"LandYearForm",onSubmitData:e.submitData,onCloseForm:l.clearFormData,modalClass:"modal-600"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",_,[N,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-md-3",e.hasError("year")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("year")?"is-invalid":""]),id:"landYear",name:"landYear","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.year=e})},null,2),[[a.vModelText,o.formData.year]])],2),(0,a.createElementVNode)("div",w,(0,a.toDisplayString)(e.getError("year")),1)]),(0,a.createElementVNode)("div",D,[C,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-md-3",e.hasError("maintenance")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control col-md-3",e.hasError("maintenance")?"is-invalid":""]),id:"landMaintenance","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.maintenance=e})},null,2),[[a.vModelText,o.formData.maintenance]])],2),(0,a.createElementVNode)("div",x,(0,a.toDisplayString)(e.getError("maintenance")),1)]),(0,a.createElementVNode)("div",S,[F,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-md-3",e.hasError("personal_agriculture")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("personal_agriculture")?"is-invalid":""]),id:"landPersonalAgriculture","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.personal_agriculture=e})},null,2),[[a.vModelText,o.formData.personal_agriculture]])],2),(0,a.createElementVNode)("div",B,(0,a.toDisplayString)(e.getError("personal_agriculture")),1)]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["row mb-3",e.hasError("commercial_agriculture")?"is-invalid":""])},[P,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["col-md-3",e.hasError("commercial_agriculture")?"is-invalid":""])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("commercial_agriculture")?"is-invalid":""]),id:"landCommercialAgriculture","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.commercial_agriculture=e})},null,2),[[a.vModelText,o.formData.commercial_agriculture]])],2),(0,a.createElementVNode)("div",O,(0,a.toDisplayString)(e.getError("commercial_agriculture")),1)],2)]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var z={class:"mb-3"};const A={name:"HouseholdLandAdditionalDataForm",props:{formData:{type:Object,required:!0}},data:function(){return{}},emits:["refreshLandInfo"],methods:{submitData:function(){var e=this;axios.post("/api/v1/set-additional-params",this.formData).then((function(t){e.$toast(t.data.message),e.$emit("refreshLandInfo"),e.closeForm()}))},closeForm:function(){}},components:{ModalForm:I.Z}},R=(0,H.Z)(A,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"LandAdditionalDataForm",onSubmitData:l.submitData,onCloseForm:l.closeForm},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",z,[(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:"form-control",id:"landAdditionalData",rows:"10","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.land_additional_data=e})},"\n            ",512),[[a.vModelText,o.formData.land_additional_data]])])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var L=o(9499),U=o(8680),$=o(1887);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function W(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const J={name:"HouseholdLandYears",mixins:[{methods:{formatedNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toFixed(t)}}},o(9181).Z],data:function(){return{yearData:{household_id:null,year:(new Date).getFullYear(),maintenance:0,personal_agriculture:0,commercial_agriculture:0},additionalData:{owner:"App\\Models\\Household",owner_id:null,land_additional_data:""},info:[],modalTitle:"",modalSubmitCaption:"",action:"",owner:"household_id",yearFormId:"LandYearForm",apiUrl:"/api/v1/household-lands",meta:{},years:[],perPage:5}},provide:function(){var e=this;return{modalTitle:(0,a.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,a.computed)((function(){return e.modalSubmitCaption}))}},methods:{openLandAdditionalDataForm:function(){this.modalTitle="Додаткова інформація",this.modalSubmitCaption="Зберегти",this.additionalData.owner_id=this.owner_id,this.additionalData.land_additional_data=this.landInfo("land_additional_data"),new k.u_(document.getElementById("LandAdditionalDataForm")).show()},fetchYears:function(e){var t=this;null==e&&(e="/api/v1/households/".concat(this.$route.params.id,"/land-years?per_page=").concat(this.perPage)),axios.get(e).then((function(e){t.years=e.data.data.reverse(),t.meta=e.data.meta}))},fetchLandInfo:function(){var e=this;axios.get("/api/v1/households/".concat(this.$route.params.id,"/land-info")).then((function(t){e.info=t.data}))},landInfo:function(e){var t=this.info.find((function(t){return t.code==e}));return t.value?t.value:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(o),!0).forEach((function(t){W(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,V.Se)("Households",{owner_id:"household_id"})),created:function(){this.fetchYears(),this.fetchLandInfo()},watch:{$route:function(e,t){e.params.id!==t.params.id&&this.fetchYears()},perPage:function(e,t){e&&this.fetchYears()}},components:{TableRow:L.Z,LandYearForm:Z,LandAdditionalDataForm:R,YearsPaginator:U.Z,DropDownMenu:$.Z}},G=(0,H.Z)(J,[["render",function(e,t,o,V,k,_){var N=(0,a.resolveComponent)("ButtonAdd"),w=(0,a.resolveComponent)("DropDownMenu"),D=(0,a.resolveComponent)("TableRow"),C=(0,a.resolveComponent)("YearsPaginator"),x=(0,a.resolveComponent)("ButtonEdit"),S=(0,a.resolveComponent)("LandYearForm"),F=(0,a.resolveComponent)("LandAdditionalDataForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("table",i,[(0,a.createElementVNode)("thead",s,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",d,[(0,a.createVNode)(N,{onClick:t[0]||(t[0]=function(t){return e.newYearData(t)}),buttonClass:"btn-outline-primary btn-transparent px-2 py-1",title:"Додати інформацію за рік"},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Додати рік ")]})),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(k.years,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("th",{key:t.year},[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(t.year),1),(0,a.createVNode)(w,{buttonClass:"btn-outline-secondary btn-transparent",showToggler:!1,onEdit:function(o){return e.editYear(t)},onDelete:function(o){return e.deleteYear(t)}},null,8,["onEdit","onDelete"])])])})),128))])]),(0,a.createElementVNode)("tbody",u,[(0,a.createVNode)(D,{years:k.years,field:"total",rowTitle:"<b>Площа земельних ділянок - усього, <small>га</small></b>"},null,8,["years"]),(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("td",{colspan:k.years.length+1},[(0,a.createTextVNode)("з неї за цільовим призначенням "),f],8,p)]),(0,a.createVNode)(D,{years:k.years,field:"maintenance",rowTitle:"для будівництва і обслуговування житлового будинку, <small>га</small>",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.createVNode)(D,{years:k.years,field:"personal_agriculture",rowTitle:"для ведення особистого селянського господарства, <small>га</small>",rowTitleClass:"ps-3"},null,8,["years"]),(0,a.createVNode)(D,{years:k.years,field:"commercial_agriculture",rowTitle:"для ведення товарного сільськогосподарського виробництва, <small>га</small>",rowTitleClass:"ps-3"},null,8,["years"])])]),k.years.length>0?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,modelValue:k.perPage,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.perPage=e}),meta:k.meta,onFetchYears:_.fetchYears},null,8,["modelValue","meta","onFetchYears"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",v,[y,(0,a.createVNode)(x,{onClick:_.openLandAdditionalDataForm,size:16,buttonClass:"btn-light btn-transparent p-2",title:"Редагувати додаткову інформацію"},null,8,["onClick"])]),k.info&&k.info.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[""!==_.landInfo("land_additional_data")?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(_.landInfo("land_additional_data")),1)],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",E,"інформація відсутня"))])):(0,a.createCommentVNode)("",!0)])])])]),(0,a.createVNode)(S,{formData:k.yearData,action:k.action,onRefreshData:_.fetchYears},null,8,["formData","action","onRefreshData"]),(0,a.createVNode)(F,{formData:k.additionalData,onRefreshLandInfo:_.fetchLandInfo},null,8,["formData","onRefreshLandInfo"])],64)}]])},5269:(e,t,o)=>{o.r(t),o.d(t,{default:()=>fe});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-2627b607"),e=e(),(0,a.popScopeId)(),e},n={class:"card"},l={class:"card-header"},i={class:"dictionary-name__wrapper"},s=r((function(){return(0,a.createElementVNode)("span",null,"Облікові картки",-1)})),d={key:1,class:"d-flex gap-2 ms-4"},c={class:"card-body"},m={key:0,class:"show-record"},u=["indeterminate","checked"],p={key:1,class:"show-record"},f=r((function(){return(0,a.createElementVNode)("th",{"data-sort-field":"number","data-field-type":"string",class:"sortable"},"Номер",-1)})),h=r((function(){return(0,a.createElementVNode)("th",null,"Населений пункт",-1)})),b=r((function(){return(0,a.createElementVNode)("th",{"data-sort-field":"address","data-field-type":"string",class:"sortable"},"Місцезнаходження / адреса",-1)})),v=r((function(){return(0,a.createElementVNode)("th",null,"Голова домогосподарства",-1)})),y=r((function(){return(0,a.createElementVNode)("th",{"data-sort-field":"household_members_count","data-field-type":"number",class:"sortable"},"Мешкає",-1)})),g={key:0,class:"text-center show-record"},E={key:1,class:"text-center show-record"},V=["onUpdate:modelValue"],k={class:"text-center"},_={class:"text-center"},N={key:1,class:"text-muted text-center p-3"};var w=o(894),D=o(8877),C=o(5317),x=o(5149),S=o(198),F={class:"row mb-3"},B={class:"col"},P=(0,a.createElementVNode)("option",{value:"0"},"Усі населені пункти",-1),O=["value"],I={class:"row mb-3"},M={class:"col"},T=(0,a.createElementVNode)("option",{value:"0"},"Усі типи об'єкта",-1),j=["value"],H={class:"row mb-3"},Z={class:"col"},z=["disabled"];var A=o(4726),R=o(3574),L=o(6829);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function $(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function q(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?$(Object(o),!0).forEach((function(t){Y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Y(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==U(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const W={name:"HouseholdFilterForm",mixins:[A.Z],data:function(){return{}},methods:{submitData:function(){this.filter.isFiltered=!0,this.$store.dispatch("Households/applyFilter",this.filter)},clearFormData:function(){}},computed:q(q(q({},(0,w.Se)("Households",["filter"])),(0,w.Se)("Settlements",["settlements"])),(0,w.Se)("HouseholdTypes",["householdTypes"])),created:function(){this.fetchAdditionalParamsForFilter("App\\Models\\Household","boolean")},components:{ModalForm:R.Z,AdditionalParamsFormFilter:L.Z}};var J=o(3379),G=o.n(J),Q=o(6331),K={insert:"head",singleton:!1};G()(Q.Z,K);Q.Z.locals;var X=o(3744);const ee=(0,X.Z)(W,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("AdditionalParamsFormFilter"),s=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(s,{formId:"HouseholdFilterForm",onSubmitData:l.submitData,onCloseForm:l.clearFormData,modalClass:"modal-lg"},{footer:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("button",{class:"btn btn-outline-secondary",onClick:t[3]||(t[3]=function(t){return e.$emit("resetFilter")}),title:"Скинути фильтр",disabled:!e.filter.isFiltered}," Скинути ",8,z)]})),default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",F,[(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("label",{for:"settlementFilter",class:(0,a.normalizeClass)(["form-label",{filtered:0!==e.filter.settlement_id}])},"Населений пункт",2),(0,a.withDirectives)((0,a.createElementVNode)("select",{class:"form-control",id:"settlementFilter","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filter.settlement_id=t})},[P,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.settlements,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,O)})),128))],512),[[a.vModelSelect,e.filter.settlement_id]])])]),(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",M,[(0,a.createElementVNode)("label",{for:"householdTypeFilter",class:(0,a.normalizeClass)(["form-label",{filtered:0!==e.filter.household_type_id}])},"Тип об'єкта погосподарського обліку",2),(0,a.withDirectives)((0,a.createElementVNode)("select",{class:"form-control",id:"householdTypeFilter","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.household_type_id=t})},[T,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.householdTypes,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,j)})),128))],512),[[a.vModelSelect,e.filter.household_type_id]])])]),(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",Z,[(0,a.createElementVNode)("label",{for:"addressFilter",class:(0,a.normalizeClass)(["form-label",{filtered:""!==e.filter.address}])}," Адреса домогосподарства (вулиця, або № будинку) ",2),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control",id:"addressFilter",name:"addressFilter",autocomplete:"false","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filter.address=t})},null,512),[[a.vModelText,e.filter.address]])])]),e.params.length>0?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,params:e.params,filter:e.filter},null,8,["params","filter"])):(0,a.createCommentVNode)("",!0)]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var te=o(8259),oe=o(6735),ae=o(7086),re=o(5796),ne=o(6192),le=o(5221);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function de(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?se(Object(o),!0).forEach((function(t){ce(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):se(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function ce(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const me={name:"HouseholdsMain",components:{HouseholdForm:S.Z,HouseholdFilterForm:ee,ExportRecordForm:te.Z,ButtonSelectRecords:oe.Z,ButtonExportRecordForm:ae.Z,ButtonRefreshData:re.Z,ButtonFilter:ne.Z,DictionaryShowRecordLink:le.Z},mixins:[x.Z],data:function(){return{perPageItems:[10,15,20],formData:{settlement_id:0,household_type_id:0,number:"",address_street_type:"",address_street_name:"",address_house:"",address_corps:"",address_apartment:"",special_marks:"",additional_data:""},disabledFields:[],modalTitle:"",modalSubmitCaption:"",fancyModalIsVisible:!1,availabaleFields:{id:"ID",short_address:"Місцезнаходження / адреса",settlement:"Населений пункт",head:"Голова домогосподарства",household_number:"Номер домогосподарства",members_count:"Мешкає"},pathRouterLinkIcon:C.$ax}},provide:function(){var e=this;return{modalTitle:(0,a.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,a.computed)((function(){return e.modalSubmitCaption}))}},methods:de(de({},(0,w.nv)("Households",["toggleSelectAll","toggleSelectMode","selectMultipleRecords"])),{},{addCard:function(){this.modalTitle="Нова облікова картка",this.modalSubmitCaption="Додати",this.filter.isFiltered?(this.filter.settlement_id>0?(this.formData.settlement_id=this.filter.settlement_id,this.disabledFields.push("settlement_id")):this.disabledFields=this.disabledFields.filter((function(e){return"settlement_id"!==e})),this.filter.household_type_id>0?(this.formData.household_type_id=this.filter.household_type_id,this.disabledFields.push("household_type_id")):this.disabledFields=this.disabledFields.filter((function(e){return"household_type_id"!==e}))):this.disabledFields=[],new D.u_(document.getElementById("HouseholdForm")).show()},openFilterForm:function(){this.modalTitle="Фільтр облікових карт",this.modalSubmitCaption="Застосувати",new D.u_(document.getElementById("HouseholdFilterForm")).show()},resetFilter:function(){this.filter.settlement_id=0,this.filter.household_type_id=0,this.filter.additionalParams={},this.filter.address="",this.filter.isFiltered=!1,this.$store.dispatch("Households/applyFilter",this.filter)},perPageChanged:function(e){this.$store.dispatch("Households/changePerPage",e)},pageChanged:function(e){this.$store.dispatch("Households/changePage",e)},searchData:function(e,t){return e.address.includes(t)||e.number.includes(t)||e.household_head.includes(t)},sortData:function(e,t,o){console.log(e,t,o)}}),computed:de({},(0,w.Se)("Households",["households","filter","pagination","entities","isFiltered","inSelectMode","isIndeterminate","selectedRecords","selectedRecordsCount","isAllSelected","toggleSelectAllTitle"]))};var ue=o(2789),pe={insert:"head",singleton:!1};G()(ue.Z,pe);ue.Z.locals;const fe=(0,X.Z)(me,[["render",function(e,t,o,r,w,D){var C=(0,a.resolveComponent)("ButtonAdd"),x=(0,a.resolveComponent)("ButtonRefreshData"),S=(0,a.resolveComponent)("ButtonSelectRecords"),F=(0,a.resolveComponent)("ButtonExportRecordForm"),B=(0,a.resolveComponent)("ButtonFilter"),P=(0,a.resolveComponent)("DictionaryShowRecordLink"),O=(0,a.resolveComponent)("DataTable"),I=(0,a.resolveComponent)("HouseholdForm"),M=(0,a.resolveComponent)("HouseholdFilterForm"),T=(0,a.resolveComponent)("ExportRecordForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[s,(0,a.createVNode)(C,{onClick:D.addCard,title:"Додати картку домогосподарства",class:"btn-sm btn-primary p-2"},null,8,["onClick"]),(0,a.createVNode)(x,{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("Households/fetchRecords")}),buttonClass:"btn-outline-primary p-2 ms-2"}),e.households.length>0?((0,a.openBlock)(),(0,a.createBlock)(S,{key:0,title:e.inSelectMode?"Вимкнути режим відбору записів":"Увімкнути режим відбору записів",buttonClass:["position-relative ms-2 p-2",e.inSelectMode?"btn-primary":"btn-outline-primary"],inSelectMode:e.inSelectMode,selectedRecordsCount:e.selectedRecordsCount,onClick:e.toggleSelectMode},null,8,["title","buttonClass","inSelectMode","selectedRecordsCount","onClick"])):(0,a.createCommentVNode)("",!0),e.selectedRecordsCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[(0,a.createVNode)(F,{onClick:e.openExportRecordForm,buttonClass:"btn-outline-primary p-2"},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(B,{buttonClass:["btn-outline-secondary p-2",e.isFiltered?"active":""],onClick:D.openFilterForm,title:"Фільтр облікових карток"},null,8,["buttonClass","onClick"])])]),(0,a.createElementVNode)("div",c,[e.households.length>0?((0,a.openBlock)(),(0,a.createBlock)(O,{key:0,dataTable:e.households,perPageItems:w.perPageItems,externalPagination:e.pagination,tableHeaderClass:"table-dark",tableClass:"table-bordered",sortByDefaultField:"id",onPageChanged:D.pageChanged,onPerPageChanged:D.perPageChanged},{header:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("tr",null,[e.inSelectMode?((0,a.openBlock)(),(0,a.createElementBlock)("th",m,[(0,a.createElementVNode)("input",{type:"checkbox",class:"form-check-input cursor-pointer",name:"selectAll",id:"selectAll",indeterminate:e.isIndeterminate,checked:e.isAllSelected,onChange:t[1]||(t[1]=function(t){return e.toggleSelectAll(t)})},null,40,u)])):((0,a.openBlock)(),(0,a.createElementBlock)("th",p)),f,h,b,v,y])]})),default:(0,a.withCtx)((function(t){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.paginatedData,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:t.id,class:(0,a.normalizeClass)({"table-primary":t.selected})},[e.inSelectMode?((0,a.openBlock)(),(0,a.createElementBlock)("td",E,[(0,a.withDirectives)((0,a.createElementVNode)("input",{class:"form-check-input cursor-pointer",type:"checkbox","onUpdate:modelValue":function(e){return t.selected=e}},null,8,V),[[a.vModelCheckbox,t.selected]])])):((0,a.openBlock)(),(0,a.createElementBlock)("td",g,[(0,a.createVNode)(P,{routeName:"households.show",routeParamId:t.id,mdiIconPath:w.pathRouterLinkIcon,title:"Перейти до інформації по домогосподарству"},null,8,["routeParamId","mdiIconPath"])])),(0,a.createElementVNode)("td",k,(0,a.toDisplayString)(t.number),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.settlement),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.short_address),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.household_head),1),(0,a.createElementVNode)("td",_,(0,a.toDisplayString)(t.household_members_count),1)],2)})),128))]})),_:1},8,["dataTable","perPageItems","externalPagination","onPageChanged","onPerPageChanged"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",N," Немає даних для відображення. "))])]),(0,a.createVNode)(I,{formData:w.formData,disabledFields:w.disabledFields,onRefreshData:t[2]||(t[2]=function(t){return e.$store.dispatch("Households/fetchRecords")})},null,8,["formData","disabledFields"]),(0,a.createVNode)(M,{onResetFilter:D.resetFilter},null,8,["onResetFilter"]),(0,a.createVNode)(T,{records:e.selectedRecords,availableFields:w.availabaleFields,model:"App\\Models\\Household"},null,8,["records","availableFields"])],64)}],["__scopeId","data-v-2627b607"]])},4280:(e,t,o)=>{o.d(t,{Z:()=>Be});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-27a29af7"),e=e(),(0,a.popScopeId)(),e},n={class:"row"},l={class:"col-md-4 border-end"},i={class:"form-steps"},s=["data-group","onClick"],d={class:"icon"},c={class:"col-md-8"},m={class:"p-3"},u={class:"row mb-4"},p={class:"col"},f=r((function(){return(0,a.createElementVNode)("label",{for:"memberSurname",class:"form-label"},"Прізвище",-1)})),h={id:"memberSurnameValidation",class:"invalid-feedback"},b={class:"row mb-4"},v={class:"col"},y=r((function(){return(0,a.createElementVNode)("label",{for:"memberName",class:"form-label"},"Ім'я",-1)})),g={id:"memberNameValidation",class:"invalid-feedback"},E={class:"col"},V=r((function(){return(0,a.createElementVNode)("label",{for:"memberPatronymic",class:"form-label"},"По батькові",-1)})),k={id:"memberPatronymicValidation",class:"invalid-feedback"},_={class:"row mb-4"},N={class:"col-md-6"},w=r((function(){return(0,a.createElementVNode)("label",{for:"memberSex",class:"form-label"},"Стать",-1)})),D=r((function(){return(0,a.createElementVNode)("datalist",{id:"sex"},[(0,a.createElementVNode)("option",{value:"чоловіча"}),(0,a.createElementVNode)("option",{value:"жіноча"})],-1)})),C={id:"memberSexValidation",class:"invalid-feedback"},x={class:"col-md-6"},S=r((function(){return(0,a.createElementVNode)("label",{for:"memberBirthdate",class:"form-label"},"Дата народження",-1)})),F={id:"memberBirthdateValidation",class:"invalid-feedback"},B={class:"row mb-4"},P={class:"col-md-12"},O=r((function(){return(0,a.createElementVNode)("label",{for:"familyRelationshipType",class:"form-label"},"Родинні стосунки",-1)})),I=r((function(){return(0,a.createElementVNode)("option",{disabled:"",value:"0"},"Оберить тип родинних стосунків",-1)})),M=["value"],T={id:"familyRelationshipTypeValidation",class:"invalid-feedback"},j={class:"p-3"},H={class:"row mb-4"},Z={class:"col"},z=r((function(){return(0,a.createElementVNode)("label",{for:"workPlace",class:"form-label"},"Місце роботи залежно від територіального розташування",-1)})),A=r((function(){return(0,a.createElementVNode)("option",{disabled:"",value:"0"},"Оберить місце роботи",-1)})),R=["value"],L={id:"workPlaceValidation",class:"invalid-feedback"},U={class:"row mb-4"},$={class:"col"},q=r((function(){return(0,a.createElementVNode)("label",{for:"memberEmployment",class:"form-label"},"Відомості про зайнятість / незайнятість",-1)})),Y={id:"memberEmploymentValidation",class:"invalid-feedback"},W={class:"p-3"},J={class:"row"},G={class:"col"},Q=r((function(){return(0,a.createElementVNode)("label",{for:"memberSocialInformation",class:"form-label"},"Відомості про пенсію, інвалідність, отримання соціальної допомоги",-1)})),K={id:"memberSocialInformationValidation",class:"invalid-feedback"},X={class:"p-3"},ee={class:"row"},te={class:"col"},oe=r((function(){return(0,a.createElementVNode)("label",{for:"memberAdditionalInformation",class:"form-label"},"Додаткова інформація",-1)})),ae={id:"memberAdditionalInformationValidation",class:"invalid-feedback"},re={class:"p-3"},ne={class:"row mb-4"},le={class:"col"},ie=r((function(){return(0,a.createElementVNode)("label",{for:"memberDeathdate",class:"form-label"},"Дата смерті",-1)})),se={id:"memberDeathdateValidation",class:"invalid-feedback"},de={class:"col"},ce=r((function(){return(0,a.createElementVNode)("label",{for:"memberDeathRegisterNumber",class:"form-label"},"Номер свідоцтва",-1)})),me={id:"memberDeathRegisterNumberValidation",class:"invalid-feedback"},ue={class:"row mb-3"},pe={class:"col"},fe=r((function(){return(0,a.createElementVNode)("label",{for:"memberDeathRegisterOffice",class:"form-label"},"Орган",-1)})),he={id:"memberDeathRegisterOfficeValidation",class:"invalid-feedback"};var be=o(894),ve=o(6196),ye=o(5317),ge=o(3574),Ee=o(2965),Ve=o(3753);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function _e(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function Ne(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(o),!0).forEach((function(t){we(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_e(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function we(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==ke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const De={name:"HouseholdMemeberForm",mixins:[Ee.Z,Ve.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}},showDeathInfo:{type:Boolean,required:!1,default:function(){return!1}}},data:function(){return{apiUrl:"/api/v1/household-members",currentStep:1,steps:[{id:1,title:"Головна інформація",iconPath:ye.jGv,group:"info"},{id:2,title:"Робота",iconPath:ye.KRn,group:"work"},{id:3,title:"Соціальний статус",iconPath:ye.azf,group:"social"},{id:4,title:"Додаткова інфомація",iconPath:ye.LBz,group:"additional"},{id:5,title:"Інфомація о смерті",iconPath:ye.krw,group:"death"}],groupHasError:[]}},methods:{clearFormData:function(){this.formData.surname="",this.formData.name="",this.formData.patronymic="",this.formData.sex="",this.formData.birthdate=null,this.formData.family_relationship_type_id=0,this.formData.employment_information="",this.formData.work_place_id=0,this.formData.social_information="",this.formData.additional_information="",this.errors=[],this.groupHasError=[],this.currentStep=1},saveData:function(){0==this.formData.work_place_id&&delete this.formData.work_place_id,this.submitData()}},computed:Ne(Ne({},(0,be.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),(0,be.Se)("WorkPlaces",["places"])),components:{ModalForm:ge.Z,SvgIcon:ve.Z},watch:{errors:{handler:function(e){var t=this;this.groupHasError=[];var o=Object.keys(e);if(o.length>0){var a=["surname","name","patronymic","sex","birthdate","family_relationship_type_id"],r=["work_place_id","employment_information"],n=["social_information"],l=["additional_information"],i=["death_date","death_register_number","death_register_office"];o.forEach((function(e){a.includes(e)&&(t.groupHasError.includes("info")||t.groupHasError.push("info")),r.includes(e)&&(t.groupHasError.includes("work")||t.groupHasError.push("work")),n.includes(e)&&(t.groupHasError.includes("social")||t.groupHasError.push("social")),l.includes(e)&&(t.groupHasError.includes("additional")||t.groupHasError.push("additional")),i.includes(e)&&(t.groupHasError.includes("death")||t.groupHasError.push("death"))}))}},deep:!0}}};var Ce=o(3379),xe=o.n(Ce),Se=o(3460),Fe={insert:"head",singleton:!1};xe()(Se.Z,Fe);Se.Z.locals;const Be=(0,o(3744).Z)(De,[["render",function(e,t,o,r,be,ve){var ye=(0,a.resolveComponent)("SvgIcon"),ge=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(ge,{formId:"HouseholdMemberForm",onSubmitData:ve.saveData,onCloseForm:ve.clearFormData,modalClass:"modal-lg"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("ul",i,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(be.steps,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:e.id,class:(0,a.normalizeClass)(["step",{active:be.currentStep==e.id,"has-error":be.groupHasError.includes(e.group)}]),"data-group":e.group,onClick:function(t){return be.currentStep=e.id}},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.title),1),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(ye,{type:"mdi",path:e.iconPath},null,8,["path"])])],10,s)})),128))])]),(0,a.createElementVNode)("div",c,[(0,a.withDirectives)((0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,[f,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"memberSurname",class:(0,a.normalizeClass)(["form-control",e.hasError("surname")?"is-invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.surname=e})},null,2),[[a.vModelText,o.formData.surname]]),(0,a.createElementVNode)("div",h,(0,a.toDisplayString)(e.getError("surname")),1)])]),(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",v,[y,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"memberName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[a.vModelText,o.formData.name]]),(0,a.createElementVNode)("div",g,(0,a.toDisplayString)(e.getError("name")),1)]),(0,a.createElementVNode)("div",E,[V,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("patronymic")?"is-invalid":""]),id:"memberPatronymic","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.patronymic=e})},null,2),[[a.vModelText,o.formData.patronymic]]),(0,a.createElementVNode)("div",k,(0,a.toDisplayString)(e.getError("patronymic")),1)])]),(0,a.createElementVNode)("div",_,[(0,a.createElementVNode)("div",N,[w,(0,a.withDirectives)((0,a.createElementVNode)("input",{list:"sex",id:"memberSex",placeholder:"Type to search...",class:(0,a.normalizeClass)(["form-control",e.hasError("sex")?"is-invalid":""]),"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.sex=e})},null,2),[[a.vModelText,o.formData.sex]]),D,(0,a.createElementVNode)("div",C,(0,a.toDisplayString)(e.getError("sex")),1)]),(0,a.createElementVNode)("div",x,[S,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"date",class:(0,a.normalizeClass)(["form-control",e.hasError("birthdate")?"is-invalid":""]),id:"memberBirthdate","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.formData.birthdate=e})},null,2),[[a.vModelText,o.formData.birthdate]]),(0,a.createElementVNode)("div",F,(0,a.toDisplayString)(e.getError("birthdate")),1)])]),(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",P,[O,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:(0,a.normalizeClass)(["form-control",e.hasError("family_relationship_type_id")?"is-invalid":""]),id:"familyRelationshipType","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.formData.family_relationship_type_id=e})},[I,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.relationshipTypes,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,M)})),128))],2),[[a.vModelSelect,o.formData.family_relationship_type_id]]),(0,a.createElementVNode)("div",T,(0,a.toDisplayString)(e.getError("family_relationship_type_id")),1)])])],512),[[a.vShow,1==be.currentStep]]),(0,a.withDirectives)((0,a.createElementVNode)("div",j,[(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",Z,[z,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:(0,a.normalizeClass)(["form-select",{"is-invalid":e.hasError("work_place_id")}]),id:"workPlace","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.formData.work_place_id=e})},[A,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.places,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,R)})),128))],2),[[a.vModelSelect,o.formData.work_place_id]]),(0,a.createElementVNode)("div",L,(0,a.toDisplayString)(e.getError("work_place_id")),1)])]),(0,a.createElementVNode)("div",U,[(0,a.createElementVNode)("div",$,[q,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",{"is-invalid":e.hasError("employment_information")}]),id:"memberEmployment",rows:"4","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.formData.employment_information=e})},"\n                            ",2),[[a.vModelText,o.formData.employment_information]]),(0,a.createElementVNode)("div",Y,(0,a.toDisplayString)(e.getError("employment_information")),1)])])],512),[[a.vShow,2==be.currentStep]]),(0,a.withDirectives)((0,a.createElementVNode)("div",W,[(0,a.createElementVNode)("div",J,[(0,a.createElementVNode)("div",G,[Q,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",{"is-invalid":e.hasError("social_information")}]),id:"memberSocialInformation",rows:"4","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.formData.social_information=e})},"\n                            ",2),[[a.vModelText,o.formData.social_information]]),(0,a.createElementVNode)("div",K,(0,a.toDisplayString)(e.getError("social_information")),1)])])],512),[[a.vShow,3==be.currentStep]]),(0,a.withDirectives)((0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("div",ee,[(0,a.createElementVNode)("div",te,[oe,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",{"is-invalid":e.hasError("additional_information")}]),id:"memberAdditionalInformation",rows:"4","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.formData.additional_information=e})},"\n                            ",2),[[a.vModelText,o.formData.additional_information]]),(0,a.createElementVNode)("div",ae,(0,a.toDisplayString)(e.getError("additional_information")),1)])])],512),[[a.vShow,4==be.currentStep]]),(0,a.withDirectives)((0,a.createElementVNode)("div",re,[(0,a.createElementVNode)("div",ne,[(0,a.createElementVNode)("div",le,[ie,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"date",class:(0,a.normalizeClass)(["form-control",e.hasError("death_date")?"is-invalid":""]),id:"memberDeathdate","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.formData.death_date=e})},null,2),[[a.vModelText,o.formData.death_date]]),(0,a.createElementVNode)("div",se,(0,a.toDisplayString)(e.getError("death_date")),1)]),(0,a.createElementVNode)("div",de,[ce,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"memberDeathRegisterNumber",class:(0,a.normalizeClass)(["form-control",e.hasError("death_register_number")?"is-invalid":""]),"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.formData.death_register_number=e})},null,2),[[a.vModelText,o.formData.death_register_number]]),(0,a.createElementVNode)("div",me,(0,a.toDisplayString)(e.getError("death_register_number")),1)])]),(0,a.createElementVNode)("div",ue,[(0,a.createElementVNode)("div",pe,[fe,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",id:"memberDeathRegisterOffice",class:(0,a.normalizeClass)(["form-control",e.hasError("death_register_office")?"is-invalid":""]),"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.formData.death_register_number=e})},null,2),[[a.vModelText,o.formData.death_register_number]]),(0,a.createElementVNode)("div",he,(0,a.toDisplayString)(e.getError("death_register_office")),1)])])],512),[[a.vShow,5==be.currentStep]])])])]})),_:1},8,["onSubmitData","onCloseForm"])}],["__scopeId","data-v-27a29af7"]])},8008:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ke});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-64a0dcc0"),e=e(),(0,a.popScopeId)(),e},n={id:"members"},l={key:0,class:"p-3 d-flex justify-content-between"},i={class:"d-flex"},s={class:"d-flex"},d=["onDblclick"],c={class:"card-header flex-column"},m={class:"member-surname"},u={class:"d-flex gap-1"},p={class:"member-name"},f={class:"member-name"},h={class:"card-body"},b={class:"d-flex mb-2 align-items-center family-relationship"},v={class:"d-flex mb-2 flex-column border-top pt-2"},y={class:"d-flex d-flex justify-content-between align-items-center"},g={class:"d-flex"},E={class:"fs-08 text-muted"},V={key:0,class:"d-flex"},k={class:"card-footer d-flex justify-content-between"},_={class:"dropdown"},N={class:"dropdown-menu"},w=["onClick"],D=r((function(){return(0,a.createElementVNode)("span",null,"Довідка про склад родини",-1)})),C={class:"new-member"},x={key:1,class:"table table-sm table-bordered"},S={class:"table-secondary"},F=r((function(){return(0,a.createElementVNode)("th",{class:"show-record"},null,-1)})),B=r((function(){return(0,a.createElementVNode)("th",null,"Прізвище",-1)})),P=r((function(){return(0,a.createElementVNode)("th",null,"Ім'я",-1)})),O=r((function(){return(0,a.createElementVNode)("th",null,"По батькові",-1)})),I=r((function(){return(0,a.createElementVNode)("th",null,"Стать",-1)})),M=r((function(){return(0,a.createElementVNode)("th",{class:"text-center"},"Дата народження",-1)})),T=r((function(){return(0,a.createElementVNode)("th",{class:"text-center"},"Вік",-1)})),j={key:0,class:"text-center"},H=r((function(){return(0,a.createElementVNode)("th",null,"Родинні стосунки",-1)})),Z={class:"text-center show-record"},z={class:"text-center"},A={class:"text-center"},R={key:0,class:"text-center"};var L=o(8877),U=o(894),$=o(6196),q=o(5317),Y=o(9335),W=o(4280),J=function(e){return(0,a.pushScopeId)("data-v-1f09809d"),e=e(),(0,a.popScopeId)(),e},G={class:"table table-bordered table-sm"},Q=J((function(){return(0,a.createElementVNode)("th",{class:"brick"},null,-1)})),K={class:"member-name__horizontal"},X={class:"member-name__horizontal"},ee={key:0,class:"brick"},te=["id","data-sex","onUpdate:modelValue","title"],oe=J((function(){return(0,a.createElementVNode)("option",{value:"0",disabled:""},"оберіть зв'язок",-1)})),ae=["value"],re=["value"];var ne=o(3574);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ie(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function se(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(o),!0).forEach((function(t){de(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ie(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function de(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==le(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ce={name:"HouseholdMembersComposition",props:{members:{type:Array,required:!0},availableLinks:{type:Object,required:!0},establishedLinks:{type:Object,required:!0}},data:function(){return{relativePairs:{}}},methods:{submitData:function(){var e=this;JSON.stringify(this.availableLinks)!==JSON.stringify(this.establishedLinks)&&axios.post("/api/v1/establish-family-relationships",this.availableLinks).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message)}))},closeForm:function(){this.$emit("closeHouseholdFamilyComposition")},fillRelativePairs:function(){this.relativePairs["чоловік.жіноча"]="дружина",this.relativePairs["дружина.чоловіча"]="чоловік",this.relativePairs["син.чоловіча"]="батько",this.relativePairs["син.жіноча"]="мати",this.relativePairs["дочка.чоловіча"]="батько",this.relativePairs["дочка.жіноча"]="мати",this.relativePairs["батько.чоловіча"]="син",this.relativePairs["батько.жіноча"]="дочка",this.relativePairs["мати.чоловіча"]="син",this.relativePairs["мати.жіноча"]="дочка",this.relativePairs["тесть.чоловіча"]="зять",this.relativePairs["теща.жіноча"]="зять",this.relativePairs["свекор.чоловіча"]="невістка",this.relativePairs["свекруха.жіноча"]="невістка",this.relativePairs["невістка.чоловіча"]="свекор",this.relativePairs["невістка.жіноча"]="свекруха",this.relativePairs["дід.чоловіча"]="онук",this.relativePairs["дід.жіноча"]="онука",this.relativePairs["баба.чоловіча"]="онук",this.relativePairs["баба.жіноча"]="онука",this.relativePairs["онука.чоловіча"]="дід",this.relativePairs["онука.жіноча"]="баба",this.relativePairs["онук.чоловіча"]="дід",this.relativePairs["онук.жіноча"]="баба",this.relativePairs["брат.чоловіча"]="брат",this.relativePairs["брат.жіноча"]="сестра",this.relativePairs["сестра.чоловіча"]="брат",this.relativePairs["сестра.жіноча"]="сестра",this.relativePairs["прадід.чоловіча"]="правнук",this.relativePairs["прадід.жіноча"]="правнука",this.relativePairs["прабаба.чоловіча"]="правнук",this.relativePairs["прабаба.жіноча"]="правнучка"},relationshipSelected:function(e){var t=e.target.selectedOptions[0].text,o=e.target.id.split(".").reverse().join("."),a=document.getElementById(o).dataset.sex,r=this.relativePairs["".concat(t,".").concat(a)],n=0;n="чоловіча"==a?this.maleRelationships.find((function(e){return e.name==r})).id:this.femaleRelationships.find((function(e){return e.name==r})).id,this.$emit("relationshipSelected",{corMemberId:o,relationId:n})}},computed:se(se({},(0,U.Se)("FamilyRelationshipTypes",{relationshipTypes:"types"})),{},{maleRelationships:function(){return this.relationshipTypes.filter((function(e){return"чоловіча"==e.sex}))},femaleRelationships:function(){return this.relationshipTypes.filter((function(e){return"жіноча"==e.sex}))},submitIsDisabled:function(){return JSON.stringify(this.availableLinks)===JSON.stringify(this.establishedLinks)}}),created:function(){this.fillRelativePairs()},components:{ModalForm:ne.Z}};var me=o(3379),ue=o.n(me),pe=o(6998),fe={insert:"head",singleton:!1};ue()(pe.Z,fe);pe.Z.locals;var he=o(3744);const be=(0,he.Z)(ce,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"HouseholdMembersComposition",onSubmitData:l.submitData,onCloseForm:l.closeForm,modalClass:"modal-fullscreen",sumbitIsDisabled:l.submitIsDisabled},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("table",G,[(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[Q,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.members,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("th",{key:"header-".concat(e.id),class:(0,a.normalizeClass)({member__dead:"dead"==e.status})},[(0,a.createElementVNode)("div",K,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.surname),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.name)+" "+(0,a.toDisplayString)(e.patronymic),1)])],2)})),128))])]),(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.members,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:"row-".concat(e.id)},[(0,a.createElementVNode)("td",{class:(0,a.normalizeClass)({member__dead:"dead"==e.status})},[(0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.surname),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.name)+" "+(0,a.toDisplayString)(e.patronymic),1)])],2),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.members,(function(r){return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:"cell-".concat(r.id)},[r.id==e.id?((0,a.openBlock)(),(0,a.createElementBlock)("td",ee)):((0,a.openBlock)(),(0,a.createElementBlock)("td",{key:1,class:(0,a.normalizeClass)(["align-middle",{member__dead:"dead"==r.status}])},[(0,a.withDirectives)((0,a.createElementVNode)("select",{name:"familyRelationship",id:"".concat(e.id,".").concat(r.id),"data-sex":r.sex,class:"form-control",onChange:t[0]||(t[0]=function(e){return l.relationshipSelected(e)}),"onUpdate:modelValue":function(t){return o.availableLinks["".concat(e.id,".").concat(r.id)]=t},title:"Ким являється ".concat(r.surname," ").concat(r.name," ").concat(r.patronymic," по відношенню  до  ").concat(e.surname," ").concat(e.name," ").concat(e.patronymic)},[oe,"чоловіча"==r.sex?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(l.maleRelationships,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(e.name),9,ae)})),128)):((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(l.femaleRelationships,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(e.name),9,re)})),128))],40,te),[[a.vModelSelect,o.availableLinks["".concat(e.id,".").concat(r.id)]]])],2))],64)})),128))])})),128))])])]})),_:1},8,["onSubmitData","onCloseForm","sumbitIsDisabled"])}],["__scopeId","data-v-1f09809d"]]);var ve=function(e){return(0,a.pushScopeId)("data-v-6287f745"),e=e(),(0,a.popScopeId)(),e},ye={class:"row"},ge={key:0,class:"relatives"},Ee=ve((function(){return(0,a.createElementVNode)("h6",null,"Перелік родичів",-1)})),Ve={class:"table table-sm table-bordered table-600"},ke={class:"table-secondary"},_e=ve((function(){return(0,a.createElementVNode)("th",null,"Відносини",-1)})),Ne=ve((function(){return(0,a.createElementVNode)("th",null,"Прізвище І.Б.",-1)})),we=ve((function(){return(0,a.createElementVNode)("th",null,"Рік народження",-1)})),De=["onUpdate:modelValue"],Ce={key:1},xe=[ve((function(){return(0,a.createElementVNode)("div",{class:"text-center text-muted p-5"}," Родичі відсутні, або не встановленні родинні зв'язки ",-1)}))];var Se=o(8297);const Fe={name:"FamilyCompositionReportForm",props:{selectedMember:{type:[String,Number],required:!1,default:0}},mixins:[Se.Z],data:function(){return{memberId:this.selectedMember,info:{},allSelected:!1}},methods:{fetchRelatives:function(){var e=this;axios.get("/api/v1/household-members/".concat(this.memberId,"/relatives")).then((function(t){e.info=t.data.data}))},submitData:function(){var e=this,t={report:"familyComposition",member_id:this.memberId,relatives:""};t.relatives=this.info.relatives.filter((function(e){return e.selected})).map((function(e){return e.id})).join(","),axios.post("/api/v1/generate-report",t,{responseType:"arraybuffer"}).then((function(t){var o="".concat(e.info.surname," ").concat(e.info.name," ").concat(e.info.patronymic,". Довідка про склад родини.docx");e.prepareDataForDownload(t,o),e.closeForm()}))},closeForm:function(){this.memberId=0,this.allSelected=!1,this.$emit("closeFamilyCompositionReportForm")}},watch:{allSelected:function(e){e?this.info.relatives.forEach((function(e){return e.selected=!0})):this.info.relatives.length>0&&this.info.relatives.forEach((function(e){return e.selected=!1}))}},created:function(){this.fetchRelatives()},beforeUpdate:function(){this.memberId=this.selectedMember},components:{ModalForm:ne.Z}};var Be=o(1553),Pe={insert:"head",singleton:!1};ue()(Be.Z,Pe);Be.Z.locals;const Oe=(0,he.Z)(Fe,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(i,{formId:"FamilyCompositionReportForm",onSubmitData:l.submitData,onCloseForm:l.closeForm,modalClass:"modal-lg"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",ye,[n.info.relatives&&n.info.relatives.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",ge,[Ee,(0,a.createElementVNode)("table",Ve,[(0,a.createElementVNode)("thead",ke,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",null,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox",title:"Обрати усіх","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.allSelected=e}),class:"form-check-input"},null,512),[[a.vModelCheckbox,n.allSelected]])]),_e,Ne,we])]),(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.info.relatives,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e.id,class:(0,a.normalizeClass)({"text-muted":!e.selected})},[(0,a.createElementVNode)("td",null,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.selected=t},class:"form-check-input"},null,8,De),[[a.vModelCheckbox,e.selected]])]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.relation),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.surname)+" "+(0,a.toDisplayString)(e.name)+" "+(0,a.toDisplayString)(e.patronymic),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.formatted_birthdate),1)],2)})),128))])])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ce,xe))])]})),_:1},8,["onSubmitData","onCloseForm"])}],["__scopeId","data-v-6287f745"]]);function Ie(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var Te=o(2715);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function He(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function Ze(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==je(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ze={name:"HouseholdFamilyAdditionalParams",data:function(){return{familyInfo:[]}},methods:{saveData:function(){},closeForm:function(){this.$emit("refreshData")},fetchFamilyInfo:function(){var e=this;axios.get("/api/v1/households/".concat(this.household_id,"/family-info")).then((function(t){e.familyInfo=t.data.data}))}},created:function(){this.fetchFamilyInfo()},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?He(Object(o),!0).forEach((function(t){Ze(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):He(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,U.Se)("Households",["household_id"])),components:{ModalForm:ne.Z,AdditionalParamsList:Te.Z}},Ae=(0,he.Z)(ze,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("AdditionalParamsList"),s=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(s,{formId:"HouseholdFamilyAdditionalParams",onSubmitData:l.saveData,onCloseForm:l.closeForm,modalClass:"modal-lg",showFooter:!1},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(i,{owner:"App\\Models\\Household",ownerId:e.household_id,additionalParams:Ie(n.familyInfo),onRefreshData:t[0]||(t[0]=function(t){return e.$emit("refreshData")})},null,8,["ownerId","additionalParams"])]})),_:1},8,["onSubmitData","onCloseForm"])}]]);var Re=o(7341);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ue(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function $e(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(o),!0).forEach((function(t){We(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ue(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function qe(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}function We(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==Le(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Je={name:"HouseholdMembers",mixins:[Y.Z],data:function(){return{formData:{household_id:null,surname:"",name:"",patronymic:"",sex:"",birthdate:null,family_relationship_type_id:0,employment_information:"",social_information:"",additional_information:"",work_place_id:0,death_date:null,death_register_number:"",death_register_office:"",land:[],movements:[],additional_params:[]},members:[],modalTitle:"",modalSubmitCaption:"",viewMode:"card",formIsReady:!1,showAllMembers:!1,isFamilyCompositionFormShown:!1,selectedMember:0,selectedLandYear:0,familyAdditionalParams:[],additionalParamsFormIsVisible:!1,compositionReportFromIsVisible:!1,householdMembersComposition:!1,availableLinks:{},establishedLinks:{},pathMdiTagMultiple:q.Rc_,pathMdiFamilyTree:q.qym,pathMdiAccountQuestion:q.UCG,pathMdiAccountPlus:q.rMk,pathMdiAccountDetails:q.jGv,pathMdiTableAccount:q.NQi,pathMdiHeadAlert:q.pYi,pathMdiCakeVariant:q.OP8,pathMdiCoffin:q.krw,pathMdiFileCog:q.Giz,pathMdiAccountEye:q.Rxd}},provide:function(){var e=this;return{modalTitle:(0,a.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,a.computed)((function(){return e.modalSubmitCaption}))}},methods:{fetchMembers:function(){var e=this;axios.get("/api/v1/household-members?household_id=".concat(this.$route.params.id)).then((function(t){e.members=t.data.data}))},refreshData:function(){this.fetchMembers(),this.$store.dispatch("Households/fetchRecord",this.household_id),this.$store.dispatch("Households/fetchRecords")},newMember:function(){this.modalTitle="Новий член домогосподарства",this.modalSubmitCaption="Додати",this.formData.household_id=this.$route.params.id,new L.u_(document.getElementById("HouseholdMemberForm")).show()},showHouseholdMemberInfo:function(e){this.$router.push({name:"household-member",params:{id:e.id}})},closeMemberInfoForm:function(){this.formData.surname="",this.formData.name="",this.formData.patronymic="",this.formData.sex="",this.formData.birthdate=null,this.formData.family_relationship_type_id=0,this.formData.employment_information="",this.formData.social_information="",this.formData.additional_information="",this.formData.work_place_id=0,this.formData.death_date=null,this.formData.death_register_number="",this.formData.death_register_office="",this.formData.land=[],this.formData.movements=[],this.formData.additional_params=[],this.formIsReady=!1},deleteMember:function(e){var t=this;axios.delete("/api/v1/household-members/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchHousehold",t.household_id),t.clearFormData(),L.u_.getInstance("#HouseholdMemberForm").hide()}))},openHouseholdMembersComposition:function(){var e=this;this.modalTitle="Родині відносини",this.modalSubmitCaption="Встановити",this.householdMembersComposition=!0;var t=[];this.shownMembers.forEach((function(e){var o=e.relatives.map((function(t){return We({},"".concat(e.id,".").concat(t.id),t.relation_id)}));t.push.apply(t,qe(o))})),t.forEach((function(t){e.availableLinks[Object.keys(t)[0]]=Object.values(t)[0]})),this.establishedLinks=$e({},this.availableLinks),(0,a.nextTick)((function(){new L.u_(document.getElementById("HouseholdMembersComposition")).show()}))},relationshipSelected:function(e){var t=e.corMemberId,o=e.relationId;this.availableLinks[t]=o},closeHouseholdFamilyComposition:function(){L.u_.getInstance("#HouseholdMembersComposition").hide(),this.closeHouseholdFamilyComposition=!1},openFamilyCompositionReportForm:function(e){this.modalTitle="Довідка про склад родини: ".concat(e.full_name),this.modalSubmitCaption="Друк",this.selectedMember=e.id,this.compositionReportFromIsVisible=!0,(0,a.nextTick)((function(){new L.u_(document.getElementById("FamilyCompositionReportForm")).show()}))},closeFamilyCompositionReportForm:function(){L.u_.getInstance("#FamilyCompositionReportForm").hide(),this.selectedMember=0,this.compositionReportFromIsVisible=!1},openAdditionalParamsForm:function(){this.modalTitle=" Додаткова інформація о родині",this.modalSubmitCaption="Встановити",this.additionalParamsFormIsVisible=!0,(0,a.nextTick)((function(){new L.u_(document.getElementById("HouseholdFamilyAdditionalParams")).show()}))},closeAdditionalParamsForm:function(){this.additionalParamsFormIsVisible=!1}},computed:$e({shownMembers:function(){return this.showAllMembers?this.members:this.members.filter((function(e){return"active"==e.status&&!e.death_date}))},hiddenMemebersExist:function(){return this.members.some((function(e){return-1!==["dead","gone"].indexOf(e.status)||!e.death_date}))}},(0,U.Se)("Households",["household_id","familyInfo"])),created:function(){this.fetchMembers()},components:{HouseholdMemberForm:W.Z,HouseholdMembersComposition:be,FamilyCompositionReportForm:Oe,HouseholdMembersAdditionalParams:Ae,IconButton:Re.Z,SvgIcon:$.Z}};var Ge=o(7303),Qe={insert:"head",singleton:!1};ue()(Ge.Z,Qe);Ge.Z.locals;const Ke=(0,he.Z)(Je,[["render",function(e,t,o,r,L,U){var $=(0,a.resolveComponent)("IconButton"),q=(0,a.resolveComponent)("SvgIcon"),Y=(0,a.resolveComponent)("router-link"),W=(0,a.resolveComponent)("HouseholdMemberForm"),J=(0,a.resolveComponent)("HouseholdMembersComposition"),G=(0,a.resolveComponent)("FamilyCompositionReportForm"),Q=(0,a.resolveComponent)("HouseholdMembersAdditionalParams");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[L.members.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",i,[L.members.length>0?((0,a.openBlock)(),(0,a.createBlock)($,{key:0,id:"additionalParams",buttonClass:"btn-sm btn-outline-secondary me-2",title:"Додаткова інформація о родині",onClick:U.openAdditionalParamsForm,mdiPath:L.pathMdiTagMultiple},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Інформація о родині ")]})),_:1},8,["onClick","mdiPath"])):(0,a.createCommentVNode)("",!0),L.members.length>1?((0,a.openBlock)(),(0,a.createBlock)($,{key:1,id:"membersComposition",buttonClass:"btn-sm btn-outline-secondary",title:"Встановити родинні відносини",onClick:U.openHouseholdMembersComposition,mdiPath:L.pathMdiFamilyTree},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Родинні відносини ")]})),_:1},8,["onClick","mdiPath"])):(0,a.createCommentVNode)("",!0),U.hiddenMemebersExist?((0,a.openBlock)(),(0,a.createBlock)($,{key:2,buttonClass:["ms-2 btn-sm btn-outline-secondary",L.showAllMembers?"active":""],title:"Відобразити померлих і відсутніх",onClick:t[0]||(t[0]=function(e){return L.showAllMembers=!L.showAllMembers}),mdiPath:L.pathMdiAccountQuestion},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Відобразити всіх ")]})),_:1},8,["buttonClass","mdiPath"])):(0,a.createCommentVNode)("",!0),"table"==L.viewMode?((0,a.openBlock)(),(0,a.createBlock)($,{key:3,buttonClass:"ms-2 btn-sm btn-outline-secondary",title:"Додати нового члена домогосподарства",onClick:U.newMember,mdiPath:L.pathMdiAccountPlus},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)(" Новий член ")]})),_:1},8,["onClick","mdiPath"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",s,[(0,a.createVNode)($,{buttonClass:["btn-sm btn-outline-secondary me-2","card"==L.viewMode?"active":""],title:"Режим карток",onClick:t[1]||(t[1]=function(e){return L.viewMode="card"}),mdiPath:L.pathMdiAccountDetails},null,8,["buttonClass","mdiPath"]),(0,a.createVNode)($,{buttonClass:["btn-sm btn-outline-secondary","table"==L.viewMode?"active":""],title:"Режим таблиці",onClick:t[2]||(t[2]=function(e){return L.viewMode="table"}),mdiPath:L.pathMdiTableAccount},null,8,["buttonClass","mdiPath"])])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["px-3 d-flex gap-3 flex-wrap",{"pt-3":0==L.members.length}])},["card"==L.viewMode?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(U.shownMembers,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["card member",{dead:null!=t.death_date,gone:"gone"==t.status}]),key:t.id,onDblclick:function(e){return U.showHouseholdMemberInfo(t)}},[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(t.surname),1)]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(t.name),1),(0,a.createElementVNode)("div",f,(0,a.toDisplayString)(t.patronymic),1)]),"голова домогосподарства"==t.family_relationship_type?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0,type:"mdi",size:18,path:L.pathMdiHeadAlert,title:"Голова домогосподарства",id:"householdHead"},null,8,["path"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",b,[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiFamilyTree,size:18,class:"me-2",style:{color:"green"},title:"Родинні відносини"},null,8,["path"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.family_relationship_type),1)]),(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiCakeVariant,size:18,class:"me-2",style:{color:"magenta"},title:"Дата народження"},null,8,["path"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.formatedDate(t.birthdate)),1)]),(0,a.createElementVNode)("span",E,(0,a.toDisplayString)(t.full_age_with_prefix),1)]),null!=t.death_date?((0,a.openBlock)(),(0,a.createElementBlock)("div",V,[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiCoffin,size:18,class:"me-2",title:"Дата смерті"},null,8,["path"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.formatedDate(t.death_date)),1)])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",_,[(0,a.createVNode)($,{buttonClass:"btn-outline-secondary btn-transparent dropdown-toggle p-1","data-bs-toggle":"dropdown","aria-expanded":"false",size:18,title:"Друк документів",mdiPath:L.pathMdiFileCog},null,8,["mdiPath"]),(0,a.createElementVNode)("ul",N,[(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"dropdown-item cursor-pointer",onClick:function(e){return U.openFamilyCompositionReportForm(t)}},[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiFamilyTree,size:18,style:{color:"blue"},class:"me-3"},null,8,["path"]),D],8,w)])])]),(0,a.createVNode)($,{buttonClass:"btn-outline-secondary btn-transparent p-1",onClick:function(e){return U.showHouseholdMemberInfo(t)},size:18,title:"Перейти до інформації по члену домогосподарства",mdiPath:L.pathMdiAccountEye},null,8,["onClick","mdiPath"])])],42,d)})),128)),(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("div",{title:"Додати нового члена домогосподарства",onClick:t[3]||(t[3]=function(){return U.newMember&&U.newMember.apply(U,arguments)})},[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiAccountPlus,size:36},null,8,["path"])])])],64)):((0,a.openBlock)(),(0,a.createElementBlock)("table",x,[(0,a.createElementVNode)("thead",S,[(0,a.createElementVNode)("tr",null,[F,B,P,O,I,M,T,L.showAllMembers?((0,a.openBlock)(),(0,a.createElementBlock)("th",j,"Дата смерті")):(0,a.createCommentVNode)("",!0),H])]),(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(U.shownMembers,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:t.id,class:(0,a.normalizeClass)({"table-primary":"голова домогосподарства"==t.family_relationship})},[(0,a.createElementVNode)("td",Z,[(0,a.createVNode)(Y,{to:{name:"household-member",params:{id:t.id}},title:"Перейти до інформації по члену домогосподарства"},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(q,{type:"mdi",path:L.pathMdiAccountEye,size:18},null,8,["path"])]})),_:2},1032,["to"])]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.surname),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.name),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.patronymic),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.sex),1),(0,a.createElementVNode)("td",z,(0,a.toDisplayString)(e.formatedDate(t.birthdate)),1),(0,a.createElementVNode)("td",A,(0,a.toDisplayString)(t.full_age),1),L.showAllMembers?((0,a.openBlock)(),(0,a.createElementBlock)("td",R,[t.death_date?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.formatedDate(t.death_date)),1)],64)):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.family_relationship_type),1)],2)})),128))])]))],2)]),(0,a.createVNode)(W,{formData:L.formData,onRefreshData:U.refreshData},null,8,["formData","onRefreshData"]),L.householdMembersComposition?((0,a.openBlock)(),(0,a.createBlock)(J,{key:0,members:U.shownMembers,availableLinks:L.availableLinks,establishedLinks:L.establishedLinks,onRelationshipSelected:U.relationshipSelected,onCloseHouseholdFamilyComposition:U.closeHouseholdFamilyComposition},null,8,["members","availableLinks","establishedLinks","onRelationshipSelected","onCloseHouseholdFamilyComposition"])):(0,a.createCommentVNode)("",!0),L.compositionReportFromIsVisible?((0,a.openBlock)(),(0,a.createBlock)(G,{key:1,selectedMember:L.selectedMember,onCloseFamilyCompositionReportForm:U.closeFamilyCompositionReportForm},null,8,["selectedMember","onCloseFamilyCompositionReportForm"])):(0,a.createCommentVNode)("",!0),L.additionalParamsFormIsVisible?((0,a.openBlock)(),(0,a.createBlock)(Q,{key:2,onCloseForm:U.closeAdditionalParamsForm,onRefreshData:t[4]||(t[4]=function(t){return e.$store.dispatch("Households/fetchRecord",e.household_id)})},null,8,["onCloseForm"])):(0,a.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-64a0dcc0"]])},5006:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-90521394"),e=e(),(0,a.popScopeId)(),e},n={key:0,class:"card"},l={class:"card-header"},i={class:"card-title"},s=[r((function(){return(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,a.createElementVNode)("title",null,"Повернутись по переліку погосподарських карт"),(0,a.createElementVNode)("path",{d:"M4 3H18C19.11 3 20 3.9 20 5V12.08C18.45 11.82 16.92 12.18 15.68 13H12V17H13.08C12.97 17.68 12.97 18.35 13.08 19H4C2.9 19 2 18.11 2 17V5C2 3.9 2.9 3 4 3M4 7V11H10V7H4M12 7V11H18V7H12M4 13V17H10V13H4M18.44 15V17H22.44V19H18.44V21L15.44 18L18.44 15"})],-1)}))],d=r((function(){return(0,a.createElementVNode)("span",null,"Облікова картка об'єкта погосподарського обліку:",-1)})),c={class:"household-card--number"},m={class:"dropdown"},u={class:"dropdown-menu"},p=r((function(){return(0,a.createElementVNode)("span",null,"Редагувати",-1)})),f=r((function(){return(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("hr",{class:"dropdown-divider"})],-1)})),h=r((function(){return(0,a.createElementVNode)("span",null,"Видалити",-1)})),b={class:"card-body"},v={class:"px-3 pt-3"},y={class:"pt-4"};var g=o(894),E=o(8877),V=o(6196),k=o(5317),_=o(198),N=o(1278),w=o(9413),D=o(7341);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function S(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const F={name:"ShowCard",inheritAttrs:!1,components:{HouseholdForm:_.Z,Page404:N.Z,NavigationTabs:w.Z,IconButton:D.Z,SvgIcon:V.Z},props:{id:{type:[String,Number],required:!0}},data:function(){return{formData:{id:this.id,settlement_id:0,household_type_id:0,number:"",address_street_type:"",address_street_name:"",address_house:"",address_corps:"",address_apartment:"",special_marks:"",additional_data:""},tabs:[{routeName:"households.show.info",iconPath:k.EaN,title:"Головна інформація"},{routeName:"households.show.members",iconPath:k.qCs,title:"Члени домогосподарства"},{routeName:"households.show.house.years",iconPath:k.C1V,title:"Будинок / Квартира"},{routeName:"households.show.land.years",iconPath:k.kcM,title:"Земля"}],pathMdiCogs:k.pcj,pathMdiPencil:k.r9,pathMdiTrashCan:k.QGK}},provide:function(){return{modalTitle:"Редагування облікової картки",modalSubmitCaption:"Зберегти"}},methods:{openHouseholdForm:function(){var e=this;this.formData.id=this.id,this.formData.settlement_id=this.household.settlement_id,this.formData.household_type_id=this.household.household_type_id,this.formData.number=this.household.number,this.formData.special_marks=this.household.special_marks,this.formData.additional_data=this.household.additional_data;var t=["address_street_type","address_street_name","address_house","address_corps","address_apartment"];this.household.address.split(",").forEach((function(o,a){e.formData[t[a]]=o})),new E.u_(document.getElementById("HouseholdForm")).show()},deleteHouseholdCard:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити облікову картку").then((function(o){o.isConfirmed&&axios.delete("/api/v1/households/".concat(e)).then((function(e){t.$store.dispatch("Households/fetchRecords"),t.$toast(e.data.message),t.$router.push({name:"households"})})).catch((function(e){t.$errorMessage("Неможливо видалити картку",e.response.data.message,"Зрозуміло")}))}))},refreshData:function(){this.$store.dispatch("Households/fetchRecord",this.id),this.$store.dispatch("Households/fetchRecords")}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){S(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,g.Se)("Households",["household"])),watch:{$route:function(e,t){e.params.id!==t.params.id&&e.name==t.name&&this.$store.dispatch("Households/fetchRecord",e.params.id)}},created:function(){this.$store.dispatch("Households/fetchRecord",this.id)}};var B=o(3379),P=o.n(B),O=o(5445),I={insert:"head",singleton:!1};P()(O.Z,I);O.Z.locals;const M=(0,o(3744).Z)(F,[["render",function(e,t,o,r,g,E){var V,k=(0,a.resolveComponent)("IconButton"),_=(0,a.resolveComponent)("SvgIcon"),N=(0,a.resolveComponent)("NavigationTabs"),w=(0,a.resolveComponent)("router-view"),D=(0,a.resolveComponent)("Page404"),C=(0,a.resolveComponent)("HouseholdForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[null!==(V=e.household)&&void 0!==V&&V.id?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("span",{class:"go-back-page",onClick:t[0]||(t[0]=function(t){return e.$router.push({name:"households"})})},s),d,(0,a.createElementVNode)("span",c,(0,a.toDisplayString)(e.household.household_number),1)]),(0,a.withDirectives)((0,a.createElementVNode)("div",m,[(0,a.createVNode)(k,{buttonClass:"btn-outline-secondary btn-transparent dropdown-toggle p-2","data-bs-toggle":"dropdown","aria-expanded":"false",size:16,mdiPath:g.pathMdiCogs},null,8,["mdiPath"]),(0,a.createElementVNode)("ul",u,[(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"dropdown-item d-flex align-items-center cursor-pointer",onClick:t[1]||(t[1]=function(){return E.openHouseholdForm&&E.openHouseholdForm.apply(E,arguments)})},[(0,a.createVNode)(_,{type:"mdi",path:g.pathMdiPencil,size:16,class:"text-warning me-2"},null,8,["path"]),p])]),f,(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"dropdown-item d-flex align-items-center cursor-pointer",onClick:t[2]||(t[2]=function(t){return E.deleteHouseholdCard(e.household.id)})},[(0,a.createVNode)(_,{type:"mdi",path:g.pathMdiTrashCan,size:16,class:"text-danger me-2"},null,8,["path"]),h])])])],512),[[a.vShow,"households.show.info"==e.$route.name]])]),(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",v,[(0,a.createVNode)(N,{tabs:g.tabs,navigationClass:["px-3"]},null,8,["tabs"]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(w)])])])])):((0,a.openBlock)(),(0,a.createBlock)(D,{key:1,message:"Домогосподарство з id:".concat(o.id," відсутне"),resource:"img/404/house.png",fallbackUrl:"households",fallbackUrlMessage:"Повернутись до переліку домогосподарств"},null,8,["message"])),(0,a.createVNode)(C,{formData:g.formData,action:"update",onRefreshData:E.refreshData},null,8,["formData","onRefreshData"])],64)}],["__scopeId","data-v-90521394"]])}}]);