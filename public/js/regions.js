"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[986],{3950:(e,t,r)=>{r.d(t,{Z:()=>k});var o=r(8222),n={class:"row mb-3"},a={class:"col"},i=(0,o.createElementVNode)("label",{for:"householdType",class:"form-label"},"Регіон",-1),l=["disabled"],c=(0,o.createElementVNode)("option",{disabled:"",value:"0"},"Оберить регіон",-1),s=["value"],d={id:"regionValidation",class:"invalid-feedback"},m={class:"row mb-3"},u={class:"col"},f=(0,o.createElementVNode)("label",{for:"regionName",class:"form-label"},"Назва",-1),p={id:"regionNameValidation",class:"invalid-feedback"},b={class:"row mb-3"},g={class:"col"},v=(0,o.createElementVNode)("label",{for:"regionCenter",class:"form-label"},"Адміністративний центр",-1),y={id:"regionCenterValidation",class:"invalid-feedback"};var h=r(894),D=r(4170);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w={name:"DistrictForm",mixins:[r(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post("/api/v1/districts",this.formData).then((function(t){e.clearFormData(),e.$store.dispatch("Districts/fetchDistricts"),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/districts/".concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$store.dispatch("Districts/fetchDistrict",e.formData.id),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors}))},clearFormData:function(){this.formData.name="",this.formData.center="",this.errors=[]}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,h.Se)("Regions",["regions"])),components:{ModalForm:D.Z}};const k=(0,r(3744).Z)(w,[["render",function(e,t,r,h,D,E){var N=(0,o.resolveComponent)("ModalForm");return(0,o.openBlock)(),(0,o.createBlock)(N,{formId:"DistrictForm",onSubmitData:E.submitData,onCloseForm:E.clearFormData},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",a,[i,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)(["form-control",e.hasError("region_id")?"is-invalid":""]),id:"region","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.formData.region_id=e}),disabled:r.disabledFields.includes("region_id")},[c,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.regions,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.id,key:e.id},(0,o.toDisplayString)(e.name),9,s)})),128))],10,l),[[o.vModelSelect,r.formData.region_id]]),(0,o.createElementVNode)("div",d,(0,o.toDisplayString)(e.getError("region_id")),1)])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",u,[f,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:(0,o.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"regionName","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.formData.name=e})},null,2),[[o.vModelText,r.formData.name]]),(0,o.createElementVNode)("div",p,(0,o.toDisplayString)(e.getError("name")),1)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",g,[v,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:(0,o.normalizeClass)(["form-control",e.hasError("center")?"is-invalid":""]),id:"regionCenter","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.formData.center=e})},null,2),[[o.vModelText,r.formData.center]]),(0,o.createElementVNode)("div",y,(0,o.toDisplayString)(e.getError("center")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},3831:(e,t,r)=>{r.d(t,{Z:()=>p});var o=r(8222),n={class:"row mb-3"},a={class:"col"},i=(0,o.createElementVNode)("label",{for:"regionName",class:"form-label"},"Назва",-1),l={id:"regionNameValidation",class:"invalid-feedback"},c={class:"row mb-3"},s={class:"col"},d=(0,o.createElementVNode)("label",{for:"regionCenter",class:"form-label"},"Обласний центр",-1),m={id:"regionCenterValidation",class:"invalid-feedback"};var u=r(4170);const f={name:"RegionsForm",mixins:[r(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post("/api/v1/regions",this.formData).then((function(t){e.clearFormData(),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/regions/".concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors}))},clearFormData:function(){this.formData.name="",this.formData.center="",this.errors=[]}},components:{ModalForm:u.Z}};const p=(0,r(3744).Z)(f,[["render",function(e,t,r,u,f,p){var b=(0,o.resolveComponent)("ModalForm");return(0,o.openBlock)(),(0,o.createBlock)(b,{formId:"RegionForm",onSubmitData:p.submitData,onCloseForm:p.clearFormData},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",a,[i,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:(0,o.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"regionName","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.formData.name=e})},null,2),[[o.vModelText,r.formData.name]]),(0,o.createElementVNode)("div",l,(0,o.toDisplayString)(e.getError("name")),1)])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[d,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:(0,o.normalizeClass)(["form-control",e.hasError("center")?"is-invalid":""]),id:"regionCenter","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.formData.center=e})},null,2),[[o.vModelText,r.formData.center]]),(0,o.createElementVNode)("div",m,(0,o.toDisplayString)(e.getError("center")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>V});var o=r(8222),n={class:"card"},a={class:"card-header"},i={class:"dictionary-name__wrapper"},l=(0,o.createElementVNode)("span",null,"Довідник 'Регіони'",-1),c={class:"card-body"},s=(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",{class:"show-record"}),(0,o.createElementVNode)("th",null,"Назва"),(0,o.createElementVNode)("th",null,"Обласний центр"),(0,o.createElementVNode)("th")],-1),d={class:"text-center"},m=(0,o.createElementVNode)("td",null,null,-1);var u=r(894),f=r(8877),p=r(4806),b=r(3831),g=r(719),v=r(5796),y=r(5221);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N={components:{DataTable:p.Z,RegionForm:b.Z,ButtonAdd:g.Z,ButtonRefreshData:v.Z,DictionaryShowRecordLink:y.Z},data:function(){return{form:{name:"",center:""}}},provide:function(){return{modalTitle:"Новий регіон"}},methods:{addRegion:function(){new f.u_(document.getElementById("RegionForm")).show()},searchData:function(e,t){}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,u.Se)("Regions",["regions"]))};const V=(0,r(3744).Z)(N,[["render",function(e,t,r,u,f,p){var b=(0,o.resolveComponent)("ButtonAdd"),g=(0,o.resolveComponent)("ButtonRefreshData"),v=(0,o.resolveComponent)("DictionaryShowRecordLink"),y=(0,o.resolveComponent)("DataTable"),h=(0,o.resolveComponent)("RegionForm");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[l,(0,o.createVNode)(b,{onClick:p.addRegion,buttonClass:"btn-primary p-2",title:"Додати новий регіон"},null,8,["onClick"]),(0,o.createVNode)(g,{buttonClass:"btn-outline-primary ms-2 p-2",onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("Regions/fetchRecords")})})])]),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(y,{dataTable:e.regions,tableClass:"table-bordered table-hover",tableHeaderClass:"table-dark"},{header:(0,o.withCtx)((function(){return[s]})),default:(0,o.withCtx)((function(e){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.paginatedData,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",d,[(0,o.createVNode)(v,{routeName:"regions.show",routeParamId:e.id},null,8,["routeParamId"])]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.center),1),m])})),128))]})),_:1},8,["dataTable"])])]),(0,o.createVNode)(h,{formData:f.form,onRefreshData:t[1]||(t[1]=function(t){return e.$store.dispatch("Regions/fetchRecords")})},null,8,["formData"])],64)}]])},4311:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var o=r(8222),n={key:1,class:"row"},a={class:"col-md-6"},i={class:"card"},l={class:"card-header"},c={class:"dictionary-name__wrapper d-flex justify-content-between flex-grow-1"},s=(0,o.createElementVNode)("span",null,"Інформація",-1),d={class:"card-body"},m={class:"row mb-3"},u={class:"row mb-3"},f=(0,o.createElementVNode)("div",{class:"col-md-6"}," Назва ",-1),p={class:"col-md-6"},b={class:"row"},g=(0,o.createElementVNode)("div",{class:"col-md-6"}," Адміністративний центр ",-1),v={class:"col-md-6"},y={class:"col-md-6"},h={class:"card"},D={class:"card-header"},E={class:"dictionary-name__wrapper flex-grow-1 justify-content-between"},N=(0,o.createElementVNode)("span",null,"Районі в регіоні",-1),V={class:"card-body"},w=(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"Назва"),(0,o.createElementVNode)("th",null,"Центр")],-1),k={key:1,class:"text-center text-muted"};var S=r(8877),C=r(894),O=r(3831),j=r(3950),F=r(4806),B=r(1278),P=r(9736),R=r(719);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _={name:"RegionsShow",props:{id:{type:[String,Number],required:!0}},provide:function(){var e=this;return{modalTitle:(0,o.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,o.computed)((function(){return e.modalSubmitCaption}))}},data:function(){return{regionFormData:{name:"",center:"",id:null},districtFormData:{region_id:this.id,name:"",center:""},modalTitle:"",modalSubmitCaption:""}},methods:{openRegionForm:function(){var e=new S.u_(document.getElementById("RegionForm"));this.modalTitle="Редагувати інформацію о регіоні",this.modalSubmitCaption="Зберегти",this.regionFormData.name=this.region.name,this.regionFormData.center=this.region.center,this.regionFormData.id=this.region.id,e.show()},openDistrictForm:function(){var e=new S.u_(document.getElementById("DistrictForm"));this.modalTitle="Новий район в регіоні",this.modalSubmitCaption="Додати",e.show()}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,C.Se)("Regions",["region"])),created:function(){this.$store.dispatch("Regions/fetchRecord",this.id)},components:{DataTable:F.Z,RegionForm:O.Z,DistrictForm:j.Z,Page404:B.Z,ButtonEdit:P.Z,ButtonAdd:R.Z}};const M=(0,r(3744).Z)(_,[["render",function(e,t,r,S,C,O){var j=(0,o.resolveComponent)("breadcrumbs"),F=(0,o.resolveComponent)("ButtonEdit"),B=(0,o.resolveComponent)("ButtonAdd"),P=(0,o.resolveComponent)("router-link"),R=(0,o.resolveComponent)("DataTable"),x=(0,o.resolveComponent)("Page404"),T=(0,o.resolveComponent)("RegionForm"),Z=(0,o.resolveComponent)("DistrictForm");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[e.region.name?((0,o.openBlock)(),(0,o.createBlock)(j,{key:0})):(0,o.createCommentVNode)("",!0),e.region.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",c,[s,(0,o.createVNode)(F,{buttonClass:"btn-light btn-transparent p-2",onClick:O.openRegionForm,title:"Редагувати дані"},null,8,["onClick"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",u,[f,(0,o.createElementVNode)("div",p,(0,o.toDisplayString)(e.region.name),1)]),(0,o.createElementVNode)("div",b,[g,(0,o.createElementVNode)("div",v,(0,o.toDisplayString)(e.region.center),1)])])])])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",E,[N,(0,o.createVNode)(B,{buttonClass:"btn-light btn-transparent p-2",title:"Додати район",onClick:O.openDistrictForm},null,8,["onClick"])])]),(0,o.createElementVNode)("div",V,[e.region.districts.length>0?((0,o.openBlock)(),(0,o.createBlock)(R,{key:0,dataTable:e.region.districts,tableClass:"table-bordered",tableHeaderClass:"table-secondary"},{header:(0,o.withCtx)((function(){return[w]})),default:(0,o.withCtx)((function(e){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.paginatedData,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",null,[(0,o.createVNode)(P,{to:{name:"districts.show",params:{id:e.id}}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.name),1)]})),_:2},1032,["to"])]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.center),1)])})),128))]})),_:1},8,["dataTable"])):((0,o.openBlock)(),(0,o.createElementBlock)("div",k," Відсутня інформація по районах в данному данному регіоні "))])])])])):((0,o.openBlock)(),(0,o.createBlock)(x,{key:2,message:"Регіон з id:".concat(r.id," відсутній"),resource:"img/404/dictionary.png",fallbackUrl:"regions",fallbackUrlMessage:"Повернутись до переліку регіонів"},null,8,["message"])),(0,o.createVNode)(T,{formData:C.regionFormData,action:"update"},null,8,["formData"]),(0,o.createVNode)(Z,{formData:C.districtFormData,onRefreshData:t[0]||(t[0]=function(t){return e.$store.dispatch("Regions/fetchRegion",r.id)}),"disabled-fields":["region_id"]},null,8,["formData"])],64)}]])}}]);