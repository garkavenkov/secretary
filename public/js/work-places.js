"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[761],{2965:(e,t,r)=>{r.d(t,{Z:()=>o});const o={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,r=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(r=r.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),r.forEach((function(e){var r="formData.".concat(e);t.$watch(r,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},4322:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(8222),n=r(8877);const a={data:function(){return{action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,o.computed)((function(){return e.modalTitle})),modalSubmitCaption:(0,o.computed)((function(){return e.modalSubmitCaption}))}},methods:{openFormForAdd:function(){var e=new n.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleCreate,this.modalSubmitCaption="Додати",this.action="create",e.show()},openFormForEdit:function(e){var t=new n.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleUpdate,this.modalSubmitCaption="Зберегти",Object.assign(this.formData,e),this.action="update",t.show()}}}},8179:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"table th[data-v-4987509a]:last-of-type{width:7rem}table tr[data-v-4987509a]{vertical-align:middle}table tr td.actions[data-v-4987509a]{display:flex;justify-content:space-around}",""]);const a=n},1124:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(8222),n=["colspan"];const a={name:"DictionaryDataSearchEmptyResult",props:{cols:{type:Number,required:!0}},data:function(){return{}}};const i=(0,r(3744).Z)(a,[["render",function(e,t,r,a,i,l){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",null,[(0,o.createElementVNode)("td",{colspan:r.cols,class:"p-3 text-muted text-center"},[(0,o.renderSlot)(e.$slots,"default",{},(function(){return[(0,o.createTextVNode)(" Дані, що задовольняють пошуку, не знайдені. ")]}))],8,n)])}]])},3574:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(8222),n=["id"],a={class:"modal-header"},i={class:"d-flex align-items-center"},l=["innerHTML"],d={class:"modal-body"},c={key:0,class:"modal-footer justify-content-between"},s=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},emits:["submitData","closeForm"],data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,r(3744).Z)(m,[["render",function(e,t,r,m,u,f){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"modal fade",id:r.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-dialog",r.modalClass])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-content",r.modalContentClass])},[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("h1",{class:"modal-title fs-5",innerHTML:f.modalFormTitle},null,8,l),(0,o.renderSlot)(e.$slots,"modalHeader")]),(0,o.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,o.createElementVNode)("div",d,[(0,o.renderSlot)(e.$slots,"default")]),r.showFooter?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",null,[(0,o.renderSlot)(e.$slots,"footer")]),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})}," Відмінити "),(0,o.createElementVNode)("button",{type:"button",class:(0,o.normalizeClass)(["ms-4 btn",[r.sumbitIsDisabled?"btn-outline-primary":"btn-primary"]]),onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:r.sumbitIsDisabled},(0,o.toDisplayString)(f.modalFormSubmitCaption),11,s)])])):(0,o.createCommentVNode)("",!0)],2)],2)],8,n)}]])},8003:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(8222),n={class:"col"},a=["for"],i=["id","onUpdate:modelValue"],l=["id"];var d=r(3574);const c={name:"SystemDictionaryForm",mixins:[r(2965).Z],props:{formId:{type:String,required:!0},fields:{type:Array,required:!0},url:{type:String,required:!0},formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},emits:["refreshData"],data:function(){return{}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.url,this.formData).then((function(t){e.clearFormData(),e.$toast(t.data.message),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("".concat(this.url,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$toast(t.data.message),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors}))},clearFormData:function(){this.formData.name="",this.errors=[]}},components:{ModalForm:d.Z}};const s=(0,r(3744).Z)(c,[["render",function(e,t,r,d,c,s){var m=(0,o.resolveComponent)("ModalForm");return(0,o.openBlock)(),(0,o.createBlock)(m,{formId:r.formId,onSubmitData:s.submitData,onCloseForm:s.clearFormData},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.fields,(function(t,d){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"row mb-3",key:d},[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("label",{for:t.fieldId,class:(0,o.normalizeClass)(["form-label",{"is-invalid":e.hasError(t.name)}])},(0,o.toDisplayString)(t.title),11,a),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{row:"2",class:(0,o.normalizeClass)(["form-control",{"is-invalid":e.hasError(t.name)}]),id:t.fieldId,"onUpdate:modelValue":function(e){return r.formData[t.name]=e}},"\n                ",10,i),[[o.vModelText,r.formData[t.name]]]),t.validate?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,id:"".concat(t.fieldId,"Validation"),class:"invalid-feedback"},(0,o.toDisplayString)(e.getError(t.name)),9,l)):(0,o.createCommentVNode)("",!0)])])})),128))]})),_:1},8,["formId","onSubmitData","onCloseForm"])}]])},382:(e,t,r)=>{r.d(t,{Z:()=>y});var o=r(8222),n={class:"card"},a={class:"card-header"},i={class:"dictionary-name__wrapper"},l={class:"card-body"},d=function(e){return(0,o.pushScopeId)("data-v-4987509a"),e=e(),(0,o.popScopeId)(),e}((function(){return(0,o.createElementVNode)("th",null,null,-1)})),c={class:"actions"};var s=r(1124);const m={name:"SystemDictionaryTable",props:{title:{type:String,required:!0},dataTable:{type:Array,required:!0},fields:{type:Array,required:!0},newRecordTitle:{type:String,required:!1,default:"Додати новий запис"},editRecordTitle:{type:String,required:!1,default:"Редагувати запис"},deleteRecordTitle:{type:String,required:!1,default:"Видалити запис"}},components:{DictionaryDataSearchEmptyResult:s.Z},emits:["newRecord","editRecord","deleteRecord"],data:function(){return{}},methods:{searchData:function(e,t){return this.fields.some((function(r){return e[r.name].toLowerCase().includes(t.toLowerCase())}))}}};var u=r(3379),f=r.n(u),p=r(8179),b={insert:"head",singleton:!1};f()(p.Z,b);p.Z.locals;const y=(0,r(3744).Z)(m,[["render",function(e,t,r,s,m,u){var f=(0,o.resolveComponent)("ButtonAdd"),p=(0,o.resolveComponent)("ButtonEdit"),b=(0,o.resolveComponent)("ButtonDelete"),y=(0,o.resolveComponent)("DictionaryDataSearchEmptyResult"),h=(0,o.resolveComponent)("DataTable");return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.title),1),(0,o.createVNode)(f,{buttonClass:"btn-primary p-2",onClick:t[0]||(t[0]=function(t){return e.$emit("newRecord")}),title:r.newRecordTitle},null,8,["title"])])]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(h,{dataTable:r.dataTable,tableClass:"table-bordered table-hover table-sm",tableHeaderClass:"table-dark"},{header:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("tr",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.fields,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("th",{key:t},(0,o.toDisplayString)(e.title),1)})),128)),d])]})),default:(0,o.withCtx)((function(t){return[t.paginatedData.length>0?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(t.paginatedData,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:t.id},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.fields,(function(e,r){return(0,o.openBlock)(),(0,o.createElementBlock)("td",{key:r},(0,o.toDisplayString)(t[e.name]),1)})),128)),(0,o.createElementVNode)("td",c,[(0,o.createVNode)(p,{buttonClass:"btn-outline-warning btn-transparent p-2",title:r.editRecordTitle,onClick:function(r){return e.$emit("editRecord",t)}},null,8,["title","onClick"]),(0,o.createVNode)(b,{buttonClass:"btn-outline-danger btn-transparent ms-3 p-2",title:r.deleteRecordTitle,onClick:function(r){return e.$emit("deleteRecord",t)}},null,8,["title","onClick"])])])})),128)):((0,o.openBlock)(),(0,o.createBlock)(y,{key:1,cols:r.fields.length+1},null,8,["cols"]))]})),_:1},8,["dataTable"])])])}],["__scopeId","data-v-4987509a"]])},4732:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var o=r(8222),n={class:"row"},a={class:"col-md-10 col-lg-10 mx-auto"};var i=r(894),l=r(4322),d=r(382),c=r(8003);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f={name:"WorkPlacesMain",mixins:[l.Z],components:{SystemDictionaryTable:d.Z,SystemDictionaryForm:c.Z},data:function(){return{formId:"WorkPlaceForm",modalTitleCreate:"Новий код місця роботи",modalTitleUpdate:"Редагування коду",fields:[{title:"Назва",name:"name",fieldId:"workPlaceName",validate:!0}],formData:{name:""}}},methods:{resetForm:function(){this.formData.name=""}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,i.Se)("WorkPlaces",["places"]))};const p=(0,r(3744).Z)(f,[["render",function(e,t,r,i,l,d){var c=(0,o.resolveComponent)("SystemDictionaryTable"),s=(0,o.resolveComponent)("SystemDictionaryForm");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",a,[(0,o.createVNode)(c,{dataTable:e.places,fields:l.fields,title:"Довідник 'Коди місця роботи (заняття)'",newRecordTitle:"Додати новий код місця роботи",editRecordTitle:"Редагувати код місця роботи",deleteRecordTitle:"Видалити код місця роботи",onNewRecord:e.openFormForAdd,onEditRecord:e.openFormForEdit,onDeleteRecord:t[0]||(t[0]=function(){})},null,8,["dataTable","fields","onNewRecord","onEditRecord"])])]),(0,o.createVNode)(s,{formData:l.formData,action:e.action,formId:l.formId,fields:l.fields,url:"/api/v1/work-places",onRefreshData:t[1]||(t[1]=function(t){return e.$store.dispatch("WorkPlaces/fetchRecords")}),onResetForm:d.resetForm},null,8,["formData","action","formId","fields","onResetForm"])],64)}]])}}]);