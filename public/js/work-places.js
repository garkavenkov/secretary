"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[761],{3425:(e,t,a)=>{a.d(t,{Z:()=>r});const r={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,a=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(a=a.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),a.forEach((function(e){var a="formData.".concat(e);t.$watch(a,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},4194:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(8222),n=a(8877);const i={data:function(){return{formData:{name:""},action:"",modalTitle:"",modalSubmitCaption:""}},provide:function(){var e=this;return{modalTitle:(0,r.Fl)((function(){return e.modalTitle})),modalSubmitCaption:(0,r.Fl)((function(){return e.modalSubmitCaption}))}},methods:{openFormForAdd:function(){var e=new n.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleCreate,this.modalSubmitCaption="Додати",this.action="create",e.show()},openFormForEdit:function(e){var t=new n.u_(document.getElementById(this.formId));this.modalTitle=this.modalTitleUpdate,this.modalSubmitCaption="Зберегти",this.formData.id=e.id,this.formData.name=e.name,this.action="update",t.show()}}}},4901:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".per-page[data-v-8188d1a4],.search[data-v-8188d1a4]{border:1px solid #ced4da;border-radius:.25rem;color:#495057;font-size:.9rem;font-weight:400;line-height:1.6}.per-page[data-v-8188d1a4]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0 0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") right .75rem center/8px 10px no-repeat;padding:.3rem 1.5rem .3rem .5rem;vertical-align:middle}.search__wrapper label[data-v-8188d1a4]{margin-right:.5rem}.search__wrapper .search[data-v-8188d1a4]{background-clip:padding-box;background-color:#fff;display:inline-block;height:calc(1.6em + .75rem);padding:.375rem .75rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:200px}.per-page[data-v-8188d1a4]:focus,.search[data-v-8188d1a4]:focus{border-color:#7db8fb;box-shadow:0 0 0 .2rem rgba(7,117,242,.25);outline:0}.per-page__wrapper span[data-v-8188d1a4]{margin-right:.5rem}tbody tr[data-v-8188d1a4]:last-of-type{border-bottom:2px solid #343a40}",""]);const i=n},5463:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,"table tr td[data-v-03a25192]:last-of-type{text-align:center;width:5rem}",""]);const i=n},3941:(e,t,a)=>{a.d(t,{Z:()=>C});var r=a(8222),n=function(e){return(0,r.dD)("data-v-8188d1a4"),e=e(),(0,r.Cn)(),e},i={class:"data-table--wrapper"},o={key:0,class:"data-table_ d-flex justify-content-between pb-2"},s={class:"per-page__wrapper"},l=n((function(){return(0,r._)("span",null,"Відображати",-1)})),d=["disabled"],c=["value"],u={class:"search__wrapper"},m=n((function(){return(0,r._)("label",{for:"search"},"Поіск",-1)})),p={class:"table__wrapper"},f={class:"table-responsive"},h={key:1,class:"data-table__pagination--wrapper d-flex justify-content-between align-items-center py-2"},b={"aria-label":"Page navigation example"},g={class:"pagination mb-0"},v=["onClick"];const y={name:"DataTable",props:{perPageItems:{type:Array,required:!1,default:function(){return[10,20,50]}},dataTable:{type:Array},tableHeaderClass:{type:String,required:!1},tableClass:{type:String,required:!1},searchable:{type:String,required:!1,default:""},showActionsPanel:{type:Boolean,required:!1,default:function(){return!0}},showPaginationPanel:{type:Boolean,required:!1,default:function(){return!0}}},data:function(){return{currentPage:1,perPage:this.perPageItems[0],searchData:""}},methods:{changePerPage:function(e){this.perPage=parseInt(e),this.currentPage=1},nextPage:function(){this.currentPage++},prevPage:function(){this.currentPage--},changePage:function(e){this.currentPage=e}},computed:{pagesCount:function(){return""==this.searchData?Math.ceil(this.dataTable.length/this.perPage):Math.ceil(this.paginatedData.length/this.perPage)},paginatedData:function(){var e=(this.currentPage-1)*this.perPage,t=e+this.perPage;return this.dataTable.slice(e,t)},shownFrom:function(){return(this.currentPage-1)*this.perPage},shownTo:function(){var e=this.shownFrom+this.perPage;return e<this.dataTable.length?e:this.dataTable.length},isLastPage:function(){return this.currentPage==this.pagesCount},isFirstPage:function(){return 1==this.currentPage}}};var w=a(3379),_=a.n(w),D=a(4901),P={insert:"head",singleton:!1};_()(D.Z,P);D.Z.locals;const C=(0,a(3744).Z)(y,[["render",function(e,t,a,n,y,w){return(0,r.wg)(),(0,r.iD)("div",i,[a.showActionsPanel?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",s,[l,(0,r._)("select",{name:"per_Page",id:"per_page",class:"per-page",disabled:0==w.paginatedData.length,onChange:t[0]||(t[0]=function(e){return w.changePerPage(e.target.value)})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.perPageItems,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,r.zw)(e),9,c)})),128))],40,d)]),(0,r._)("div",u,[m,(0,r._)("input",{type:"search",name:"search",id:"search",class:"search",autocomplete:"off",onInput:t[1]||(t[1]=function(t){return e.$emit("searchInput",t.target.value)})},null,32)])])):(0,r.kq)("",!0),(0,r._)("div",p,[(0,r._)("div",f,[(0,r._)("table",{class:(0,r.C_)(["table table-striped",a.tableClass])},[(0,r._)("thead",{class:(0,r.C_)(a.tableHeaderClass)},[(0,r.WI)(e.$slots,"header",{},void 0,!0)],2),(0,r._)("tbody",null,[(0,r.WI)(e.$slots,"default",{paginatedData:w.paginatedData},void 0,!0)]),(0,r._)("tfoot",null,[(0,r.WI)(e.$slots,"footer",{},void 0,!0)])],2)])]),w.paginatedData.length>0&&a.showPaginationPanel?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",null,"Відображено з "+(0,r.zw)(w.shownFrom+1)+" по "+(0,r.zw)(w.shownTo)+" із "+(0,r.zw)(a.dataTable.length),1),(0,r._)("nav",b,[(0,r._)("ul",g,[(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:w.isFirstPage}])},[(0,r._)("a",{class:"page-link",onClick:t[2]||(t[2]=function(){return w.prevPage&&w.prevPage.apply(w,arguments)})},"Previous")],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.pagesCount,(function(e){return(0,r.wg)(),(0,r.iD)("li",{class:(0,r.C_)(["page-item",[y.currentPage==e?"active":""]]),key:e},[(0,r._)("a",{class:"page-link",onClick:function(t){return w.changePage(e)}},(0,r.zw)(e),9,v)],2)})),128)),(0,r._)("li",{class:(0,r.C_)(["page-item",{disabled:w.isLastPage}])},[(0,r._)("a",{class:"page-link",onClick:t[3]||(t[3]=function(){return w.nextPage&&w.nextPage.apply(w,arguments)})},"Next")],2)])])])):(0,r.kq)("",!0)])}],["__scopeId","data-v-8188d1a4"]])},278:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(8222),n=["id"],i={class:"modal-content"},o={class:"modal-header"},s={class:"d-flex align-items-center"},l=["innerHTML"],d={class:"modal-body"},c={key:0,class:"modal-footer justify-content-between"},u=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}}};const p=(0,a(3744).Z)(m,[["render",function(e,t,a,m,p,f){return(0,r.wg)(),(0,r.iD)("div",{class:"modal fade",id:a.formId,tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,r._)("div",{class:(0,r.C_)(["modal-dialog",a.modalClass])},[(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("div",s,[(0,r._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",innerHTML:f.modalTitle},null,8,l),(0,r.WI)(e.$slots,"modalHeader")]),(0,r._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,r._)("div",d,[(0,r.WI)(e.$slots,"default")]),a.showFooter?((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",null,[(0,r.WI)(e.$slots,"footer")]),(0,r._)("div",null,[(0,r._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})},"Відмінити"),(0,r._)("button",{type:"button",class:"btn btn-primary ms-4",onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:a.sumbitIsDisabled},(0,r.zw)(f.modalSubmitCaption),9,u)])])):(0,r.kq)("",!0)])],2)],8,n)}]])},8328:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(8222),n={class:"row mb-3"},i={class:"col"},o=["for"],s=["id"],l=["id"];var d=a(278);const c={name:"SystemDictionaryForm",mixins:[a(3425).Z],props:{formId:{type:String,required:!0},fieldId:{type:String,required:!0},url:{type:String,required:!0},formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{}},methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.url,this.formData).then((function(t){e.clearFormData(),e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors})):"update"==this.action&&axios.patch("".concat(this.url,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData")})).catch((function(t){e.errors=t.response.data.errors}))},clearFormData:function(){this.formData.name="",this.errors=[]}},components:{ModalForm:d.Z}};const u=(0,a(3744).Z)(c,[["render",function(e,t,a,d,c,u){var m=(0,r.up)("ModalForm");return(0,r.wg)(),(0,r.j4)(m,{formId:a.formId,onSubmitData:u.submitData,onCloseForm:u.clearFormData},{default:(0,r.w5)((function(){return[(0,r._)("div",n,[(0,r._)("div",i,[(0,r._)("label",{for:a.fieldId,class:"form-label"},"Назва",8,o),(0,r.wy)((0,r._)("textarea",{row:"2",class:(0,r.C_)(["form-control",e.hasError("name")?"is-invalid":""]),id:a.fieldId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.formData.name=e})},"\n                ",10,s),[[r.nr,a.formData.name]]),(0,r._)("div",{id:"".concat(a.fieldId,"Validation"),class:"invalid-feedback"},(0,r.zw)(e.getError("name")),9,l)])])]})),_:1},8,["formId","onSubmitData","onCloseForm"])}]])},4302:(e,t,a)=>{a.d(t,{Z:()=>y});var r=a(8222),n=function(e){return(0,r.dD)("data-v-03a25192"),e=e(),(0,r.Cn)(),e},i={class:"card"},o={class:"card-header"},s={class:"dictionary-name__wrapper"},l=[n((function(){return(0,r._)("span",{class:"mdi mdi-plus"},null,-1)}))],d={class:"card-body"},c=n((function(){return(0,r._)("th",null,null,-1)})),u=["onClick"],m=[n((function(){return(0,r._)("span",{class:"mdi mdi-pencil"},null,-1)}))];var p=a(3941);const f={name:"SystemDictionaryTable",props:{title:{type:String,required:!0},dataTable:{type:Array,required:!0},fieldsTitle:{type:Array,required:!1,default:function(){return["Назва"]}},fieldsName:{type:Array,required:!1,default:function(){return["name"]}}},data:function(){return{}},components:{DataTable:p.Z}};var h=a(3379),b=a.n(h),g=a(5463),v={insert:"head",singleton:!1};b()(g.Z,v);g.Z.locals;const y=(0,a(3744).Z)(f,[["render",function(e,t,a,n,p,f){var h=(0,r.up)("DataTable");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",o,[(0,r._)("div",s,[(0,r._)("span",null,(0,r.zw)(a.title),1),(0,r._)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=function(t){return e.$emit("newRecord")})},l)])]),(0,r._)("div",d,[(0,r.Wm)(h,{dataTable:a.dataTable,tableHeaderClass:"table-dark"},{header:(0,r.w5)((function(){return[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.fieldsTitle,(function(e,t){return(0,r.wg)(),(0,r.iD)("th",{key:t},(0,r.zw)(e),1)})),128)),c])]})),default:(0,r.w5)((function(t){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.paginatedData,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{key:t.id},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.fieldsName,(function(e,a){return(0,r.wg)(),(0,r.iD)("td",{key:a},(0,r.zw)(t[e]),1)})),128)),(0,r._)("td",null,[(0,r._)("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(a){return e.$emit("editRecord",t)},title:"Редагувати інформацію"},m,8,u)])])})),128))]})),_:1},8,["dataTable"])])])}],["__scopeId","data-v-03a25192"]])},2957:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(8222),n={class:"row"},i={class:"col-md-10 col-lg-8 mx-auto"};var o=a(3907),s=a(4194),l=a(4302),d=a(8328);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function m(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const p={name:"WorkPlacesMain",mixins:[s.Z],components:{SystemDictionaryTable:l.Z,SystemDictionaryForm:d.Z},data:function(){return{formId:"WorkPlaceForm",modalTitleCreate:"Новий код місця роботи",modalTitleUpdate:"Редагування коду"}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,o.Se)("WorkPlaces",["places"]))};const f=(0,a(3744).Z)(p,[["render",function(e,t,a,o,s,l){var d=(0,r.up)("breadcrumbs"),c=(0,r.up)("SystemDictionaryTable"),u=(0,r.up)("SystemDictionaryForm");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(d),(0,r._)("div",n,[(0,r._)("div",i,[(0,r.Wm)(c,{dataTable:e.places,title:"Довідник 'Коди місця роботи (заняття)'",onNewRecord:e.openFormForAdd,onEditRecord:e.openFormForEdit},null,8,["dataTable","onNewRecord","onEditRecord"])])]),(0,r.Wm)(u,{formData:e.formData,action:e.action,formId:s.formId,fieldId:"workPlaceName",url:"/api/v1/work-places",onRefreshData:t[0]||(t[0]=function(t){return e.$store.dispatch("WorkPlaces/fetchRecords")})},null,8,["formData","action","formId"])],64)}]])}}]);