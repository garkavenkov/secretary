"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[438],{2965:(e,t,o)=>{o.d(t,{Z:()=>r});const r={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,o=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(o=o.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),o.forEach((function(e){var o="formData.".concat(e);t.$watch(o,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},3753:(e,t,o)=>{o.d(t,{Z:()=>r});const r={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors}))}}}},6854:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(3645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".dropdown .dropdown-item[data-v-9068a73c]{align-items:center;display:flex}.dropdown .dropdown-item[data-v-9068a73c]:hover{background-color:var(--bs-secondary-bg)}",""]);const n=a},5221:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(8222);var a=o(6196),n=o(5317);const l={name:"DictionaryShowRecordLink",props:{size:{type:[String,Number],required:!1,default:16},routeName:{type:String,required:!0},routeParamId:{type:[String,Number],required:!0},title:{type:String,required:!1,default:"Перейти до інформації"},mdiIconPath:{type:String,required:!1,default:""}},components:{SvgIcon:a.Z},computed:{path:function(){return""!==this.mdiIconPath?this.mdiIconPath:n.hiR}}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,a,n,l){var i=(0,r.resolveComponent)("SvgIcon"),d=(0,r.resolveComponent)("router-link");return(0,r.openBlock)(),(0,r.createBlock)(d,{to:{name:o.routeName,params:{id:o.routeParamId}},title:o.title},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(i,{type:"mdi",path:l.path,size:o.size},null,8,["path","size"])]})),_:1},8,["to","title"])}]])},547:(e,t,o)=>{o.d(t,{Z:()=>y});var r=o(8222),a=function(e){return(0,r.pushScopeId)("data-v-9068a73c"),e=e(),(0,r.popScopeId)(),e},n={class:"dropdown"},l={class:"dropdown-menu dropdown-menu-end"},i=a((function(){return(0,r.createElementVNode)("span",null,"Редагувати дані",-1)})),d={key:0},s=[a((function(){return(0,r.createElementVNode)("hr",{class:"dropdown-divider"},null,-1)}))],c=a((function(){return(0,r.createElementVNode)("span",null,"Видалити дані",-1)}));var m,u=o(6196),p=o(5317);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const v=(h(m={name:"DropDownMenu",emits:["edit","delete"],props:{buttonIconSize:{type:[String,Number],required:!1,default:16},menuIconSize:{type:[String,Number],required:!1,default:16},buttonClass:{type:[String,Array],required:!1,default:""},showToggler:{type:Boolean,required:!1,default:function(){return!0}},divideItems:{type:Boolean,required:!1,default:function(){return!0}}},components:{SvgIcon:u.Z}},"emits",["edit","delete"]),h(m,"data",(function(){return{pathMdiCog:p.Shd,pathMdiPencil:p.r9,pathMdiTrashCan:p.QGK}})),h(m,"computed",{finalClass:function(){var e="";this.showToggler&&(e="dropdown-toggle");var t="btn ".concat(e," px-2 py-1 ms-1 me-1");return this.buttonClass.isArray?t+this.buttonClass.join(" "):"".concat(t," ").concat(this.buttonClass)}}),m);var b=o(3379),N=o.n(b),E=o(6854),V={insert:"head",singleton:!1};N()(E.Z,V);E.Z.locals;const y=(0,o(3744).Z)(v,[["render",function(e,t,o,a,m,u){var p=(0,r.resolveComponent)("SvgIcon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(u.finalClass),"data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,r.createVNode)(p,{type:"mdi",path:m.pathMdiCog,size:o.buttonIconSize},null,8,["path","size"])],2),(0,r.createElementVNode)("ul",l,[(0,r.renderSlot)(e.$slots,"default",{},void 0,!0),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.$emit("edit",t)})},[(0,r.createVNode)(p,{type:"mdi",path:m.pathMdiPencil,size:o.menuIconSize,class:"text-warning me-2"},null,8,["path","size"]),i])]),o.divideItems?((0,r.openBlock)(),(0,r.createElementBlock)("li",d,s)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{class:"dropdown-item",onClick:t[1]||(t[1]=function(t){return e.$emit("delete",t)})},[(0,r.createVNode)(p,{type:"mdi",path:m.pathMdiTrashCan,size:o.menuIconSize,class:"text-danger me-2"},null,8,["path","size"]),c])])])])}],["__scopeId","data-v-9068a73c"]])},4170:(e,t,o)=>{o.d(t,{Z:()=>u});var r=o(8222),a=["id"],n={class:"modal-header"},l={class:"d-flex align-items-center"},i=["innerHTML"],d={class:"modal-body"},s={key:0,class:"modal-footer justify-content-between"},c=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,o(3744).Z)(m,[["render",function(e,t,o,m,u,p){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"modal fade",id:o.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["modal-dialog",o.modalClass])},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["modal-content",o.modalContentClass])},[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("h1",{class:"modal-title fs-5",innerHTML:p.modalFormTitle},null,8,i),(0,r.renderSlot)(e.$slots,"modalHeader")]),(0,r.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,r.createElementVNode)("div",d,[(0,r.renderSlot)(e.$slots,"default")]),o.showFooter?((0,r.openBlock)(),(0,r.createElementBlock)("div",s,[(0,r.createElementVNode)("div",null,[(0,r.renderSlot)(e.$slots,"footer")]),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})}," Відмінити "),(0,r.createElementVNode)("button",{type:"button",class:(0,r.normalizeClass)(["ms-4 btn",[o.sumbitIsDisabled?"btn-outline-primary":"btn-primary"]]),onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:o.sumbitIsDisabled},(0,r.toDisplayString)(p.modalFormSubmitCaption),11,c)])])):(0,r.createCommentVNode)("",!0)],2)],2)],8,a)}]])},7190:(e,t,o)=>{o.d(t,{Z:()=>V});var r=o(8222),a={class:"row mb-3"},n={class:"col"},l=(0,r.createElementVNode)("label",{for:"roleCode",class:"form-label"},"Код",-1),i={id:"roleCodeValidation",class:"invalid-feedback"},d={class:"row mb-3"},s={class:"col"},c=(0,r.createElementVNode)("label",{for:"roleName",class:"form-label"},"Назва",-1),m={id:"roleNameValidation",class:"invalid-feedback"},u={class:"row mb-3"},p={class:"col"},f=(0,r.createElementVNode)("label",{for:"roleDescription",class:"form-label"},"Опис",-1),h={id:"roleDescriptionValidation",class:"invalid-feedback"};var v=o(4170),b=o(2965),N=o(3753);const E={name:"RolesForm",mixins:[b.Z,N.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/roles"}},methods:{clearFormData:function(){}},components:{ModalForm:v.Z}};const V=(0,o(3744).Z)(E,[["render",function(e,t,o,v,b,N){var E=(0,r.resolveComponent)("ModalForm");return(0,r.openBlock)(),(0,r.createBlock)(E,{formId:"RoleForm",onSubmitData:e.submitData,onCloseForm:N.clearFormData},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[l,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"roleCode","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.code=e})},null,2),[[r.vModelText,o.formData.code]]),(0,r.createElementVNode)("div",i,(0,r.toDisplayString)(e.getError("code")),1)])]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",s,[c,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"roleName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[r.vModelText,o.formData.name]]),(0,r.createElementVNode)("div",m,(0,r.toDisplayString)(e.getError("name")),1)])]),(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",p,[f,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:(0,r.normalizeClass)(["form-control",e.hasError("description")?"is-invalid":""]),id:"roleDescription","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.description=e})},null,2),[[r.vModelText,o.formData.description]]),(0,r.createElementVNode)("div",h,(0,r.toDisplayString)(e.getError("description")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},1512:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var r=o(8222),a={class:"card"},n={class:"card-header"},l={class:"dictionary-name__wrapper"},i=(0,r.createElementVNode)("span",null,"Довідник 'Ролі'",-1),d={class:"card-body"},s=(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("th",{class:"show-record"}),(0,r.createElementVNode)("th",null,"Код"),(0,r.createElementVNode)("th",null,"Назва "),(0,r.createElementVNode)("th",null,"Опис")],-1),c={class:"text-center"};var m=o(8877),u=o(7190),p=o(5221);const f={name:"RolesMain",components:{RoleForm:u.Z,DictionaryShowRecordLink:p.Z},provide:function(){return{modalTitle:"Новий користувач"}},data:function(){return{roles:[],form:{code:"",name:"",description:""}}},methods:{fetchData:function(){var e=this;axios.get("/api/v1/roles").then((function(t){e.roles=t.data.data}))},openRoleForm:function(){new m.u_(document.getElementById("RoleForm")).show()}},created:function(){this.fetchData()}};const h=(0,o(3744).Z)(f,[["render",function(e,t,o,m,u,p){var f=(0,r.resolveComponent)("ButtonAdd"),h=(0,r.resolveComponent)("DictionaryShowRecordLink"),v=(0,r.resolveComponent)("DataTable"),b=(0,r.resolveComponent)("RoleForm");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",l,[i,(0,r.createVNode)(f,{buttonClass:"btn-primary p-2",onClick:p.openRoleForm,title:"Додати нову роль"},null,8,["onClick"])])]),(0,r.createElementVNode)("div",d,[(0,r.createVNode)(v,{dataTable:u.roles,tableClass:"table-bordered table-hover",tableHeaderClass:"table-dark"},{header:(0,r.withCtx)((function(){return[s]})),default:(0,r.withCtx)((function(e){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.paginatedData,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:e.id},[(0,r.createElementVNode)("td",c,[(0,r.createVNode)(h,{routeName:"roles.show",routeParamId:e.id},null,8,["routeParamId"])]),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.code),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.description),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,r.createVNode)(b,{formData:u.form,onRefreshData:p.fetchData},null,8,["formData","onRefreshData"])],64)}]])},4957:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var r=o(8222),a={class:"row"},n={class:"col-md-6 mx-auto"},l={key:0,class:"card"},i={class:"card-header"},d=(0,r.createElementVNode)("h5",null,"Інформація",-1),s={class:"card-body"},c={class:"row"},m={class:"col"},u={class:"row mb-2"},p=(0,r.createElementVNode)("div",{class:"col-md-3"}," Код ",-1),f={class:"col-md-9"},h={class:"row mb-2"},v=(0,r.createElementVNode)("div",{class:"col-md-3"}," Назва ",-1),b={class:"col-md-9"},N={class:"row mb-2"},E=(0,r.createElementVNode)("div",{class:"col-md-3"}," Опис ",-1),V={class:"col-md-9"};var y=o(8877),C=o(7190),g=o(547);const D={name:"RolesShow",props:{id:{type:[String,Number],required:!0}},provide:function(){return{modalTitle:"Редагування ролі",modalSubmitCaption:"Зберегти"}},data:function(){return{role:{},form:{id:null,code:"",name:"",description:""},apiUrl:"/api/v1/roles"}},methods:{fetchData:function(){var e=this;axios.get("".concat(this.apiUrl,"/").concat(this.id)).then((function(t){e.role=t.data.data}))},editRole:function(){this.form=Object.assign({},this.role),new y.u_(document.getElementById("RoleForm")).show()},deleteRole:function(){var e=this;this.$confirmDelete("Ви дійсно бажаєти видалити роль").then((function(t){t.isConfirmed&&axios.delete("".concat(e.apiUrl,"/").concat(e.id)).then((function(t){e.$toast(t.data.message),e.$router.push({name:"roles"})})).catch((function(t){e.$errorMessage("Неможливо видалити роль",t.response.data.message,"Зрозуміло")}))}))}},components:{RoleForm:C.Z,DropDownMenu:g.Z},created:function(){this.fetchData()}};const S=(0,o(3744).Z)(D,[["render",function(e,t,o,y,C,g){var D=(0,r.resolveComponent)("breadcrumbs"),S=(0,r.resolveComponent)("DropDownMenu"),w=(0,r.resolveComponent)("RoleForm");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(D),(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[C.role.code?((0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createElementVNode)("div",i,[d,(0,r.createVNode)(S,{onEdit:g.editRole,onDelete:g.deleteRole,buttonClass:"btn-outline-secondary btn-transparent",divideItems:!0},null,8,["onEdit","onDelete"])]),(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",u,[p,(0,r.createElementVNode)("div",f,(0,r.toDisplayString)(C.role.code),1)]),(0,r.createElementVNode)("div",h,[v,(0,r.createElementVNode)("div",b,(0,r.toDisplayString)(C.role.name),1)]),(0,r.createElementVNode)("div",N,[E,(0,r.createElementVNode)("div",V,(0,r.toDisplayString)(C.role.description),1)])])])])])):(0,r.createCommentVNode)("",!0)])]),(0,r.createVNode)(w,{formData:C.form,action:"update",onRefreshData:g.fetchData},null,8,["formData","onRefreshData"])],64)}]])}}]);