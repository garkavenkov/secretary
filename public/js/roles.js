"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[438],{2965:(e,t,o)=>{o.d(t,{Z:()=>a});const a={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,o=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(o=o.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),o.forEach((function(e){var o="formData.".concat(e);t.$watch(o,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},3753:(e,t,o)=>{o.d(t,{Z:()=>a});const a={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors}))}}}},5221:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(8222);var r=o(6196),n=o(5317);const l={name:"DictionaryShowRecordLink",props:{size:{type:[String,Number],required:!1,default:16},routeName:{type:String,required:!0},routeParamId:{type:[String,Number],required:!0},title:{type:String,required:!1,default:"Перейти до інформації"},mdiIconPath:{type:String,required:!1,default:""}},components:{SvgIcon:r.Z},computed:{path:function(){return""!==this.mdiIconPath?this.mdiIconPath:n.hiR}}};const i=(0,o(3744).Z)(l,[["render",function(e,t,o,r,n,l){var i=(0,a.resolveComponent)("SvgIcon"),d=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createBlock)(d,{to:{name:o.routeName,params:{id:o.routeParamId}},title:o.title},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(i,{type:"mdi",path:l.path,size:o.size},null,8,["path","size"])]})),_:1},8,["to","title"])}]])},3574:(e,t,o)=>{o.d(t,{Z:()=>u});var a=o(8222),r=["id"],n={class:"modal-header"},l={class:"d-flex align-items-center"},i=["innerHTML"],d={class:"modal-body"},s={key:0,class:"modal-footer justify-content-between"},c=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},emits:["submitData","closeForm"],data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,o(3744).Z)(m,[["render",function(e,t,o,m,u,f){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"modal fade",id:o.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-dialog",o.modalClass])},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-content",o.modalContentClass])},[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("h1",{class:"modal-title fs-5",innerHTML:f.modalFormTitle},null,8,i),(0,a.renderSlot)(e.$slots,"modalHeader")]),(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,a.createElementVNode)("div",d,[(0,a.renderSlot)(e.$slots,"default")]),o.showFooter?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createElementVNode)("div",null,[(0,a.renderSlot)(e.$slots,"footer")]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})}," Відмінити "),(0,a.createElementVNode)("button",{type:"button",class:(0,a.normalizeClass)(["ms-4 btn",[o.sumbitIsDisabled?"btn-outline-primary":"btn-primary"]]),onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:o.sumbitIsDisabled},(0,a.toDisplayString)(f.modalFormSubmitCaption),11,c)])])):(0,a.createCommentVNode)("",!0)],2)],2)],8,r)}]])},7190:(e,t,o)=>{o.d(t,{Z:()=>V});var a=o(8222),r={class:"row mb-3"},n={class:"col"},l=(0,a.createElementVNode)("label",{for:"roleCode",class:"form-label"},"Код",-1),i={id:"roleCodeValidation",class:"invalid-feedback"},d={class:"row mb-3"},s={class:"col"},c=(0,a.createElementVNode)("label",{for:"roleName",class:"form-label"},"Назва",-1),m={id:"roleNameValidation",class:"invalid-feedback"},u={class:"row mb-3"},f={class:"col"},p=(0,a.createElementVNode)("label",{for:"roleDescription",class:"form-label"},"Опис",-1),h={id:"roleDescriptionValidation",class:"invalid-feedback"};var v=o(3574),b=o(2965),E=o(3753);const N={name:"RolesForm",mixins:[b.Z,E.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/roles"}},methods:{clearFormData:function(){}},components:{ModalForm:v.Z}};const V=(0,o(3744).Z)(N,[["render",function(e,t,o,v,b,E){var N=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(N,{formId:"RoleForm",onSubmitData:e.submitData,onCloseForm:E.clearFormData},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[l,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"roleCode","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.code=e})},null,2),[[a.vModelText,o.formData.code]]),(0,a.createElementVNode)("div",i,(0,a.toDisplayString)(e.getError("code")),1)])]),(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",s,[c,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"roleName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[a.vModelText,o.formData.name]]),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(e.getError("name")),1)])]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",f,[p,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("description")?"is-invalid":""]),id:"roleDescription","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.description=e})},null,2),[[a.vModelText,o.formData.description]]),(0,a.createElementVNode)("div",h,(0,a.toDisplayString)(e.getError("description")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},1512:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var a=o(8222),r={class:"card"},n={class:"card-header"},l={class:"dictionary-name__wrapper"},i=(0,a.createElementVNode)("span",null,"Довідник 'Ролі'",-1),d={class:"card-body"},s=(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{class:"show-record"}),(0,a.createElementVNode)("th",null,"Код"),(0,a.createElementVNode)("th",null,"Назва "),(0,a.createElementVNode)("th",null,"Опис")],-1),c={class:"text-center"};var m=o(8877),u=o(7190),f=o(5221);const p={name:"RolesMain",components:{RoleForm:u.Z,DictionaryShowRecordLink:f.Z},provide:function(){return{modalTitle:"Новий користувач"}},data:function(){return{roles:[],form:{code:"",name:"",description:""}}},methods:{fetchData:function(){var e=this;axios.get("/api/v1/roles").then((function(t){e.roles=t.data.data}))},openRoleForm:function(){new m.u_(document.getElementById("RoleForm")).show()}},created:function(){this.fetchData()}};const h=(0,o(3744).Z)(p,[["render",function(e,t,o,m,u,f){var p=(0,a.resolveComponent)("ButtonAdd"),h=(0,a.resolveComponent)("DictionaryShowRecordLink"),v=(0,a.resolveComponent)("DataTable"),b=(0,a.resolveComponent)("RoleForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[i,(0,a.createVNode)(p,{buttonClass:"btn-primary p-2",onClick:f.openRoleForm,title:"Додати нову роль"},null,8,["onClick"])])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(v,{dataTable:u.roles,tableClass:"table-bordered table-hover",tableHeaderClass:"table-dark"},{header:(0,a.withCtx)((function(){return[s]})),default:(0,a.withCtx)((function(e){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.paginatedData,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e.id},[(0,a.createElementVNode)("td",c,[(0,a.createVNode)(h,{routeName:"roles.show",routeParamId:e.id},null,8,["routeParamId"])]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.code),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.description),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,a.createVNode)(b,{formData:u.form,onRefreshData:f.fetchData},null,8,["formData","onRefreshData"])],64)}]])},4957:(e,t,o)=>{o.r(t),o.d(t,{default:()=>k});var a=o(8222),r={class:"row"},n={class:"col-md-6 mx-auto"},l={key:0,class:"card"},i={class:"card-header"},d=(0,a.createElementVNode)("h5",null,"Інформація",-1),s={class:"card-body"},c={class:"row"},m={class:"col"},u={class:"row mb-2"},f=(0,a.createElementVNode)("div",{class:"col-md-3"}," Код ",-1),p={class:"col-md-9"},h={class:"row mb-2"},v=(0,a.createElementVNode)("div",{class:"col-md-3"}," Назва ",-1),b={class:"col-md-9"},E={class:"row mb-2"},N=(0,a.createElementVNode)("div",{class:"col-md-3"}," Опис ",-1),V={class:"col-md-9"};var D=o(8877),C=o(7190),y=o(1887);const g={name:"RolesShow",props:{id:{type:[String,Number],required:!0}},provide:function(){return{modalTitle:"Редагування ролі",modalSubmitCaption:"Зберегти"}},data:function(){return{role:{},form:{id:null,code:"",name:"",description:""},apiUrl:"/api/v1/roles"}},methods:{fetchData:function(){var e=this;axios.get("".concat(this.apiUrl,"/").concat(this.id)).then((function(t){e.role=t.data.data}))},editRole:function(){this.form=Object.assign({},this.role),new D.u_(document.getElementById("RoleForm")).show()},deleteRole:function(){var e=this;this.$confirmDelete("Ви дійсно бажаєти видалити роль").then((function(t){t.isConfirmed&&axios.delete("".concat(e.apiUrl,"/").concat(e.id)).then((function(t){e.$toast(t.data.message),e.$router.push({name:"roles"})})).catch((function(t){e.$errorMessage("Неможливо видалити роль",t.response.data.message,"Зрозуміло")}))}))}},components:{RoleForm:C.Z,DropDownMenu:y.Z},created:function(){this.fetchData()}};const k=(0,o(3744).Z)(g,[["render",function(e,t,o,D,C,y){var g=(0,a.resolveComponent)("breadcrumbs"),k=(0,a.resolveComponent)("DropDownMenu"),S=(0,a.resolveComponent)("RoleForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(g),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[C.role.code?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",i,[d,(0,a.createVNode)(k,{onEdit:y.editRole,onDelete:y.deleteRole,buttonClass:"btn-outline-secondary btn-transparent",divideItems:!0},null,8,["onEdit","onDelete"])]),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[f,(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(C.role.code),1)]),(0,a.createElementVNode)("div",h,[v,(0,a.createElementVNode)("div",b,(0,a.toDisplayString)(C.role.name),1)]),(0,a.createElementVNode)("div",E,[N,(0,a.createElementVNode)("div",V,(0,a.toDisplayString)(C.role.description),1)])])])])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(S,{formData:C.form,action:"update",onRefreshData:y.fetchData},null,8,["formData","onRefreshData"])],64)}]])}}]);