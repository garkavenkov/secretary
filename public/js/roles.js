"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[438],{7190:(e,t,o)=>{o.d(t,{Z:()=>D});var a=o(8222),r={class:"row mb-3"},n={class:"col"},l=(0,a.createElementVNode)("label",{for:"roleCode",class:"form-label"},"Код",-1),c={id:"roleCodeValidation",class:"invalid-feedback"},d={class:"row mb-3"},i={class:"col"},s=(0,a.createElementVNode)("label",{for:"roleName",class:"form-label"},"Назва",-1),m={id:"roleNameValidation",class:"invalid-feedback"},u={class:"row mb-3"},p={class:"col"},f=(0,a.createElementVNode)("label",{for:"roleDescription",class:"form-label"},"Опис",-1),v={id:"roleDescriptionValidation",class:"invalid-feedback"};var E=o(4170),V=o(2965),N=o(3753);const h={name:"RolesForm",mixins:[V.Z,N.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/roles"}},methods:{clearFormData:function(){}},components:{ModalForm:E.Z}};const D=(0,o(3744).Z)(h,[["render",function(e,t,o,E,V,N){var h=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(h,{formId:"RoleForm",onSubmitData:e.submitData,onCloseForm:N.clearFormData},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[l,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("code")?"is-invalid":""]),id:"roleCode","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.code=e})},null,2),[[a.vModelText,o.formData.code]]),(0,a.createElementVNode)("div",c,(0,a.toDisplayString)(e.getError("code")),1)])]),(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",i,[s,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"roleName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[a.vModelText,o.formData.name]]),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(e.getError("name")),1)])]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,[f,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("description")?"is-invalid":""]),id:"roleDescription","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.description=e})},null,2),[[a.vModelText,o.formData.description]]),(0,a.createElementVNode)("div",v,(0,a.toDisplayString)(e.getError("description")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},9891:(e,t,o)=>{o.r(t),o.d(t,{default:()=>E});var a=o(8222),r={class:"card"},n={class:"card-header"},l={class:"dictionary-name__wrapper"},c=(0,a.createElementVNode)("span",null,"Довідник 'Ролі'",-1),d={class:"card-body"},i=(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{class:"show-record"}),(0,a.createElementVNode)("th",null,"Код"),(0,a.createElementVNode)("th",null,"Назва "),(0,a.createElementVNode)("th",null,"Опис")],-1),s={class:"text-center"};var m=o(8877),u=o(7190),p=o(4806),f=o(5221);const v={name:"RolesMain",components:{DataTable:p.Z,RoleForm:u.Z,DictionaryShowRecordLink:f.Z},provide:function(){return{modalTitle:"Новий користувач"}},data:function(){return{roles:[],form:{code:"",name:"",description:""}}},methods:{fetchData:function(){var e=this;axios.get("/api/v1/roles").then((function(t){e.roles=t.data.data}))},openRoleForm:function(){new m.u_(document.getElementById("RoleForm")).show()}},created:function(){this.fetchData()}};const E=(0,o(3744).Z)(v,[["render",function(e,t,o,m,u,p){var f=(0,a.resolveComponent)("ButtonAdd"),v=(0,a.resolveComponent)("DictionaryShowRecordLink"),E=(0,a.resolveComponent)("DataTable"),V=(0,a.resolveComponent)("RoleForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[c,(0,a.createVNode)(f,{buttonClass:"btn-primary p-2",onClick:p.openRoleForm,title:"Додати нову роль"},null,8,["onClick"])])]),(0,a.createElementVNode)("div",d,[(0,a.createVNode)(E,{dataTable:u.roles,tableClass:"table-bordered table-hover",tableHeaderClass:"table-dark"},{header:(0,a.withCtx)((function(){return[i]})),default:(0,a.withCtx)((function(e){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.paginatedData,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e.id},[(0,a.createElementVNode)("td",s,[(0,a.createVNode)(v,{routeName:"roles.show",routeParamId:e.id},null,8,["routeParamId"])]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.code),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.description),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,a.createVNode)(V,{formData:u.form,onRefreshData:p.fetchData},null,8,["formData","onRefreshData"])],64)}]])},4957:(e,t,o)=>{o.r(t),o.d(t,{default:()=>k});var a=o(8222),r={class:"row"},n={class:"col-md-6 mx-auto"},l={key:0,class:"card"},c={class:"card-header"},d=(0,a.createElementVNode)("h5",null,"Інформація",-1),i={class:"card-body"},s={class:"row"},m={class:"col"},u={class:"row mb-2"},p=(0,a.createElementVNode)("div",{class:"col-md-3"}," Код ",-1),f={class:"col-md-9"},v={class:"row mb-2"},E=(0,a.createElementVNode)("div",{class:"col-md-3"}," Назва ",-1),V={class:"col-md-9"},N={class:"row mb-2"},h=(0,a.createElementVNode)("div",{class:"col-md-3"}," Опис ",-1),D={class:"col-md-9"};var b=o(8877),C=o(7190),w=o(547);const g={name:"RolesShow",props:{id:{type:[String,Number],required:!0}},provide:function(){return{modalTitle:"Редагування ролі",modalSubmitCaption:"Зберегти"}},data:function(){return{role:{},form:{id:null,code:"",name:"",description:""},apiUrl:"/api/v1/roles"}},methods:{fetchData:function(){var e=this;axios.get("".concat(this.apiUrl,"/").concat(this.id)).then((function(t){e.role=t.data.data}))},editRole:function(){this.form=Object.assign({},this.role),new b.u_(document.getElementById("RoleForm")).show()},deleteRole:function(){var e=this;this.$confirmDelete("Ви дійсно бажаєти видалити роль").then((function(t){t.isConfirmed&&axios.delete("".concat(e.apiUrl,"/").concat(e.id)).then((function(t){e.$toast(t.data.message),e.$router.push({name:"roles"})})).catch((function(t){e.$errorMessage("Неможливо видалити роль",t.response.data.message,"Зрозуміло")}))}))}},components:{RoleForm:C.Z,DropDownMenu:w.Z},created:function(){this.fetchData()}};const k=(0,o(3744).Z)(g,[["render",function(e,t,o,b,C,w){var g=(0,a.resolveComponent)("breadcrumbs"),k=(0,a.resolveComponent)("DropDownMenu"),y=(0,a.resolveComponent)("RoleForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(g),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[C.role.code?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",c,[d,(0,a.createVNode)(k,{onEdit:w.editRole,onDelete:w.deleteRole,buttonClass:"btn-outline-secondary btn-transparent",divideItems:!0},null,8,["onEdit","onDelete"])]),(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[p,(0,a.createElementVNode)("div",f,(0,a.toDisplayString)(C.role.code),1)]),(0,a.createElementVNode)("div",v,[E,(0,a.createElementVNode)("div",V,(0,a.toDisplayString)(C.role.name),1)]),(0,a.createElementVNode)("div",N,[h,(0,a.createElementVNode)("div",D,(0,a.toDisplayString)(C.role.description),1)])])])])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(y,{formData:C.form,action:"update",onRefreshData:w.fetchData},null,8,["formData","onRefreshData"])],64)}]])}}]);