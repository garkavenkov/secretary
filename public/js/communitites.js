"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[357],{2965:(t,e,r)=>{r.d(e,{Z:()=>a});const a={data:function(){return{errors:{}}},methods:{getError:function(t){return this.errors&&this.errors[t]?this.errors[t][0]:""},hasError:function(t){return!(!this.errors||!this.errors[t])}},created:function(){var t=this,e=this,r=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(r=r.filter((function(e){return!t.excludeFiledsFromCreateWatch.includes(e)}))),r.forEach((function(t){var r="formData.".concat(t);e.$watch(r,(function(){this.errors[t]&&delete this.errors[t]}))}))}}},7197:(t,e,r)=>{r.d(e,{Z:()=>o});var a=r(3645),i=r.n(a)()((function(t){return t[1]}));i.push([t.id,".per-page[data-v-ca3c8762],.search[data-v-ca3c8762]{border:1px solid #ced4da;border-radius:.25rem;color:#495057;font-size:.9rem;font-weight:400;line-height:1.6}.per-page[data-v-ca3c8762]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5'%3E%3Cpath fill='%23343a40' d='M2 0 0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") right .75rem center/8px 10px no-repeat;padding:.3rem 1.5rem .3rem .5rem;vertical-align:middle}.search__wrapper label[data-v-ca3c8762]{margin-right:.5rem}.search__wrapper .search[data-v-ca3c8762]{background-clip:padding-box;background-color:#fff;display:inline-block;height:calc(1.6em + .75rem);padding:.375rem .75rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;width:200px}.per-page[data-v-ca3c8762]:focus,.search[data-v-ca3c8762]:focus{border-color:#7db8fb;box-shadow:0 0 0 .2rem rgba(7,117,242,.25);outline:0}.per-page__wrapper span[data-v-ca3c8762]{margin-right:.5rem}tbody tr[data-v-ca3c8762]:last-of-type{border-bottom:2px solid #343a40}.sort-field-number[data-v-ca3c8762]{background:#f8f9fa;border-color:#000;border-radius:999px;color:#000;display:inline-block;font-size:.6rem;line-height:1rem;position:absolute;right:1.5rem;text-align:center;top:calc(50% - .5rem);width:1rem}",""]);const o=i},4163:(t,e,r)=>{r.d(e,{Z:()=>O});var a=r(8222),i=function(t){return(0,a.dD)("data-v-ca3c8762"),t=t(),(0,a.Cn)(),t},o={class:"data-table--wrapper"},n={key:0,class:"data-table_ d-flex justify-content-between pb-2"},s={class:"per-page__wrapper"},l=i((function(){return(0,a._)("span",null,"Відображати",-1)})),c=["disabled"],d=["value"],u={class:"search__wrapper"},m={autocomplete:"off"},f=i((function(){return(0,a._)("label",{for:"search"},"Поіск",-1)})),p={class:"table__wrapper"},b={class:"table-responsive"},y={key:0},h=["data-sort-field"],g={key:1,class:"data-table__pagination--wrapper d-flex justify-content-between align-items-center py-2"},_={class:"pagination mb-0"},v=["innerHTML","onClick"],w=["onClick"];const D={name:"DataTable",props:{perPageItems:{type:Array,required:!1,default:function(){return[10,20,50]}},dataTable:{type:Array},dataFields:{type:Array,required:!1},tableHeaderClass:{type:String,required:!1},tableClass:{type:String,required:!1},searchable:{type:String,required:!1,default:""},showActionsPanel:{type:Boolean,required:!1,default:function(){return!0}},showPaginationPanel:{type:Boolean,required:!1,default:function(){return!0}},externalPagination:{type:Object,required:!1},searchableFields:{type:Array,required:!1},sortByDefaultField:{type:String,required:!1,default:""}},data:function(){return{currentPage:1,perPage:this.perPageItems[0],searchData:"",sortedBy:{},fieldsType:{},sortedByLength:0,dataShouldBeSorted:!1}},emits:["pageChanged","perPageChanged"],methods:{changePerPage:function(t){var e;null!==(e=this.externalPagination)&&void 0!==e&&e.per_page?this.$emit("perPageChanged",t):(this.perPage=parseInt(t),this.currentPage=1)},nextPage:function(){this.currentPage++},prevPage:function(){this.currentPage--},changePage:function(t){var e;null!==(e=this.externalPagination)&&void 0!==e&&e.current_page&&this.$emit("pageChanged",t),this.currentPage=t},sortDataByField:function(t){var e=t.target.dataset.sortField,r=t.target.dataset.sortOrder;t.ctrlKey||(this.sortedBy={},document.querySelectorAll("[data-sort-order]").forEach((function(t){t.removeAttribute("data-sort-order"),t.removeAttribute("data-sort-position"),t.classList.remove("ascending","descending")})));"descending"==r?(t.target.classList.remove("descending"),t.target.removeAttribute("data-sort-order"),t.target.removeAttribute("data-sort-position"),delete this.sortedBy[e],document.querySelectorAll("[data-sort-position]").forEach((function(t){var e=t.dataset.sortPosition;t.dataset.sortPosition=e>1?e-1:1}))):(null==r?r="ascending":(t.target.classList.remove("ascending"),r="descending"),t.target.dataset.sortOrder=r,t.target.classList.add(r),this.sortedBy[e]=r);Object.keys(this.sortedBy).indexOf(e)>=0&&(t.target.dataset.sortPosition=Object.keys(this.sortedBy).indexOf(e)+1)},sortDataHandler:function(t,e){return function(r,a){var i=[];return Object.keys(t).forEach((function(o){var n=t[o],s=e[o];if("ascending"==n.toLowerCase())"string"==s?i.push(r[o].localeCompare(a[o])):"number"==s&&i.push(r[o]-a[o]);else{if("descending"!=n.toLowerCase())return;"string"==s?i.push(a[o].localeCompare(r[o])):"number"==s&&i.push(a[o]-r[o])}})),i.reduce((function(t,e){return t||e}))}}},computed:{pagesCount:function(){var t;return null!==(t=this.externalPagination)&&void 0!==t&&t.last_page?this.externalPagination.last_page:""==this.searchData?Math.ceil(this.dataTable.length/this.perPage):Math.ceil(this.paginatedData.length/this.perPage)},paginatedData:function(){var t,e,r=this;if(null!==(t=this.externalPagination)&&void 0!==t&&t.total)e=""!==this.searchData?this.dataTable.filter((function(t){return r.$parent.searchData(t,r.searchData)})):this.dataTable;else{var a=(this.currentPage-1)*this.perPage,i=a+this.perPage;e=""!==this.searchData?this.dataTable.filter((function(t){return r.$parent.searchData(t,r.searchData)})).slice(a,i):this.dataTable.slice(a,i)}return this.sortedByLength>0?e.sort(this.sortDataHandler(this.sortedBy,this.fieldsType)):""!==this.sortByDefaultField&&1==this.dataShouldBeSorted&&(e.sort((function(t,e){return t[r.sortByDefaultField]-e[r.sortByDefaultField]})),this.dataShouldBeSorted=!1),e},shownFrom:function(){var t;return null!==(t=this.externalPagination)&&void 0!==t&&t.from?this.externalPagination.from:(this.currentPage-1)*this.perPage+1},shownTo:function(){var t;if(null!==(t=this.externalPagination)&&void 0!==t&&t.to)return this.externalPagination.to;var e=this.shownFrom+this.perPage;return e<this.dataTable.length?e:this.dataTable.length},shownTotal:function(){var t;return null!==(t=this.externalPagination)&&void 0!==t&&t.total?this.externalPagination.total:this.dataTable.length},isLastPage:function(){return this.currentPage==this.pagesCount},isFirstPage:function(){return 1==this.currentPage}},mounted:function(){var t=this,e=document.querySelectorAll("[data-sort-field]");e&&e.forEach((function(e){e.addEventListener("click",t.sortDataByField),e.dataset.fieldType?t.fieldsType[e.dataset.sortField]=e.dataset.fieldType:t.fieldsType[e.dataset.sortField]="string"}))},watch:{sortedBy:{handler:function(t,e){this.sortedByLength=Object.keys(this.sortedBy).length},deep:!0,immidiate:!0},sortedByLength:function(t,e){1==e&&0==t&&(this.dataShouldBeSorted=!0)}}};var C=r(3379),P=r.n(C),k=r(7197),F={insert:"head",singleton:!1};P()(k.Z,F);k.Z.locals;const O=(0,r(3744).Z)(D,[["render",function(t,e,r,i,D,C){var P;return(0,a.wg)(),(0,a.iD)("div",o,[r.showActionsPanel?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",s,[l,(0,a._)("select",{name:"per_Page",id:"per_page",class:"per-page",disabled:0==C.paginatedData.length,onChange:e[0]||(e[0]=function(t){return C.changePerPage(t.target.value)})},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.perPageItems,(function(t,e){return(0,a.wg)(),(0,a.iD)("option",{key:e,value:t},(0,a.zw)(t),9,d)})),128))],40,c)]),(0,a._)("div",u,[(0,a._)("form",m,[f,(0,a.wy)((0,a._)("input",{type:"search",id:"search",class:"search",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=function(t){return D.searchData=t})},null,512),[[a.nr,D.searchData]])])])])):(0,a.kq)("",!0),(0,a._)("div",p,[(0,a._)("div",b,[(0,a._)("table",{class:(0,a.C_)(["table table-striped",r.tableClass])},[(0,a._)("thead",{class:(0,a.C_)(r.tableHeaderClass)},[(0,a.WI)(t.$slots,"header",{},(function(){return[r.dataFields.length>0?((0,a.wg)(),(0,a.iD)("tr",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.dataFields,(function(t){return(0,a.wg)(),(0,a.iD)("th",(0,a.dG)({key:t.name,class:t.class,"data-sort-field":t.sortable?t.name:""},(0,a.mx)(t.sortable?{click:function(t){return C.sortDataByField(t)}}:{},!0)),(0,a.zw)(t.caption),17,h)})),128))])):(0,a.kq)("",!0)]}),!0)],2),(0,a._)("tbody",null,[(0,a.WI)(t.$slots,"default",{paginatedData:C.paginatedData},void 0,!0)]),(0,a._)("tfoot",null,[(0,a.WI)(t.$slots,"footer",{},void 0,!0)])],2)])]),C.paginatedData.length>0&&r.showPaginationPanel?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",null,"Відображено з "+(0,a.zw)(C.shownFrom)+" по "+(0,a.zw)(C.shownTo)+" із "+(0,a.zw)(C.shownTotal),1),(0,a._)("ul",_,[null!==(P=r.externalPagination)&&void 0!==P&&P.links?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(r.externalPagination.links,(function(t,e){return(0,a.wg)(),(0,a.iD)("li",{class:"page-item",key:e},[(0,a._)("a",{class:(0,a.C_)(["page-link",[t.active?"active":"",t.url?"":"disabled"]]),innerHTML:t.label,onClick:function(e){return C.changePage(t.url)}},null,10,v)])})),128)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("li",{class:(0,a.C_)(["page-item",{disabled:C.isFirstPage}])},[(0,a._)("a",{class:"page-link",onClick:e[2]||(e[2]=function(){return C.prevPage&&C.prevPage.apply(C,arguments)})}," Previous ")],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.pagesCount,(function(t){return(0,a.wg)(),(0,a.iD)("li",{class:(0,a.C_)(["page-item",[D.currentPage==t?"active":""]]),key:t},[(0,a._)("a",{class:"page-link",onClick:function(e){return C.changePage(t)}},(0,a.zw)(t),9,w)],2)})),128)),(0,a._)("li",{class:(0,a.C_)(["page-item",{disabled:C.isLastPage}])},[(0,a._)("a",{class:"page-link",onClick:e[3]||(e[3]=function(){return C.nextPage&&C.nextPage.apply(C,arguments)})}," Next ")],2)],64))])])):(0,a.kq)("",!0)])}],["__scopeId","data-v-ca3c8762"]])},6036:(t,e,r)=>{r.d(e,{Z:()=>m});var a=r(8222),i=["id"],o={class:"modal-header"},n={class:"d-flex align-items-center"},s=["innerHTML"],l={class:"modal-body"},c={key:0,class:"modal-footer justify-content-between"},d=["disabled"];const u={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const m=(0,r(3744).Z)(u,[["render",function(t,e,r,u,m,f){return(0,a.wg)(),(0,a.iD)("div",{class:"modal fade",id:r.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,a._)("div",{class:(0,a.C_)(["modal-dialog",r.modalClass])},[(0,a._)("div",{class:(0,a.C_)(["modal-content",r.modalContentClass])},[(0,a._)("div",o,[(0,a._)("div",n,[(0,a._)("h1",{class:"modal-title fs-5",innerHTML:f.modalFormTitle},null,8,s),(0,a.WI)(t.$slots,"modalHeader")]),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=function(e){return t.$emit("closeForm")})})]),(0,a._)("div",l,[(0,a.WI)(t.$slots,"default")]),r.showFooter?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",null,[(0,a.WI)(t.$slots,"footer")]),(0,a._)("div",null,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[1]||(e[1]=function(e){return t.$emit("closeForm")})},"Відмінити"),(0,a._)("button",{type:"button",class:"btn btn-primary ms-4",onClick:e[2]||(e[2]=function(e){return t.$emit("submitData")}),disabled:r.sumbitIsDisabled},(0,a.zw)(f.modalFormSubmitCaption),9,d)])])):(0,a.kq)("",!0)],2)],2)],8,i)}]])},5771:(t,e,r)=>{r.d(e,{Z:()=>A});var a=r(8222),i={class:"row mb-3"},o={class:"col"},n=(0,a._)("label",{for:"region",class:"form-label"},"Регіон",-1),s=["disabled"],l=(0,a._)("option",{disabled:"",value:"0"},"Оберить регіон",-1),c=["value"],d={class:"col"},u=(0,a._)("label",{for:"district",class:"form-label"},"Район",-1),m=["disabled"],f=(0,a._)("option",{disabled:"",value:"0"},"Оберить район",-1),p=["value"],b={class:"row mb-3"},y={class:"col"},h=(0,a._)("label",{for:"communityName",class:"form-label"},"Назва",-1),g={id:"communityNameValidation",class:"invalid-feedback"},_={class:"row mb-3"},v={class:"col"},w=(0,a._)("label",{for:"communityCenter",class:"form-label"},"Адміністративний центр",-1),D={id:"communityCenterValidation",class:"invalid-feedback"},C={class:"row mb-3"},P={class:"col"},k=(0,a._)("label",{for:"communityAddress",class:"form-label"},"Адреса",-1),F={id:"communityAddressValidation",class:"invalid-feedback"},O={class:"row mb-3"},S={class:"col"},j=(0,a._)("label",{for:"communityEdrpou",class:"form-label"},"ЄДРПОУ",-1),x={id:"communityEdrpouValidation",class:"invalid-feedback"},E={class:"col"},T=(0,a._)("label",{for:"communityKoatuu",class:"form-label"},"КОАТУУ",-1),z={id:"communityKoatuuValidation",class:"invalid-feedback"};var q=r(3907),B=r(6036);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function $(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==V(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===V(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Z={name:"CommunityForm",mixins:[r(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{districts:[]}},methods:{submitData:function(){var t=this;"create"==this.action?axios.post("/api/v1/communities",this.formData).then((function(e){t.clearFormData(),t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/communities/".concat(this.formData.id),this.formData).then((function(e){t.errors=[],t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors}))},clearFormData:function(){this.formData.name="",this.formData.center="",this.formData.address="",this.formData.edrpou="",this.formData.koatuu="",this.errors=[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,q.Se)("Regions",["regions"])),watch:{"formData.region_id":function(t,e){0!==t&&(this.districts=this.$store.getters["Districts/districts"].filter((function(e){return e.region_id==t})))}},components:{ModalForm:B.Z}};const A=(0,r(3744).Z)(Z,[["render",function(t,e,r,q,B,V){var H=(0,a.up)("ModalForm");return(0,a.wg)(),(0,a.j4)(H,{formId:"CommunityForm",onSubmitData:V.submitData,onCloseForm:V.clearFormData},{default:(0,a.w5)((function(){return[(0,a._)("div",i,[(0,a._)("div",o,[n,(0,a.wy)((0,a._)("select",{class:"form-control",id:"region","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.formData.region_id=t}),disabled:r.disabledFields.includes("region_id")},[l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.regions,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,c)})),128))],8,s),[[a.bM,r.formData.region_id]])]),(0,a._)("div",d,[u,(0,a.wy)((0,a._)("select",{class:"form-control",id:"distric","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.formData.district_id=t}),disabled:r.disabledFields.includes("district_id")},[f,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(B.districts,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,p)})),128))],8,m),[[a.bM,r.formData.district_id]])])]),(0,a._)("div",b,[(0,a._)("div",y,[h,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("name")?"is-invalid":""]),id:"communityName","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.formData.name=t})},null,2),[[a.nr,r.formData.name]]),(0,a._)("div",g,(0,a.zw)(t.getError("name")),1)])]),(0,a._)("div",_,[(0,a._)("div",v,[w,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("center")?"is-invalid":""]),id:"communityCenter","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.formData.center=t})},null,2),[[a.nr,r.formData.center]]),(0,a._)("div",D,(0,a.zw)(t.getError("center")),1)])]),(0,a._)("div",C,[(0,a._)("div",P,[k,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",t.hasError("address")?"is-invalid":""]),id:"communityAddress",col:"2","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.formData.address=t})},"\n                ",2),[[a.nr,r.formData.address]]),(0,a._)("div",F,(0,a.zw)(t.getError("address")),1)])]),(0,a._)("div",O,[(0,a._)("div",S,[j,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("edrpou")?"is-invalid":""]),id:"communityEdrpou","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.formData.edrpou=t})},null,2),[[a.nr,r.formData.edrpou]]),(0,a._)("div",x,(0,a.zw)(t.getError("edrpou")),1)]),(0,a._)("div",E,[T,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("koatuu")?"is-invalid":""]),id:"communityKoatuu","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.formData.koatuu=t})},null,2),[[a.nr,r.formData.koatuu]]),(0,a._)("div",z,(0,a.zw)(t.getError("koatuu")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])},5845:(t,e,r)=>{r.r(e),r.d(e,{default:()=>w});var a=r(8222),i={class:"card"},o={class:"card-header"},n={class:"dictionary-name__wrapper"},s=(0,a._)("span",null,"Довідник 'Громади'",-1),l=[(0,a._)("span",{class:"mdi mdi-plus"},null,-1)],c=(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-sm btn-outline-secondary"},[(0,a._)("span",{class:"mdi mdi-filter-outline"})])],-1),d={class:"card-body"},u=(0,a._)("tr",null,[(0,a._)("th"),(0,a._)("th",null,"Район"),(0,a._)("th",null,"Назва громади"),(0,a._)("th",null,"Адреса"),(0,a._)("th",null,"ЕДРПОУ"),(0,a._)("th",null,"КОАТУУ")],-1),m=(0,a._)("span",{class:"mdi mdi-eye-outline"},null,-1);var f=r(3907),p=r(8877),b=r(4163),y=r(5771);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function _(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==h(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const v={name:"DistrictsMain",components:{DataTable:b.Z,CommunityForm:y.Z},data:function(){return{communityFormData:{region_id:0,district_id:0,name:"",center:"",address:"",edrpou:"",koatuu:""}}},provide:function(){return{modalTitle:"Нова громада"}},methods:{openCommunityForm:function(){new p.u_(document.getElementById("CommunityForm")).show()}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,f.Se)("Communities",["communities"]))};const w=(0,r(3744).Z)(v,[["render",function(t,e,r,f,p,b){var y=(0,a.up)("breadcrumbs"),h=(0,a.up)("router-link"),g=(0,a.up)("DataTable"),_=(0,a.up)("CommunityForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(y),(0,a._)("div",i,[(0,a._)("div",o,[(0,a._)("div",n,[s,(0,a._)("button",{class:"btn btn-sm btn-primary",title:"Додати громаду",onClick:e[0]||(e[0]=function(){return b.openCommunityForm&&b.openCommunityForm.apply(b,arguments)})},l)]),c]),(0,a._)("div",d,[(0,a.Wm)(g,{dataTable:t.communities,tableHeaderClass:"table-dark"},{header:(0,a.w5)((function(){return[u]})),default:(0,a.w5)((function(t){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.paginatedData,(function(t){return(0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,[(0,a.Wm)(h,{to:{name:"communities.show",params:{id:t.id}}},{default:(0,a.w5)((function(){return[m]})),_:2},1032,["to"])]),(0,a._)("td",null,(0,a.zw)(t.district.name),1),(0,a._)("td",null,[(0,a.Wm)(h,{to:{name:"communities.show",params:{id:t.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(t.name),1)]})),_:2},1032,["to"])]),(0,a._)("td",null,(0,a.zw)(t.address),1),(0,a._)("td",null,(0,a.zw)(t.edrpou),1),(0,a._)("td",null,(0,a.zw)(t.koatuu),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,a.Wm)(_,{formData:p.communityFormData,onRefreshData:e[1]||(e[1]=function(e){return t.$store.dispatch("Communities/fetchRecords")})},null,8,["formData"])],64)}]])},2581:(t,e,r)=>{r.r(e),r.d(e,{default:()=>G});var a=r(8222),i={class:"row"},o={class:"col-md-8 mx-auto"},n={key:0,class:"card"},s={class:"card-header"},l={class:"dictionary-name__wrapper d-flex justify-content-between flex-grow-1"},c=(0,a._)("span",null,"Інформація о громаді",-1),d=[(0,a._)("span",{class:"mdi mdi-pencil"},null,-1)],u={class:"card-body"},m={class:"row mb-3"},f={class:"row mb-2"},p=(0,a._)("div",{class:"col-md-3"}," Назва ",-1),b={class:"col-md-9"},y={class:"row mb-2"},h=(0,a._)("div",{class:"col-md-3"}," Адміністративний центр ",-1),g={class:"col-md-9"},_={class:"row mb-2"},v=(0,a._)("div",{class:"col-md-3"}," Адреса ",-1),w={class:"col-md-9"},D={class:"row mb-2"},C=(0,a._)("div",{class:"col-md-3"}," ЕДРПОУ ",-1),P={class:"col-md-9"},k={class:"row mb-2"},F=(0,a._)("div",{class:"col-md-3"}," КОАТУУ ",-1),O={class:"col-md-9"},S={class:"row mb-2"},j=(0,a._)("div",{class:"col-md-3"}," Район ",-1),x={class:"col-md-9"},E={class:"row mb-2"},T=(0,a._)("div",{class:"col-md-3"}," Регіон ",-1),z={class:"col-md-9"},q={class:"card"},B={class:"card-header"},V={class:"dictionary-name__wrapper d-flex justify-content-between flex-grow-1"},H=(0,a._)("span",null,"Міські / сільські ради в громаді",-1),$=[(0,a._)("span",{class:"mdi mdi-plus"},null,-1)],Z={class:"card-body"},A=(0,a._)("tr",null,[(0,a._)("th",null,"Назва"),(0,a._)("th",null,"Адреса")],-1);var I=r(3907),W=r(8877),K=r(4163),L=r(5771),M=r(2181);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function N(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==U(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===U(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const R={name:"CommunitiesShow",props:{id:{type:[String,Number],required:!0}},data:function(){return{communityFormData:{id:null,region_id:0,district_id:0,name:"",center:"",address:"",edrpou:"",koatuu:""},councilFormData:{region_id:0,district_id:0,community_id:0,council_type_id:0,name:"",address:"",edrpou:"",koatuu:""},modalTitle:"",modalSubmitCaption:""}},provide:function(){var t=this;return{modalTitle:(0,a.Fl)((function(){return t.modalTitle})),modalSubmitCaption:(0,a.Fl)((function(){return t.modalSubmitCaption}))}},methods:{openCommunityForm:function(){var t=new W.u_(document.getElementById("CommunityForm"));this.modalTitle="Редагувати громаду",this.modalSubmitCaption="Зберегти",this.communityFormData.id=this.community.id,this.communityFormData.region_id=this.community.district.region_id,this.communityFormData.district_id=this.community.district_id,this.communityFormData.name=this.community.name,this.communityFormData.center=this.community.center,this.communityFormData.address=this.community.address,this.communityFormData.edrpou=this.community.edrpou,this.communityFormData.koatuu=this.community.koatuu,t.show()},openCouncilForm:function(){var t=new W.u_(document.getElementById("CouncilForm"));this.modalTitle="Нава рада",this.modalSubmitCaption="Додати",this.councilFormData.region_id=this.community.district.region_id,this.councilFormData.district_id=this.community.district_id,this.councilFormData.community_id=this.community.id,t.show()}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,I.Se)("Communities",["community"])),created:function(){this.$store.dispatch("Communities/fetchRecord",this.id)},components:{DataTable:K.Z,CommunityForm:L.Z,CouncilForm:M.Z}};const G=(0,r(3744).Z)(R,[["render",function(t,e,r,I,W,K){var L=(0,a.up)("breadcrumbs"),M=(0,a.up)("router-link"),U=(0,a.up)("DataTable"),Y=(0,a.up)("CommunityForm"),N=(0,a.up)("CouncilForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(L),(0,a._)("div",i,[(0,a._)("div",o,[t.community.name?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",s,[(0,a._)("div",l,[c,(0,a._)("button",{class:"btn btn-sm btn-light",onClick:e[0]||(e[0]=function(){return K.openCommunityForm&&K.openCommunityForm.apply(K,arguments)}),title:"Редагувати дані"},d)])]),(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("div",f,[p,(0,a._)("div",b,(0,a.zw)(t.community.name),1)]),(0,a._)("div",y,[h,(0,a._)("div",g,(0,a.zw)(t.community.center),1)]),(0,a._)("div",_,[v,(0,a._)("div",w,(0,a.zw)(t.community.address),1)]),(0,a._)("div",D,[C,(0,a._)("div",P,(0,a.zw)(t.community.edrpou),1)]),(0,a._)("div",k,[F,(0,a._)("div",O,(0,a.zw)(t.community.koatuu),1)]),(0,a._)("div",S,[j,(0,a._)("div",x,[(0,a.Wm)(M,{to:{name:"districts.show",params:{id:t.community.district.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(t.community.district.name),1)]})),_:1},8,["to"])])]),(0,a._)("div",E,[T,(0,a._)("div",z,[(0,a.Wm)(M,{to:{name:"regions.show",params:{id:t.community.district.region.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(t.community.district.region.name),1)]})),_:1},8,["to"])])])]),(0,a._)("div",q,[(0,a._)("div",B,[(0,a._)("div",V,[H,(0,a._)("button",{class:"btn btn-sm btn-light btn-transparent",title:"Додати раду",onClick:e[1]||(e[1]=function(){return K.openCouncilForm&&K.openCouncilForm.apply(K,arguments)})},$)])]),(0,a._)("div",Z,[(0,a.Wm)(U,{dataTable:t.community.councils,tableHeaderClass:"table-dark"},{header:(0,a.w5)((function(){return[A]})),default:(0,a.w5)((function(t){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.paginatedData,(function(t){return(0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,[(0,a.Wm)(M,{to:{name:"councils.show",params:{id:t.id}}},{default:(0,a.w5)((function(){return[(0,a._)("td",null,(0,a.zw)(t.name),1)]})),_:2},1032,["to"])]),(0,a._)("td",null,(0,a.zw)(t.address),1)])})),128))]})),_:1},8,["dataTable"])])])])])):(0,a.kq)("",!0)])]),(0,a.Wm)(Y,{formData:W.communityFormData,action:"update",onRefreshData:e[2]||(e[2]=function(e){return t.$store.dispatch("Communities/fetchRecord",r.id)})},null,8,["formData"]),(0,a.Wm)(N,{formData:W.councilFormData,onRefreshData:e[3]||(e[3]=function(e){return t.$store.dispatch("Communities/fetchRecord",r.id)}),disabledFields:["region_id","district_id","community_id"]},null,8,["formData"])],64)}]])},2181:(t,e,r)=>{r.d(e,{Z:()=>R});var a=r(8222),i={class:"row mb-3"},o={class:"col"},n=(0,a._)("label",{for:"region",class:"form-label"},"Регіон",-1),s=["disabled"],l=(0,a._)("option",{disabled:"",value:"0"},"Оберіть регіон",-1),c=["value"],d={class:"col"},u=(0,a._)("label",{for:"district",class:"form-label"},"Район",-1),m=["disabled"],f=(0,a._)("option",{disabled:"",value:"0"},"Оберіть район",-1),p=["value"],b={class:"row mb-3"},y={class:"col"},h=(0,a._)("label",{for:"community",class:"form-label"},"Громада",-1),g=["disabled"],_=(0,a._)("option",{disabled:"",value:"0"},"Оберіть громаду",-1),v=["value"],w={id:"communityValidation",class:"invalid-feedback"},D={class:"col"},C=(0,a._)("label",{for:"councilType",class:"form-label"},"Тип ради",-1),P=(0,a._)("option",{disabled:"",value:"0"},"Оберіть тип ради",-1),k=["value"],F={id:"householdTypeValidation",class:"invalid-feedback"},O={class:"row mb-3"},S={class:"col"},j=(0,a._)("label",{for:"councildName",class:"form-label"},"Назва",-1),x={id:"councilNameValidation",class:"invalid-feedback"},E={class:"row mb-3"},T={class:"col"},z=(0,a._)("label",{for:"councildAddress",class:"form-label"},"Місцезнаходження / адреса",-1),q={id:"councilAddressValidation",class:"invalid-feedback"},B={class:"row mb-3"},V={class:"col"},H=(0,a._)("label",{for:"councilEdrpou",class:"form-label"},"ЕДРПОУ",-1),$={id:"councilEdrpouValidation",class:"invalid-feedback"},Z={class:"col"},A=(0,a._)("label",{for:"councilKoatuu",class:"form-label"},"КОАТУУ",-1),I={id:"councilKoatuuValidation",class:"invalid-feedback"};var W=r(3907),K=r(6036);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==L(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const N={name:"CouncilForm",mixins:[r(2965).Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"},disabledFields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{districts:[],communities:[]}},methods:{submitData:function(){var t=this;"create"==this.action?axios.post("/api/v1/councils",this.formData).then((function(e){t.clearFormData(),t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors})):"update"==this.action&&axios.patch("/api/v1/councils/".concat(this.formData.id),this.formData).then((function(e){t.errors=[],t.$emit("refreshData")})).catch((function(e){t.errors=e.response.data.errors}))},clearFormData:function(){this.formData.region_id=0,this.formData.district_id=0,this.formData.community_id=0,this.formData.council_type_id=0,this.formData.name="",this.formData.address="",this.formData.edrpou="",this.formData.koatuu="",this.errors=[]}},computed:U(U(U({},(0,W.Se)("Regions",["regions"])),(0,W.Se)("CouncilTypes",["councilTypes"])),(0,W.Se)("Councils",["councils"])),watch:{"formData.region_id":function(t,e){0!==t&&(this.districts=this.$store.getters["Districts/districts"].filter((function(e){return e.region_id==t})))},"formData.district_id":function(t,e){0!==t&&(this.communities=this.$store.getters["Communities/communities"].filter((function(e){return e.district_id==t})))}},components:{ModalForm:K.Z}};const R=(0,r(3744).Z)(N,[["render",function(t,e,r,W,K,L){var M=(0,a.up)("ModalForm");return(0,a.wg)(),(0,a.j4)(M,{formId:"CouncilForm",onSubmitData:L.submitData,onCloseForm:L.clearFormData},{default:(0,a.w5)((function(){return[(0,a._)("div",i,[(0,a._)("div",o,[n,(0,a.wy)((0,a._)("select",{class:"form-control",id:"region","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.formData.region_id=t}),disabled:r.disabledFields.includes("region_id")},[l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.regions,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,c)})),128))],8,s),[[a.bM,r.formData.region_id]])]),(0,a._)("div",d,[u,(0,a.wy)((0,a._)("select",{class:"form-control",id:"district","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.formData.district_id=t}),disabled:r.disabledFields.includes("district_id")},[f,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(K.districts,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,p)})),128))],8,m),[[a.bM,r.formData.district_id]])])]),(0,a._)("div",b,[(0,a._)("div",y,[h,(0,a.wy)((0,a._)("select",{class:(0,a.C_)(["form-control",t.hasError("community_id")?"is-invalid":""]),id:"community","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.formData.community_id=t}),disabled:r.disabledFields.includes("community_id")},[_,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(K.communities,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,v)})),128))],10,g),[[a.bM,r.formData.community_id]]),(0,a._)("div",w,(0,a.zw)(t.getError("community_id")),1)]),(0,a._)("div",D,[C,(0,a.wy)((0,a._)("select",{class:(0,a.C_)(["form-control",t.hasError("council_type_id")?"is-invalid":""]),id:"councilType","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.formData.council_type_id=t})},[P,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.councilTypes,(function(t){return(0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,a.zw)(t.name),9,k)})),128))],2),[[a.bM,r.formData.council_type_id]]),(0,a._)("div",F,(0,a.zw)(t.getError("council_type_id")),1)])]),(0,a._)("div",O,[(0,a._)("div",S,[j,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("name")?"is-invalid":""]),id:"councilName","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.formData.name=t})},null,2),[[a.nr,r.formData.name]]),(0,a._)("div",x,(0,a.zw)(t.getError("name")),1)])]),(0,a._)("div",E,[(0,a._)("div",T,[z,(0,a.wy)((0,a._)("textarea",{class:(0,a.C_)(["form-control",t.hasError("address")?"is-invalid":""]),id:"councilAddress",rows:"2","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.formData.address=t})},"\n                ",2),[[a.nr,r.formData.address]]),(0,a._)("div",q,(0,a.zw)(t.getError("address")),1)])]),(0,a._)("div",B,[(0,a._)("div",V,[H,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("edrpou")?"is-invalid":""]),id:"councilEdrpou","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.formData.edrpou=t})},null,2),[[a.nr,r.formData.edrpou]]),(0,a._)("div",$,(0,a.zw)(t.getError("edrpou")),1)]),(0,a._)("div",Z,[A,(0,a.wy)((0,a._)("input",{type:"text",class:(0,a.C_)(["form-control",t.hasError("koatuu")?"is-invalid":""]),id:"councilKoatuu","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.formData.koatuu=t})},null,2),[[a.nr,r.formData.koatuu]]),(0,a._)("div",I,(0,a.zw)(t.getError("koatuu")),1)])])]})),_:1},8,["onSubmitData","onCloseForm"])}]])}}]);