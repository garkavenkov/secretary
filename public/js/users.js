"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[681],{2965:(e,t,o)=>{o.d(t,{Z:()=>a});const a={data:function(){return{errors:{}}},methods:{getError:function(e){return this.errors&&this.errors[e]?this.errors[e][0]:""},hasError:function(e){return!(!this.errors||!this.errors[e])}},created:function(){var e=this,t=this,o=Object.keys(this.formData);this.excludeFiledsFromCreateWatch&&(o=o.filter((function(t){return!e.excludeFiledsFromCreateWatch.includes(t)}))),o.forEach((function(e){var o="formData.".concat(e);t.$watch(o,(function(){this.errors[e]&&delete this.errors[e]}))}))}}},3753:(e,t,o)=>{o.d(t,{Z:()=>a});const a={methods:{submitData:function(){var e=this;"create"==this.action?axios.post(this.apiUrl,this.formData).then((function(t){e.$emit("refreshData"),e.$toast(t.data.message),void 0!==e.clearFormData&&e.clearFormData()})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors})):"update"==this.action&&axios.patch("".concat(this.apiUrl,"/").concat(this.formData.id),this.formData).then((function(t){e.errors=[],e.$emit("refreshData"),e.$toast(t.data.message)})).catch((function(t){var o;e.errors=null===(o=t.response)||void 0===o?void 0:o.data.errors}))}}}},6854:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".dropdown .dropdown-item[data-v-9068a73c]{align-items:center;display:flex}.dropdown .dropdown-item[data-v-9068a73c]:hover{background-color:var(--bs-secondary-bg)}",""]);const n=r},1575:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".nav-link[data-v-0caee394]{align-items:center;display:flex}.nav-link span[data-v-0caee394]{margin-left:.25rem}a.router-link-exact-active[data-v-0caee394]{background:linear-gradient(#e9ecef,#f8fafc);border-color:var(--bs-nav-tabs-link-active-border-color)!important;color:var(--bs-nav-tabs-link-active-color)}",""]);const n=r},3112:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".photo[data-v-94a4f04e]{border:1px solid #ccc;border-radius:.375rem;height:300px;margin-bottom:1rem;max-height:300px;max-width:300px;overflow:hidden;width:300px}.photo img[data-v-94a4f04e]{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.photo span[data-v-94a4f04e]{color:#888}",""]);const n=r},5221:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(8222);var r=o(6196),n=o(5317);const i={name:"DictionaryShowRecordLink",props:{size:{type:[String,Number],required:!1,default:16},routeName:{type:String,required:!0},routeParamId:{type:[String,Number],required:!0},title:{type:String,required:!1,default:"Перейти до інформації"},mdiIconPath:{type:String,required:!1,default:""}},components:{SvgIcon:r.Z},computed:{path:function(){return""!==this.mdiIconPath?this.mdiIconPath:n.hiR}}};const l=(0,o(3744).Z)(i,[["render",function(e,t,o,r,n,i){var l=(0,a.resolveComponent)("SvgIcon"),s=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createBlock)(s,{to:{name:o.routeName,params:{id:o.routeParamId}},title:o.title},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(l,{type:"mdi",path:i.path,size:o.size},null,8,["path","size"])]})),_:1},8,["to","title"])}]])},547:(e,t,o)=>{o.d(t,{Z:()=>V});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-9068a73c"),e=e(),(0,a.popScopeId)(),e},n={class:"dropdown"},i={class:"dropdown-menu dropdown-menu-end"},l=r((function(){return(0,a.createElementVNode)("span",null,"Редагувати дані",-1)})),s={key:0},c=[r((function(){return(0,a.createElementVNode)("hr",{class:"dropdown-divider"},null,-1)}))],d=r((function(){return(0,a.createElementVNode)("span",null,"Видалити дані",-1)}));var m,u=o(6196),p=o(5317);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const v=(h(m={name:"DropDownMenu",emits:["edit","delete"],props:{buttonIconSize:{type:[String,Number],required:!1,default:16},menuIconSize:{type:[String,Number],required:!1,default:16},buttonClass:{type:[String,Array],required:!1,default:""},showToggler:{type:Boolean,required:!1,default:function(){return!0}},divideItems:{type:Boolean,required:!1,default:function(){return!0}}},components:{SvgIcon:u.Z}},"emits",["edit","delete"]),h(m,"data",(function(){return{pathMdiCog:p.Shd,pathMdiPencil:p.r9,pathMdiTrashCan:p.QGK}})),h(m,"computed",{finalClass:function(){var e="";this.showToggler&&(e="dropdown-toggle");var t="btn ".concat(e," px-2 py-1 ms-1 me-1");return this.buttonClass.isArray?t+this.buttonClass.join(" "):"".concat(t," ").concat(this.buttonClass)}}),m);var b=o(3379),y=o.n(b),E=o(6854),N={insert:"head",singleton:!1};y()(E.Z,N);E.Z.locals;const V=(0,o(3744).Z)(v,[["render",function(e,t,o,r,m,u){var p=(0,a.resolveComponent)("SvgIcon");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(u.finalClass),"data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,a.createVNode)(p,{type:"mdi",path:m.pathMdiCog,size:o.buttonIconSize},null,8,["path","size"])],2),(0,a.createElementVNode)("ul",i,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.$emit("edit",t)})},[(0,a.createVNode)(p,{type:"mdi",path:m.pathMdiPencil,size:o.menuIconSize,class:"text-warning me-2"},null,8,["path","size"]),l])]),o.divideItems?((0,a.openBlock)(),(0,a.createElementBlock)("li",s,c)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"dropdown-item",onClick:t[1]||(t[1]=function(t){return e.$emit("delete",t)})},[(0,a.createVNode)(p,{type:"mdi",path:m.pathMdiTrashCan,size:o.menuIconSize,class:"text-danger me-2"},null,8,["path","size"]),d])])])])}],["__scopeId","data-v-9068a73c"]])},4170:(e,t,o)=>{o.d(t,{Z:()=>u});var a=o(8222),r=["id"],n={class:"modal-header"},i={class:"d-flex align-items-center"},l=["innerHTML"],s={class:"modal-body"},c={key:0,class:"modal-footer justify-content-between"},d=["disabled"];const m={name:"ModalForm",props:{formId:{type:String,required:!0},modalClass:{type:String,required:!1,default:""},modalContentClass:{type:String,required:!1,default:""},showFooter:{type:Boolean,required:!1,default:function(){return!0}},sumbitIsDisabled:{type:Boolean,required:!1,default:function(){return!1}},title:{type:String,required:!1,default:""},submitCaption:{type:String,required:!1,default:""}},inject:{modalTitle:{from:"modalTitle",default:"Новий запис"},modalSubmitCaption:{from:"modalSubmitCaption",default:"Додати"}},data:function(){return{}},computed:{modalFormTitle:function(){return this.title?this.title:this.modalTitle},modalFormSubmitCaption:function(){return this.submitCaption?this.submitCaption:this.modalSubmitCaption}}};const u=(0,o(3744).Z)(m,[["render",function(e,t,o,m,u,p){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"modal fade",id:o.formId,tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-dialog",o.modalClass])},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-content",o.modalContentClass])},[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h1",{class:"modal-title fs-5",innerHTML:p.modalFormTitle},null,8,l),(0,a.renderSlot)(e.$slots,"modalHeader")]),(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeForm")})})]),(0,a.createElementVNode)("div",s,[(0,a.renderSlot)(e.$slots,"default")]),o.showFooter?((0,a.openBlock)(),(0,a.createElementBlock)("div",c,[(0,a.createElementVNode)("div",null,[(0,a.renderSlot)(e.$slots,"footer")]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.$emit("closeForm")})}," Відмінити "),(0,a.createElementVNode)("button",{type:"button",class:(0,a.normalizeClass)(["ms-4 btn",[o.sumbitIsDisabled?"btn-outline-primary":"btn-primary"]]),onClick:t[2]||(t[2]=function(t){return e.$emit("submitData")}),disabled:o.sumbitIsDisabled},(0,a.toDisplayString)(p.modalFormSubmitCaption),11,d)])])):(0,a.createCommentVNode)("",!0)],2)],2)],8,r)}]])},9413:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(8222),r=["onClick"];var n=o(6196);const i={name:"NavigationTabs",props:{tabs:{type:Array,required:!0},tabType:{type:String,required:!1,default:"link",validator:function(e){return["link","button"].includes(e)}},iconSize:{type:Number,required:!1,default:18},navigationClass:{type:Array,required:!1,default:function(){return[]}},tabClass:{type:Array,required:!1,default:function(){return[]}},linkClass:{type:Array,required:!1,default:function(){return[]}}},emits:["click"],components:{SvgIcon:n.Z}};var l=o(3379),s=o.n(l),c=o(1575),d={insert:"head",singleton:!1};s()(c.Z,d);c.Z.locals;const m=(0,o(3744).Z)(i,[["render",function(e,t,o,n,i,l){var s=(0,a.resolveComponent)("SvgIcon"),c=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createElementBlock)("ul",{class:(0,a.normalizeClass)(["nav nav-tabs",o.navigationClass])},["link"==o.tabType?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(o.tabs,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:(0,a.normalizeClass)(["nav-item",o.tabClass]),key:t},[(0,a.createVNode)(c,{to:{name:e.routeName},class:(0,a.normalizeClass)(["nav-link",o.linkClass])},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(s,{type:"mdi",path:e.iconPath,size:o.iconSize},null,8,["path","size"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.title),1)]})),_:2},1032,["to","class"])],2)})),128)):"button"==o.tabType?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:1},(0,a.renderList)(o.tabs,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:(0,a.normalizeClass)(["nav-item",o.tabClass]),key:n},[(0,a.createElementVNode)("button",{class:(0,a.normalizeClass)(["nav-link",[o.linkClass,t.activeTab?"active":""]]),onClick:function(o){return e.$emit("click",t.tabName)}},[(0,a.createVNode)(s,{type:"mdi",path:t.iconPath,size:o.iconSize},null,8,["path","size"]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.title),1)],10,r)],2)})),128)):(0,a.createCommentVNode)("",!0)],2)}],["__scopeId","data-v-0caee394"]])},2675:(e,t,o)=>{o.d(t,{Z:()=>T});var a=o(8222),r={class:"row mb-3"},n={class:"col"},i=(0,a.createElementVNode)("label",{for:"userName",class:"form-label"},"Логін",-1),l={id:"userNameValidation",class:"invalid-feedback"},s={class:"row mb-3"},c={class:"col"},d=(0,a.createElementVNode)("label",{for:"name",class:"form-label"},"Прізвище Ім'я по Батькові",-1),m={id:"nameValidation",class:"invalid-feedback"},u={class:"row mb-3"},p={class:"col"},f=(0,a.createElementVNode)("label",{for:"email",class:"form-label"},"Електронна пошта",-1),h={id:"emailValidation",class:"invalid-feedback"},v={class:"row mb-3"},b={class:"col"},y=(0,a.createElementVNode)("label",{for:"position",class:"form-label"},"Посада",-1),E={id:"positionValidation",class:"invalid-feedback"},N={key:0,class:"row mb-3"},V={class:"col"},g=(0,a.createElementVNode)("label",{for:"password",class:"form-label"},"Пароль",-1),k={id:"passwordValidation",class:"invalid-feedback"},C={class:"col"},w=(0,a.createElementVNode)("label",{for:"password_confirmation",class:"form-label"},"Підтвердіть пароль",-1),D={id:"passwordConfirmeValidation",class:"invalid-feedback"};var S=o(4170),B=o(3753),I=o(2965);const x={name:"RolesForm",mixins:[B.Z,I.Z],props:{formData:{type:Object,required:!0},action:{type:String,required:!1,default:"create"}},data:function(){return{apiUrl:"/api/v1/users"}},methods:{clearFormData:function(){}},components:{ModalForm:S.Z}};const T=(0,o(3744).Z)(x,[["render",function(e,t,o,S,B,I){var x=(0,a.resolveComponent)("ModalForm");return(0,a.openBlock)(),(0,a.createBlock)(x,{formId:"UserForm",onSubmitData:e.submitData,onCloseForm:I.clearFormData},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[i,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("user_name")?"is-invalid":""]),id:"userName","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.user_name=e})},null,2),[[a.vModelText,o.formData.user_name]]),(0,a.createElementVNode)("div",l,(0,a.toDisplayString)(e.getError("user_name")),1)])]),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",c,[d,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:(0,a.normalizeClass)(["form-control",e.hasError("name")?"is-invalid":""]),id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formData.name=e})},null,2),[[a.vModelText,o.formData.name]]),(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(e.getError("name")),1)])]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,[f,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"email",class:(0,a.normalizeClass)(["form-control",e.hasError("email")?"is-invalid":""]),id:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formData.email=e})},null,2),[[a.vModelText,o.formData.email]]),(0,a.createElementVNode)("div",h,(0,a.toDisplayString)(e.getError("email")),1)])]),(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",b,[y,(0,a.withDirectives)((0,a.createElementVNode)("textarea",{class:(0,a.normalizeClass)(["form-control",e.hasError("position")?"is-invalid":""]),id:"position",rows:"2","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formData.position=e})},null,2),[[a.vModelText,o.formData.position]]),(0,a.createElementVNode)("div",E,(0,a.toDisplayString)(e.getError("position")),1)])]),"create"==o.action?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,[(0,a.createElementVNode)("div",V,[g,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"password",class:(0,a.normalizeClass)(["form-control",e.hasError("password")?"is-invalid":""]),id:"password",autocomplete:"off","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.formData.password=e})},null,2),[[a.vModelText,o.formData.password]]),(0,a.createElementVNode)("div",k,(0,a.toDisplayString)(e.getError("password")),1)]),(0,a.createElementVNode)("div",C,[w,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"password",class:(0,a.normalizeClass)(["form-control",e.hasError("password_confirmation")?"is-invalid":""]),id:"password_confirmation",autocomplete:"off","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.formData.password_confirmation=e})},null,2),[[a.vModelText,o.formData.password_confirmation]]),(0,a.createElementVNode)("div",D,(0,a.toDisplayString)(e.getError("password_confirm")),1)])])):(0,a.createCommentVNode)("",!0)]})),_:1},8,["onSubmitData","onCloseForm"])}]])},389:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var a=o(8222),r={class:"card"},n={class:"card-header"},i={class:"dictionary-name__wrapper"},l=(0,a.createElementVNode)("span",null,"Користувачі",-1),s={class:"card-body"},c=(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{class:"show-record"}),(0,a.createElementVNode)("th",null,"Прізвище Ім'я по Батькові"),(0,a.createElementVNode)("th",null,"Логін"),(0,a.createElementVNode)("th",null,"Посада")],-1),d={class:"text-center"};var m=o(8877),u=o(2675),p=o(5221);const f={name:"UsersMain",provide:function(){return{modalTitle:"Новий користувач"}},data:function(){return{users:[],form:{name:"",user_name:"",email:"",position:"",password:"",password_confirmation:""}}},methods:{fetchUsers:function(){var e=this;axios.get("/api/v1/users").then((function(t){e.users=t.data.data}))},openUserForm:function(){this.form.name="",this.form.user_name="",this.form.email="",this.form.position="",this.form.password="",this.form.password_confirmation="",new m.u_(document.getElementById("UserForm")).show()}},components:{UserForm:u.Z,DictionaryShowRecordLink:p.Z},created:function(){this.fetchUsers()}};const h=(0,o(3744).Z)(f,[["render",function(e,t,o,m,u,p){var f=(0,a.resolveComponent)("ButtonAdd"),h=(0,a.resolveComponent)("DictionaryShowRecordLink"),v=(0,a.resolveComponent)("DataTable"),b=(0,a.resolveComponent)("UserForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",i,[l,(0,a.createVNode)(f,{buttonClass:"btn btn-primary p-2",onClick:p.openUserForm,title:"Додати нового користувача"},null,8,["onClick"])])]),(0,a.createElementVNode)("div",s,[(0,a.createVNode)(v,{dataTable:u.users,tableClass:"table-bordered table-hover",tableHeaderClass:"table-dark"},{header:(0,a.withCtx)((function(){return[c]})),default:(0,a.withCtx)((function(e){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.paginatedData,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e.id},[(0,a.createElementVNode)("td",d,[(0,a.createVNode)(h,{routeName:"users.profile",routeParamId:e.id},null,8,["routeParamId"])]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.user_name),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.position),1)])})),128))]})),_:1},8,["dataTable"])])]),(0,a.createVNode)(b,{formData:u.form,onRefreshData:p.fetchUsers},null,8,["formData","onRefreshData"])],64)}]])},5873:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var a=o(8222),r=function(e){return(0,a.pushScopeId)("data-v-94a4f04e"),e=e(),(0,a.popScopeId)(),e},n={class:"row"},i={class:"col-md-8 mx-auto"},l={key:0,class:"card"},s={class:"card-header"},c={class:"card-body"},d={class:"row"},m={class:"col-md-4"},u={class:"photo"},p=["src"],f={class:"col-md-8"},h={class:"tab-content p-3"},v={key:0},b={class:"row"},y=r((function(){return(0,a.createElementVNode)("dt",{class:"col-md-4"},"Прізвище Ім'я по Батькові",-1)})),E={class:"col-md-8"},N={class:"row"},V=r((function(){return(0,a.createElementVNode)("dt",{class:"col-md-4"},"Логін",-1)})),g={class:"col-md-8"},k={class:"row"},C=r((function(){return(0,a.createElementVNode)("dt",{class:"col-md-4"},"Електронна пошта",-1)})),w={class:"col-md-8"},D={class:"d-flex justify-content-end"},S={key:1},B=["for","title"],I=["id","value","disabled"],x={class:"d-flex justify-content-end"};var T=o(8877),U=o(5317),F=o(2675),z=o(547),Z=o(9413);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a,r,n,i,l=[],s=!0,c=!1;try{if(n=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;s=!1}else for(;!(s=(a=n.call(o)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}const q={name:"UserProfile",props:{id:{type:[String,Number],required:!0}},provide:function(){return{modalTitle:"Редагування користувача",modalSubmitCaption:"Зберегти"}},data:function(){return{user:{},formData:{id:null,name:"",user_name:"",email:"",position:""},tabs:[{tabName:"MainInfo",iconPath:U.jGv,title:"Головна інформація",activeTab:!0},{tabName:"Roles",iconPath:U.Aiv,title:"Ролі",activeTab:!1}],roles:[],currentTab:"MainInfo",rolesIsEditable:!1}},methods:{fetchUser:function(){var e=this;axios.get("/api/v1/users/".concat(this.id)).then((function(t){e.user=t.data.data}))},fetchRoles:function(){var e=this;axios.get("/api/v1/roles").then((function(t){e.roles=t.data.data}))},switchTab:function(e){this.currentTab=e,this.tabs.forEach((function(t){t.tabName==e?t.activeTab=!0:t.activeTab=!1}))},imageSelected:function(e){var t=this;console.log(e);var o=document.getElementById("userPhotoPreview"),a=_(e.target.files,1)[0];if(a){o.src=URL.createObjectURL(a);var r=new FormData;r.append("photo",e.target.files[0]);var n="/api/v1/users/".concat(this.id,"/upload-photo");axios.post(n,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&(t.fetchUser(),t.$toast(e.data.message))}))}},uploadImage:function(e){var t=this;axios.post(URL,e,config).then((function(e){200==e.status&&(t.fetchUser(),t.$toast(e.data.message))}))},editUser:function(){this.formData.id=this.user.id,this.formData.name=this.user.name,this.formData.user_name=this.user.user_name,this.formData.email=this.user.email,this.formData.position=this.user.position,new T.u_(document.getElementById("UserForm")).show()},editRoles:function(){this.rolesIsEditable=!0},cancelEditRoles:function(){this.rolesIsEditable=!1,this.fetchUser()},assignRoles:function(){var e=this,t={roles:this.user.roles.join(",")};axios.post("/api/v1/users/".concat(this.user.id,"/roles"),t).then((function(t){e.$toast(t.data.message),e.fetchUser(),e.rolesIsEditable=!1})).catch((function(t){e.fetchUser()}))},deleteUser:function(e){var t=this;this.$confirmDelete("Ви дійсно бажаєти видалити користувача").then((function(o){o.isConfirmed&&axios.delete("/api/v1/users/".concat(e)).then((function(e){t.$toast(e.data.message),t.$router.push({name:"users"})})).catch((function(e){t.$errorMessage("Неможливо видалити роль",e.response.data.message,"Зрозуміло")}))}))}},computed:{userPhotoPath:function(){return this.user.photo?"/users/".concat(this.user.photo):"/users/no-photo.jpg"}},created:function(){this.fetchUser(),this.fetchRoles()},components:{UserForm:F.Z,DropDownMenu:z.Z,NavigationTabs:Z.Z}};var P=o(3379),R=o.n(P),$=o(3112),j={insert:"head",singleton:!1};R()($.Z,j);$.Z.locals;const A=(0,o(3744).Z)(q,[["render",function(e,t,o,r,T,U){var F=(0,a.resolveComponent)("DropDownMenu"),z=(0,a.resolveComponent)("NavigationTabs"),Z=(0,a.resolveComponent)("UserForm");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",i,[T.user.name?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("h5",null,[(0,a.createTextVNode)("Інформація о користувачі: "),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(T.user.name),1)]),(0,a.createVNode)(F,{onEdit:U.editUser,onDelete:t[0]||(t[0]=function(e){return U.deleteUser(T.user.id)}),buttonClass:"btn-outline-secondary btn-transparent"},null,8,["onEdit"])]),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("img",{src:U.userPhotoPath,id:"userPhotoPreview"},null,8,p)]),(0,a.createElementVNode)("input",{type:"file",accept:"image/*",id:"file-input",name:"photo",onChange:t[1]||(t[1]=function(e){return U.imageSelected(e)})},null,32)]),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(z,{tabs:T.tabs,onClick:U.switchTab,tabType:"button"},null,8,["tabs","onClick"]),(0,a.createElementVNode)("div",h,["MainInfo"==T.currentTab?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("dl",b,[y,(0,a.createElementVNode)("dd",E,(0,a.toDisplayString)(T.user.name),1)]),(0,a.createElementVNode)("dl",N,[V,(0,a.createElementVNode)("dd",g,(0,a.toDisplayString)(T.user.user_name),1)]),(0,a.createElementVNode)("dl",k,[C,(0,a.createElementVNode)("dd",w,(0,a.toDisplayString)(T.user.email),1)])]),(0,a.createElementVNode)("div",D,[(0,a.createElementVNode)("button",{class:"btn btn-sm btn-outline-primary",title:"Назначити ролі",onClick:t[2]||(t[2]=function(){return U.editUser&&U.editUser.apply(U,arguments)})}," Редагувати ")])])):(0,a.createCommentVNode)("",!0),"Roles"==T.currentTab?((0,a.openBlock)(),(0,a.createElementBlock)("div",S,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(T.roles,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"form-check",key:e.id},[(0,a.createElementVNode)("label",{class:"form-check-label",for:e.code,title:e.description},(0,a.toDisplayString)(e.name),9,B),(0,a.withDirectives)((0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:e.code,value:e.id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.user.roles=e}),disabled:!T.rolesIsEditable},null,8,I),[[a.vModelCheckbox,T.user.roles]])])})),128)),(0,a.createElementVNode)("div",x,[T.rolesIsEditable?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,class:"btn btn-sm btn-outline-primary",title:"Назначити ролі",onClick:t[4]||(t[4]=function(){return U.editRoles&&U.editRoles.apply(U,arguments)})}," Редагувати ")),T.rolesIsEditable?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,class:"btn btn-sm btn-outline-danger me-1",title:"Відмінити призначення ролей",onClick:t[5]||(t[5]=function(){return U.cancelEditRoles&&U.cancelEditRoles.apply(U,arguments)})}," Відмінити ")):(0,a.createCommentVNode)("",!0),T.rolesIsEditable?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:2,class:"btn btn-sm btn-outline-primary",title:"Назначити ролі",onClick:t[6]||(t[6]=function(){return U.assignRoles&&U.assignRoles.apply(U,arguments)})}," Назначити ")):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)])])])])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(Z,{action:"update",formData:T.formData,onRefreshData:U.fetchUser},null,8,["formData","onRefreshData"])],64)}],["__scopeId","data-v-94a4f04e"]])}}]);